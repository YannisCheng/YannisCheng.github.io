<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Androidå„ä¸ªæ”¯æŒåº“]]></title>
    <url>%2FAndroid%E5%90%84%E4%B8%AA%E6%94%AF%E6%8C%81%E5%BA%93%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttps://developer.android.google.cn/topic/libraries/support-library/features.html ä¸€èˆ¬è€Œè¨€ï¼Œå»ºè®®æ·»åŠ  v4 æ”¯æŒåº“å’Œ v7 appcompat åº“ï¼Œå› ä¸ºå®ƒä»¬æ”¯æŒä¸€ç³»åˆ— Android ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºæ¨èçš„ç”¨æˆ·ç•Œé¢æ¨¡å¼æä¾› APIã€‚ v4 æ”¯æŒåº“è¿™äº›åº“æ—¨åœ¨ä¸ Android 2.3ï¼ˆAPI çº§åˆ« 9ï¼‰åŠæ›´é«˜ç‰ˆæœ¬æ­é…ä½¿ç”¨ã€‚ä¸å…¶ä»–æ”¯æŒåº“ç›¸æ¯”ï¼Œå®ƒä»¬åŒ…å«çš„ API é›†åˆæœ€å¤§ï¼ŒåŒ…æ‹¬å¯¹åº”ç”¨ç»„ä»¶ã€ç”¨æˆ·ç•Œé¢åŠŸèƒ½ã€è¾…åŠ©åŠŸèƒ½ã€æ•°æ®å¤„ç†ã€ç½‘ç»œè¿æ¥ä»¥åŠç¼–ç¨‹å®ç”¨å·¥å…·çš„æ”¯æŒã€‚ æ³¨æ„ï¼šåœ¨æ”¯æŒåº“ä¿®è®¢ç‰ˆ 24.2.0 ä¹‹å‰ï¼Œå­˜åœ¨ä¸€ä¸ª v4 æ”¯æŒåº“ã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæ­¤åº“æ‹†åˆ†æˆå¤šä¸ªæ¨¡å—ã€‚å‡ºäºå‘åå…¼å®¹çš„è€ƒè™‘ï¼Œå¦‚æœæ‚¨åœ¨ Gradle è„šæœ¬ä¸­åˆ—å‡ºäº† support-v4ï¼Œæ‚¨çš„ APK å°†åŒ…å«æ‰€æœ‰çš„ v4 æ¨¡å—ã€‚ä¸è¿‡ï¼Œè¦å‡å°‘ APK å¤§å°ï¼Œæˆ‘ä»¬å»ºè®®ä»…åˆ—å‡ºåº”ç”¨éœ€è¦çš„ç‰¹å®šæ¨¡å—ã€‚ v4 compat åº“ä¸ºä¼—å¤šæ¡†æ¶ API æä¾›å…¼å®¹æ€§åŒ…è£…å™¨ï¼Œä¾‹å¦‚ Context.obtainDrawable() å’Œ View.performAccessibilityAction()ã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:support-compat:24.2.0 v4 core-utils åº“æä¾›å¤§é‡å®ç”¨ç¨‹åºç±»ï¼Œä¾‹å¦‚ AsyncTaskLoader å’Œ PermissionCheckerã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:support-core-utils:24.2.0 v4 core-ui åº“å®ç°å„ç§ UI ç›¸å…³ç»„ä»¶ï¼Œä¾‹å¦‚ ViewPagerã€NestedScrollView å’Œ ExploreByTouchHelperã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:support-core-ui:24.2.0 v4 media-compat åº“å‘åç§»æ¤éƒ¨åˆ†åª’ä½“æ¡†æ¶ï¼ŒåŒ…æ‹¬ MediaBrowser å’Œ MediaSessionã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:support-media-compat:24.2.0 v4 fragment åº“æ·»åŠ å¯¹ä½¿ç”¨ç‰‡æ®µå°è£…ç”¨æˆ·ç•Œé¢å’ŒåŠŸèƒ½çš„æ”¯æŒï¼Œä»è€Œä½¿åº”ç”¨èƒ½å¤Ÿæä¾›å¯ä»¥åœ¨å¤§å±å¹•è®¾å¤‡ä¸å°å±å¹•è®¾å¤‡ä¹‹é—´è¿›è¡Œè°ƒèŠ‚çš„å¸ƒå±€ã€‚æ­¤æ¨¡å—ä¾èµ–äºcompatã€core-utilsã€core-ui å’Œ media-compatã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:support-fragment:24.2.0 v7 æ”¯æŒåº“ä¸€äº›åº“æ—¨åœ¨ä¸ Android 2.3ï¼ˆAPI çº§åˆ« 9ï¼‰åŠæ›´é«˜ç‰ˆæœ¬æ­é…ä½¿ç”¨ã€‚è¿™äº›åº“æä¾›äº†ç‰¹å®šçš„åŠŸèƒ½é›†ï¼Œå¹¶ä¸”å¯ä»¥å•ç‹¬æ·»åŠ åˆ°åº”ç”¨ä¸­ï¼Œä¸å…¶ä»–åº“äº’ä¸å½±å“ã€‚ v7 appcompat åº“æ­¤åº“æ·»åŠ äº†å¯¹æ“ä½œæ ç”¨æˆ·ç•Œé¢è®¾è®¡æ¨¡å¼çš„æ”¯æŒã€‚æ­¤åº“åŒ…å«å¯¹ Material Design ç”¨æˆ·ç•Œé¢å®ç°çš„æ”¯æŒã€‚ æ³¨æ„ï¼šæ­¤åº“ä¾èµ–äº v4 æ”¯æŒåº“ã€‚ ä¸‹é¢æ˜¯ v7 appcompat åº“ä¸­åŒ…å«çš„ä¸€äº›å…³é”®ç±»ï¼š ActionBar - æä¾›æ“ä½œæ ç”¨æˆ·ç•Œé¢æ¨¡å¼çš„å®ç°ã€‚å¦‚éœ€äº†è§£æœ‰å…³ä½¿ç”¨æ“ä½œæ çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ“ä½œæ å¼€å‘è€…æŒ‡å—ã€‚ AppCompatActivity - æ·»åŠ ä¸€ä¸ªåº”ç”¨ Activity ç±»ï¼Œæ­¤ç±»å¯ä½œä¸ºä½¿ç”¨æ”¯æŒåº“æ“ä½œæ å®ç°çš„ Activity çš„åŸºç¡€ç±»ã€‚ AppCompatDialog - æ·»åŠ ä¸€ä¸ªå¯¹è¯æ¡†ç±»ï¼Œæ­¤ç±»å¯ä½œä¸º AppCompat ä¸»é¢˜å¯¹è¯æ¡†çš„åŸºç¡€ç±»ã€‚ ShareActionProvider - åŒ…å«å¯¹å¯ä»¥æ·»åŠ åˆ°æ“ä½œæ ä¸­çš„æ ‡å‡†åŒ–åˆ†äº«æ“ä½œï¼ˆä¾‹å¦‚ç”µå­é‚®ä»¶æˆ–å‘å¸–è‡³ç¤¾äº¤åº”ç”¨ï¼‰çš„æ”¯æŒã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:appcompat-v7:24.2.0 v7 cardview åº“æ­¤åº“æ·»åŠ äº†å¯¹ CardView å°éƒ¨ä»¶çš„æ”¯æŒï¼Œè®©æ‚¨èƒ½å¤Ÿåœ¨å¡ç‰‡å†…æ˜¾ç¤ºä¿¡æ¯ï¼Œä»è€Œä½¿åº”ç”¨å…·å¤‡ä¸€è‡´çš„å¤–è§‚ã€‚è¿™äº›å¡ç‰‡å¯¹ Material Design å®ç°éå¸¸æœ‰ç”¨ï¼Œå¹¶åœ¨ç”µè§†åº”ç”¨å¸ƒå±€ä¸­å¹¿ä¸ºä½¿ç”¨ã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:cardview-v7:24.2.0 v7 gridlayout åº“ä¸‹è½½ Android æ”¯æŒåº“åï¼Œæ­¤åº“å¯ä»¥æ·»åŠ å¯¹ GridLayout ç±»çš„æ”¯æŒï¼Œè®©æ‚¨èƒ½å¤Ÿä½¿ç”¨ç½‘çŠ¶æ–¹æ ¼å®‰æ’ç”¨æˆ·ç•Œé¢å…ƒç´ ã€‚å¦‚éœ€äº†è§£æœ‰å…³ v7 gridlayout åº“ API çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… API å‚è€ƒä¸­çš„ android.support.v7.widget è½¯ä»¶åŒ…ã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:gridlayout-v7:24.2.0 v7 mediarouter åº“æ­¤åº“å¯ä»¥æä¾› MediaRouterã€MediaRouteProvider å’Œæ”¯æŒ Google Cast çš„ç›¸å…³åª’ä½“ç±»ã€‚ ä¸€èˆ¬è€Œè¨€ï¼Œåˆ©ç”¨ v7 mediarouter åº“ä¸­çš„ APIï¼Œæ‚¨å¯ä»¥æ§åˆ¶å½“å‰è®¾å¤‡åˆ°å¤–éƒ¨å±å¹•ã€æ‰¬å£°å™¨å’Œå…¶ä»–ç›®æ ‡è®¾å¤‡çš„åª’ä½“æ¸ é“å’Œæµçš„è·¯ç”±ã€‚æ­¤åº“åŒ…å«çš„ API å¯ä»¥ç”¨äºå‘å¸ƒåº”ç”¨ç‰¹å®šçš„åª’ä½“è·¯ç”±æä¾›ç¨‹åºã€å‘ç°å’Œé€‰æ‹©ç›®æ ‡è®¾å¤‡ï¼Œä»¥åŠæ£€æŸ¥åª’ä½“çŠ¶æ€ï¼Œç­‰ç­‰ã€‚å¦‚éœ€äº†è§£æœ‰å…³ v7 mediarouter åº“ API çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… API å‚è€ƒä¸­çš„ android.support.v7.media è½¯ä»¶åŒ…ã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:mediarouter-v7:24.2.0 v7 palette åº“v7 palette æ”¯æŒåº“åŒ…å« s ç±»ï¼Œæ­¤ç±»è®©æ‚¨å¯ä»¥ä»å›¾åƒä¸­æŠ½å–çªå‡ºé¢œè‰²ã€‚ä¾‹å¦‚ï¼ŒéŸ³ä¹åº”ç”¨å¯ä»¥ä½¿ç”¨ Palette å¯¹è±¡ä»ä¸“è¾‘å°é¢æŠ½å–ä¸»è¦é¢œè‰²ï¼Œç„¶åä½¿ç”¨è¿™äº›é¢œè‰²åˆ›å»ºä¸€ä¸ªè‰²å½©åè°ƒçš„æ­Œæ›²æ ‡é¢˜å¡ã€‚ æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:palette-v7:24.2.0 v7 recyclerview åº“recyclerview åº“æ·»åŠ äº† RecyclerView ç±»ã€‚æ­¤ç±»èƒ½å¤Ÿä¸º RecyclerView å°éƒ¨ä»¶æä¾›æ”¯æŒï¼ŒRecyclerView æ˜¯ä¸€ç§é€šè¿‡æä¾›æœ‰é™çš„æ•°æ®é¡¹çª—å£æœ‰æ•ˆæ˜¾ç¤ºå¤§æ•°æ®é›†çš„è§†å›¾ã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:recyclerview-v7:24.2.0 v7 Preference æ”¯æŒåº“é¦–é€‰é¡¹è½¯ä»¶åŒ…æä¾›çš„ API æ”¯æŒæ·»åŠ  preference å¯¹è±¡ï¼ˆä¾‹å¦‚ CheckBoxPreference å’Œ ListPreferenceï¼‰ï¼Œæ–¹ä¾¿ç”¨æˆ·ä¿®æ”¹ UI è®¾ç½®ã€‚ v7 Preference åº“æ·»åŠ äº†å¯¹æ¥å£ï¼ˆä¾‹å¦‚ Preference.OnPreferenceChangeListener å’Œ Preference.OnPreferenceClickListenerï¼‰ä»¥åŠç±»ï¼ˆä¾‹å¦‚ CheckBoxPreference å’Œ ListPreferenceï¼‰çš„æ”¯æŒã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:preference-v7:24.2.0 Dalvik å¯æ‰§è¡Œæ–‡ä»¶åˆ†åŒ…æ”¯æŒåº“æ­¤åº“å¯ä»¥ä¸ºä½¿ç”¨å¤šä¸ª Dalvik Executable (DEX) æ–‡ä»¶å¼€å‘åº”ç”¨æä¾›æ”¯æŒã€‚å¼•ç”¨è¶…è¿‡ 65536 ä¸ªæ–¹æ³•çš„åº”ç”¨é¡»ä½¿ç”¨ Dalvik å¯æ‰§è¡Œæ–‡ä»¶åˆ†åŒ…é…ç½®ã€‚å¦‚éœ€äº†è§£æœ‰å…³ä½¿ç”¨ Dalvik å¯æ‰§è¡Œæ–‡ä»¶åˆ†åŒ…çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä½¿ç”¨è¶…è¿‡ 6.4 ä¸‡ç§æ–¹æ³•å¼€å‘åº”ç”¨ã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:multidex:1.0.0 æ³¨è§£æ”¯æŒåº“æ³¨è§£è½¯ä»¶åŒ…æä¾›çš„ API æ”¯æŒå‘åº”ç”¨ä¸­æ·»åŠ æ³¨è§£å…ƒæ•°æ®ã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:support-annotations:24.2.0 è®¾è®¡æ”¯æŒåº“è®¾è®¡è½¯ä»¶åŒ…æä¾›çš„ API æ”¯æŒå‘åº”ç”¨ä¸­æ·»åŠ  Material Design ç»„ä»¶å’Œæ¨¡å¼ã€‚ è®¾è®¡æ”¯æŒåº“æ·»åŠ äº†å¯¹åº”ç”¨å¼€å‘è€…ä¾èµ–çš„å„ç§ Material Design ç»„ä»¶å’Œæ¨¡å¼çš„æ”¯æŒï¼Œä¾‹å¦‚æŠ½å±‰å¼å¯¼èˆªæ ã€æµ®åŠ¨æ“ä½œæŒ‰é’® (FAB)ã€å¿«æ·ä¿¡æ¯æ å’Œæ ‡ç­¾é¡µã€‚æ­¤åº“çš„ Gradle æ„å»ºè„šæœ¬ä¾èµ–å…³ç³»æ ‡è¯†ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š 1com.android.support:design:24.2.0]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidä¼ ç»Ÿè“ç‰™å¼€å‘]]></title>
    <url>%2FAndroid%E4%BC%A0%E7%BB%9F%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttps://developer.android.google.cn/guide/topics/connectivity/bluetooth.html åè¯ RFCOMM ï¼šä¸²è¡Œç”µç¼†ä»¿çœŸåè®®ã€‚ Android ä¼ ç»Ÿè“ç‰™ Bluetooth APIä¼ ç»Ÿè“ç‰™é€‚ç”¨äºç”µæ± ä½¿ç”¨å¼ºåº¦è¾ƒå¤§çš„æ“ä½œï¼Œä¾‹å¦‚ Android è®¾å¤‡ä¹‹é—´çš„æµå¼ä¼ è¾“å’Œé€šä¿¡ç­‰ã€‚ä½¿ç”¨ Bluetooth APIï¼ŒAndroid åº”ç”¨å¯æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š æ‰«æå…¶ä»–è“ç‰™è®¾å¤‡ æŸ¥è¯¢æœ¬åœ°è“ç‰™é€‚é…å™¨çš„é…å¯¹è“ç‰™è®¾å¤‡ å»ºç«‹ RFCOMM é€šé“ é€šè¿‡æœåŠ¡å‘ç°è¿æ¥åˆ°å…¶ä»–è®¾å¤‡ ä¸å…¶ä»–è®¾å¤‡è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ ç®¡ç†å¤šä¸ªè¿æ¥ åŸºç¡€ä½¿ç”¨ Android Bluetooth API æ¥å®Œæˆä½¿ç”¨è“ç‰™è¿›è¡Œé€šä¿¡çš„å››é¡¹ä¸»è¦ä»»åŠ¡ï¼š è®¾ç½®è“ç‰™ æŸ¥æ‰¾å±€éƒ¨åŒºåŸŸå†…çš„é…å¯¹è®¾å¤‡æˆ–å¯ç”¨è®¾å¤‡ è¿æ¥è®¾å¤‡ åœ¨è®¾å¤‡ä¹‹é—´ä¼ è¾“æ•°æ® åˆ›å»ºè“ç‰™è¿æ¥æ‰€éœ€çš„ç±»å’Œæ¥å£ï¼šBluetoothAdapterè¡¨ç¤ºæœ¬åœ°è“ç‰™é€‚é…å™¨ï¼ˆè“ç‰™æ— çº¿è£…ç½®ï¼‰ã€‚ BluetoothAdapter æ˜¯æ‰€æœ‰è“ç‰™äº¤äº’çš„å…¥å£ç‚¹ã€‚ åˆ©ç”¨å®ƒå¯ä»¥å‘ç°å…¶ä»–è“ç‰™è®¾å¤‡ï¼ŒæŸ¥è¯¢ç»‘å®šï¼ˆé…å¯¹ï¼‰è®¾å¤‡çš„åˆ—è¡¨ï¼Œä½¿ç”¨å·²çŸ¥çš„ MAC åœ°å€å®ä¾‹åŒ– BluetoothDeviceï¼Œä»¥åŠåˆ›å»º BluetoothServerSocket ä»¥ä¾¦å¬æ¥è‡ªå…¶ä»–è®¾å¤‡çš„é€šä¿¡ã€‚ BluetoothDeviceè¡¨ç¤ºè¿œç¨‹è“ç‰™è®¾å¤‡ã€‚åˆ©ç”¨å®ƒå¯ä»¥é€šè¿‡ BluetoothSocket è¯·æ±‚ä¸æŸä¸ªè¿œç¨‹è®¾å¤‡å»ºç«‹è¿æ¥ï¼Œæˆ–æŸ¥è¯¢æœ‰å…³è¯¥è®¾å¤‡çš„ä¿¡æ¯ï¼Œä¾‹å¦‚è®¾å¤‡çš„åç§°ã€åœ°å€ã€ç±»å’Œç»‘å®šçŠ¶æ€ç­‰ã€‚BluetoothSocketè¡¨ç¤ºè“ç‰™å¥—æ¥å­—æ¥å£ï¼ˆä¸ TCP Socket ç›¸ä¼¼ï¼‰ã€‚è¿™æ˜¯å…è®¸åº”ç”¨é€šè¿‡ InputStream å’Œ OutputStream ä¸å…¶ä»–è“ç‰™è®¾å¤‡äº¤æ¢æ•°æ®çš„è¿æ¥ç‚¹ã€‚ BluetoothServerSocketè¡¨ç¤ºç”¨äºä¾¦å¬ä¼ å…¥è¯·æ±‚çš„å¼€æ”¾æœåŠ¡å™¨å¥—æ¥å­—ï¼ˆç±»ä¼¼äº TCP ServerSocketï¼‰ã€‚ è¦è¿æ¥ä¸¤å° Android è®¾å¤‡ï¼Œå…¶ä¸­ä¸€å°è®¾å¤‡å¿…é¡»ä½¿ç”¨æ­¤ç±»å¼€æ”¾ä¸€ä¸ªæœåŠ¡å™¨å¥—æ¥å­—ã€‚ å½“ä¸€å°è¿œç¨‹è“ç‰™è®¾å¤‡å‘æ­¤è®¾å¤‡å‘å‡ºè¿æ¥è¯·æ±‚æ—¶ï¼Œ BluetoothServerSocket å°†ä¼šåœ¨æ¥å—è¿æ¥åè¿”å›å·²è¿æ¥çš„ BluetoothSocketã€‚ BluetoothClassæè¿°è“ç‰™è®¾å¤‡çš„ä¸€èˆ¬ç‰¹å¾å’ŒåŠŸèƒ½ã€‚ è¿™æ˜¯ä¸€ç»„åªè¯»å±æ€§ï¼Œç”¨äºå®šä¹‰è®¾å¤‡çš„ä¸»è¦å’Œæ¬¡è¦è®¾å¤‡ç±»åŠå…¶æœåŠ¡ã€‚ ä¸è¿‡ï¼Œå®ƒä¸èƒ½å¯é åœ°æè¿°è®¾å¤‡æ”¯æŒçš„æ‰€æœ‰è“ç‰™é…ç½®æ–‡ä»¶å’ŒæœåŠ¡ï¼Œè€Œæ˜¯é€‚åˆä½œä¸ºè®¾å¤‡ç±»å‹æç¤ºã€‚BluetoothProfileè¡¨ç¤ºè“ç‰™é…ç½®æ–‡ä»¶çš„æ¥å£ã€‚ è“ç‰™é…ç½®æ–‡ä»¶æ˜¯é€‚ç”¨äºè®¾å¤‡é—´è“ç‰™é€šä¿¡çš„æ— çº¿æ¥å£è§„èŒƒã€‚ å…æé…ç½®æ–‡ä»¶ä¾¿æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚ å¦‚éœ€äº†è§£æœ‰å…³é…ç½®æ–‡ä»¶çš„è¯¦ç»†è®¨è®ºï¼Œè¯·å‚é˜…ä½¿ç”¨é…ç½®æ–‡ä»¶ BluetoothHeadsetæä¾›è“ç‰™è€³æœºæ”¯æŒï¼Œä»¥ä¾¿ä¸æ‰‹æœºé…åˆä½¿ç”¨ã€‚ å…¶ä¸­åŒ…æ‹¬è“ç‰™è€³æœºå’Œå…æï¼ˆ1.5 ç‰ˆï¼‰é…ç½®æ–‡ä»¶ã€‚ BluetoothA2dpå®šä¹‰é«˜è´¨é‡éŸ³é¢‘å¦‚ä½•é€šè¿‡è“ç‰™è¿æ¥å’Œæµå¼ä¼ è¾“ï¼Œä»ä¸€å°è®¾å¤‡ä¼ è¾“åˆ°å¦ä¸€å°è®¾å¤‡ã€‚â€œA2DPâ€ä»£è¡¨é«˜çº§éŸ³é¢‘åˆ†å‘é…ç½®æ–‡ä»¶ã€‚ BluetoothHealthè¡¨ç¤ºç”¨äºæ§åˆ¶è“ç‰™æœåŠ¡çš„å¥åº·è®¾å¤‡é…ç½®æ–‡ä»¶ä»£ç†ã€‚ BluetoothHealthCallbackç”¨äºå®ç° BluetoothHealth å›è°ƒçš„æŠ½è±¡ç±»ã€‚æ‚¨å¿…é¡»æ‰©å±•æ­¤ç±»å¹¶å®ç°å›è°ƒæ–¹æ³•ï¼Œä»¥æ¥æ”¶å…³äºåº”ç”¨æ³¨å†ŒçŠ¶æ€å’Œè“ç‰™é€šé“çŠ¶æ€å˜åŒ–çš„æ›´æ–°å†…å®¹ã€‚ BluetoothHealthAppConfigurationè¡¨ç¤ºç¬¬ä¸‰æ–¹è“ç‰™å¥åº·åº”ç”¨æ³¨å†Œçš„åº”ç”¨é…ç½®ï¼Œä»¥ä¾¿ä¸è¿œç¨‹è“ç‰™å¥åº·è®¾å¤‡é€šä¿¡ã€‚ BluetoothProfile.ServiceListeneråœ¨ BluetoothProfile IPC å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡ï¼ˆå³ï¼Œè¿è¡Œç‰¹å®šé…ç½®æ–‡ä»¶çš„å†…éƒ¨æœåŠ¡ï¼‰æˆ–æ–­å¼€æœåŠ¡è¿æ¥æ—¶å‘å…¶å‘é€é€šçŸ¥çš„æ¥å£ã€‚ è“ç‰™æƒé™ è“ç‰™æƒé™ BLUETOOTH : è¦åœ¨åº”ç”¨ä¸­ä½¿ç”¨è“ç‰™åŠŸèƒ½ï¼Œå¿…é¡»å£°æ˜è“ç‰™æƒé™ BLUETOOTHã€‚æ‚¨éœ€è¦æ­¤æƒé™æ‰èƒ½æ‰§è¡Œä»»ä½•è“ç‰™é€šä¿¡ï¼Œä¾‹å¦‚è¯·æ±‚è¿æ¥ã€æ¥å—è¿æ¥å’Œä¼ è¾“æ•°æ®ç­‰ã€‚ è“ç‰™æƒé™ BLUETOOTH_ADMIN : å¦‚æœä½ å¸Œæœ›ä½ çš„åº”ç”¨å¯åŠ¨è®¾å¤‡å‘ç°æˆ–æ“ä½œè“ç‰™è®¾ç½® æ³¨æ„ï¼šå¦‚æœè¦ä½¿ç”¨ BLUETOOTH_ADMIN æƒé™ï¼Œåˆ™è¿˜å¿…é¡»æ‹¥æœ‰ BLUETOOTH æƒé™ã€‚ è®¾ç½®è“ç‰™è·å–BluetoothAdapterï¼Œå¹¶æ£€æµ‹è®¾å¤‡æ˜¯å¦æ”¯æŒè“ç‰™1234BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();if (mBluetoothAdapter == null) &#123; // Device does not support Bluetooth&#125; å¯ç”¨è“ç‰™1234if (!mBluetoothAdapter.isEnabled()) &#123; Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE); startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);&#125; æ³¨æ„ ï¼š æ­¤å¤„çš„ REQUEST_ENABLE_BT æ˜¯è‡ªå·±ç¼–å†™å®šä¹‰çš„å±€éƒ¨å¸¸é‡ï¼ˆå¿…é¡»&gt;0ï¼‰ è¿›è¡Œåˆ¤æ–­ä¹‹åï¼Œç›‘å¬ç”¨æˆ·çš„æ“ä½œï¼šæ–¹å¼1ï¼š é‡å†™onActivityResult()å¦‚æœæˆåŠŸå¯ç”¨è“ç‰™ï¼ŒActivity å°†ä¼šåœ¨ onActivityResult() å›è°ƒä¸­æ”¶åˆ° RESULT_OK ç»“æœä»£ç ã€‚ å¦‚æœç”±äºæŸä¸ªé”™è¯¯ï¼ˆæˆ–ç”¨æˆ·å“åº”â€œNoâ€ï¼‰è€Œæ²¡æœ‰å¯ç”¨è“ç‰™ï¼Œåˆ™ç»“æœä»£ç ä¸º RESULT_CANCELEDã€‚ æ–¹å¼2ï¼šä¾¦å¬ ACTION_STATE_CHANGED å¹¿æ’­ Intentæ¯å½“è“ç‰™çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç³»ç»Ÿéƒ½ä¼šå¹¿æ’­æ­¤ Intentã€‚ æ­¤å¹¿æ’­åŒ…å«é¢å¤–å­—æ®µ EXTRA_STATE å’Œ EXTRA_PREVIOUS_STATEï¼ŒäºŒè€…åˆ†åˆ«åŒ…å«æ–°çš„å’Œæ—§çš„è“ç‰™çŠ¶æ€ã€‚ è¿™äº›é¢å¤–å­—æ®µå¯èƒ½çš„å€¼åŒ…æ‹¬ STATE_TURNING_ONã€STATE_ONã€STATE_TURNING_OFF å’Œ STATE_OFFã€‚ä¾¦å¬æ­¤å¹¿æ’­é€‚ç”¨äºæ£€æµ‹åœ¨æ‚¨çš„åº”ç”¨è¿è¡ŒæœŸé—´å¯¹è“ç‰™çŠ¶æ€æ‰€åšçš„æ›´æ”¹ã€‚ æç¤º ï¼šå¯ç”¨å¯æ£€æµ‹æ€§å°†ä¼šè‡ªåŠ¨å¯ç”¨è“ç‰™ã€‚ å¦‚æœæ‚¨è®¡åˆ’åœ¨æ‰§è¡Œè“ç‰™ Activity ä¹‹å‰ä¸€ç›´å¯ç”¨è®¾å¤‡çš„å¯æ£€æµ‹æ€§ï¼Œåˆ™å¯ä»¥è·³è¿‡ â€œå¯ç”¨è“ç‰™â€æ­¥éª¤ æŸ¥æ‰¾è®¾å¤‡ä½¿ç”¨ BluetoothAdapterï¼Œå¯ä»¥é€šè¿‡è®¾å¤‡å‘ç°æˆ–é€šè¿‡æŸ¥è¯¢é…å¯¹ï¼ˆç»‘å®šï¼‰è®¾å¤‡çš„åˆ—è¡¨æ¥æŸ¥æ‰¾è¿œç¨‹è“ç‰™è®¾å¤‡ã€‚ è®¾å¤‡å‘ç°æ˜¯ä¸€ä¸ªæ‰«æè¿‡ç¨‹ï¼Œå®ƒä¼šæœç´¢å±€éƒ¨åŒºåŸŸå†…å·²å¯ç”¨è“ç‰™åŠŸèƒ½çš„è®¾å¤‡ï¼Œç„¶åè¯·æ±‚ä¸€äº›å…³äºå„å°è®¾å¤‡çš„ä¿¡æ¯ã€‚ä½†å±€éƒ¨åŒºåŸŸå†…çš„è“ç‰™è®¾å¤‡ä»…åœ¨å…¶å½“å‰å·²å¯ç”¨å¯æ£€æµ‹æ€§æ—¶æ‰ä¼šå“åº”å‘ç°è¯·æ±‚ã€‚ å¦‚æœè®¾å¤‡å¯æ£€æµ‹åˆ°ï¼Œå®ƒå°†é€šè¿‡å…±äº«ä¸€äº›ä¿¡æ¯ï¼ˆä¾‹å¦‚è®¾å¤‡åç§°ã€ç±»åŠå…¶å”¯ä¸€ MAC åœ°å€ï¼‰æ¥å“åº”å‘ç°è¯·æ±‚ã€‚ åˆ©ç”¨æ­¤ä¿¡æ¯ï¼Œæ‰§è¡Œå‘ç°çš„è®¾å¤‡å¯ä»¥é€‰æ‹©å‘èµ·åˆ°è¢«å‘ç°è®¾å¤‡çš„è¿æ¥ã€‚ åœ¨é¦–æ¬¡ä¸è¿œç¨‹è®¾å¤‡å»ºç«‹è¿æ¥åï¼Œå°†ä¼šè‡ªåŠ¨å‘ç”¨æˆ·æ˜¾ç¤ºé…å¯¹è¯·æ±‚ã€‚ è®¾å¤‡å®Œæˆé…å¯¹åï¼Œå°†ä¼šä¿å­˜å…³äºè¯¥è®¾å¤‡çš„åŸºæœ¬ä¿¡æ¯ï¼ˆä¾‹å¦‚è®¾å¤‡åç§°ã€ç±»å’Œ MAC åœ°å€ï¼‰ï¼Œå¹¶ä¸”å¯ä½¿ç”¨ Bluetooth API è¯»å–è¿™äº›ä¿¡æ¯ã€‚ åˆ©ç”¨è¿œç¨‹è®¾å¤‡çš„å·²çŸ¥ MAC åœ°å€å¯éšæ—¶å‘å…¶å‘èµ·è¿æ¥ï¼Œè€Œæ— éœ€æ‰§è¡Œå‘ç°æ“ä½œï¼ˆå‡å®šè¯¥è®¾å¤‡å¤„äºæœ‰æ•ˆèŒƒå›´å†…ï¼‰ã€‚ æ³¨ï¼šAndroid è®¾å¤‡é»˜è®¤å¤„äºä¸å¯æ£€æµ‹åˆ°çŠ¶æ€ã€‚ ç”¨æˆ·å¯é€šè¿‡ç³»ç»Ÿè®¾ç½®å°†è®¾å¤‡è®¾ä¸ºåœ¨æœ‰é™çš„æ—¶é—´å†…å¤„äºå¯æ£€æµ‹åˆ°çŠ¶æ€ï¼Œæˆ–è€…ï¼Œåº”ç”¨å¯è¯·æ±‚ç”¨æˆ·åœ¨ä¸ç¦»å¼€åº”ç”¨çš„åŒæ—¶å¯ç”¨å¯æ£€æµ‹æ€§ã€‚ æŸ¥è¯¢å·²é…å¯¹çš„è®¾å¤‡åœ¨æ‰§è¡Œè®¾å¤‡å‘ç°ä¹‹å‰ï¼Œæœ‰å¿…è¦æŸ¥è¯¢å·²é…å¯¹çš„è®¾å¤‡é›†ï¼Œä»¥äº†è§£æ‰€éœ€çš„è®¾å¤‡æ˜¯å¦å¤„äºå·²çŸ¥çŠ¶æ€ã€‚ 123456Set&lt;BluetoothDevice&gt; devices = mBluetoothAdapter.getBondedDevices(); if (devices.size() &gt; 0) &#123; for (BluetoothDevice device: devices) &#123; Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; dealBluetooth device Name : " + device.getName() + ", Address : " + device.getAddress()); &#125; &#125; è‹¥è¦å‘èµ·è¿æ¥ï¼ŒBluetoothDevice å¯¹è±¡ä»…ä»…éœ€è¦æä¾› MAC åœ°å€å³å¯ã€‚ å‘ç°è®¾å¤‡è¦å¼€å§‹å‘ç°è®¾å¤‡ï¼Œåªéœ€è°ƒç”¨ startDiscovery()ã€‚è¯¥è¿›ç¨‹ä¸ºå¼‚æ­¥è¿›ç¨‹ï¼Œå¹¶ä¸”è¯¥æ–¹æ³•ä¼šç«‹å³è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºæ˜¯å¦å·²æˆåŠŸå¯åŠ¨å‘ç°æ“ä½œã€‚ å‘ç°è¿›ç¨‹é€šå¸¸åŒ…å«çº¦12 ç§’é’Ÿçš„æŸ¥è¯¢æ‰«æï¼Œä¹‹åå¯¹æ¯å°å‘ç°çš„è®¾å¤‡è¿›è¡Œé¡µé¢æ‰«æï¼Œä»¥æ£€ç´¢å…¶è“ç‰™åç§°ã€‚ æ‚¨çš„åº”ç”¨å¿…é¡»é’ˆå¯¹ ACTION_FOUND Intent æ³¨å†Œä¸€ä¸ª BroadcastReceiverï¼Œä»¥ä¾¿æ¥æ”¶æ¯å°å‘ç°çš„è®¾å¤‡çš„ç›¸å…³ä¿¡æ¯ã€‚ é’ˆå¯¹æ¯å°è®¾å¤‡ï¼Œç³»ç»Ÿå°†ä¼šå¹¿æ’­ ACTION_FOUND Intentã€‚æ­¤ Intent å°†æºå¸¦é¢å¤–å­—æ®µ EXTRA_DEVICE å’Œ EXTRA_CLASSï¼ŒäºŒè€…åˆ†åˆ«åŒ…å« BluetoothDevice å’Œ BluetoothClassã€‚ ä¾‹å¦‚ï¼Œä¸‹é¢è¯´æ˜äº†åœ¨å‘ç°è®¾å¤‡æ—¶å¦‚ä½•æ³¨å†Œä»¥å¤„ç†å¹¿æ’­ã€‚ 12345678910111213141516// Create a BroadcastReceiver for ACTION_FOUNDprivate final BroadcastReceiver mReceiver = new BroadcastReceiver() &#123; public void onReceive(Context context, Intent intent) &#123; String action = intent.getAction(); // When discovery finds a device if (BluetoothDevice.ACTION_FOUND.equals(action)) &#123; // Get the BluetoothDevice object from the Intent BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE); // Add the name and address to an array adapter to show in a ListView mArrayAdapter.add(device.getName() + "\n" + device.getAddress()); &#125; &#125;&#125;;// Register the BroadcastReceiverIntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);registerReceiver(mReceiver, filter); // Don't forget to unregister during onDestroy æ³¨æ„ï¼šæ‰§è¡Œè®¾å¤‡å‘ç°å¯¹äºè“ç‰™é€‚é…å™¨è€Œè¨€æ˜¯ä¸€ä¸ªéå¸¸ç¹é‡çš„æ“ä½œè¿‡ç¨‹ï¼Œå¹¶ä¸”ä¼šæ¶ˆè€—å¤§é‡èµ„æºã€‚ åœ¨æ‰¾åˆ°è¦è¿æ¥çš„è®¾å¤‡åï¼Œç¡®ä¿å§‹ç»ˆä½¿ç”¨ cancelDiscovery()åœæ­¢å‘ç°ï¼Œç„¶åå†å°è¯•è¿æ¥ã€‚ æ­¤å¤–ï¼Œå¦‚æœæ‚¨å·²ç»ä¿æŒä¸æŸå°è®¾å¤‡çš„è¿æ¥ï¼Œé‚£ä¹ˆæ‰§è¡Œå‘ç°æ“ä½œå¯èƒ½ä¼šå¤§å¹…å‡å°‘å¯ç”¨äºè¯¥è¿æ¥çš„å¸¦å®½ï¼Œå› æ­¤ä¸åº”è¯¥åœ¨å¤„äºè¿æ¥çŠ¶æ€æ—¶æ‰§è¡Œå‘ç°æ“ä½œã€‚ å¯ç”¨å¯æ£€æµ‹æ€§å¦‚æœå¸Œæœ›å°†æœ¬åœ°è®¾å¤‡è®¾ä¸ºå¯è¢«å…¶ä»–è®¾å¤‡æ£€æµ‹åˆ°ï¼Œè¯·ä½¿ç”¨ ACTION_REQUEST_DISCOVERABLE æ“ä½œ Intent è°ƒç”¨ startActivityForResult(Intent, int)ã€‚è¿™å°†é€šè¿‡ç³»ç»Ÿè®¾ç½®å‘å‡ºå¯ç”¨å¯æ£€æµ‹åˆ°æ¨¡å¼çš„è¯·æ±‚ï¼ˆæ— éœ€åœæ­¢æ‚¨çš„åº”ç”¨ï¼‰ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¾å¤‡å°†å˜ä¸ºå¯æ£€æµ‹åˆ°å¹¶æŒç»­ 120 ç§’é’Ÿã€‚æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ  EXTRA_DISCOVERABLE_DURATION Intent Extra æ¥å®šä¹‰ä¸åŒçš„æŒç»­æ—¶é—´ã€‚ åº”ç”¨å¯ä»¥è®¾ç½®çš„æœ€å¤§æŒç»­æ—¶é—´ä¸º 3600 ç§’ï¼Œå€¼ä¸º 0 åˆ™è¡¨ç¤ºè®¾å¤‡å§‹ç»ˆå¯æ£€æµ‹åˆ°ã€‚ ä»»ä½•å°äº 0 æˆ–å¤§äº 3600 çš„å€¼éƒ½ä¼šè‡ªåŠ¨è®¾ä¸º120ç§’ã€‚ ä¾‹å¦‚ï¼Œä»¥ä¸‹ç‰‡æ®µä¼šå°†æŒç»­æ—¶é—´è®¾ä¸º 300 ç§’ï¼š 123Intent discoverableIntent = newIntent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300); å¦‚æœæ‚¨å°†è¦å‘èµ·åˆ°è¿œç¨‹è®¾å¤‡çš„è¿æ¥ï¼Œåˆ™æ— éœ€å¯ç”¨è®¾å¤‡å¯æ£€æµ‹æ€§ã€‚ ä»…å½“æ‚¨å¸Œæœ›æ‚¨çš„åº”ç”¨æ‰˜ç®¡å°†ç”¨äºæ¥å—ä¼ å…¥è¿æ¥çš„æœåŠ¡å™¨å¥—æ¥å­—æ—¶ï¼Œæ‰æœ‰å¿…è¦å¯ç”¨å¯æ£€æµ‹æ€§ï¼Œå› ä¸ºè¿œç¨‹è®¾å¤‡å¿…é¡»èƒ½å¤Ÿå‘ç°è¯¥è®¾å¤‡ï¼Œç„¶åæ‰èƒ½å‘èµ·è¿æ¥ è¿æ¥è®¾å¤‡è¦åœ¨ä¸¤å°è®¾å¤‡ä¸Šçš„åº”ç”¨ä¹‹é—´åˆ›å»ºè¿æ¥ï¼Œå¿…é¡»åŒæ—¶å®ç°æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯æœºåˆ¶ï¼Œå› ä¸ºå…¶ä¸­ä¸€å°è®¾å¤‡å¿…é¡»å¼€æ”¾æœåŠ¡å™¨å¥—æ¥å­—ï¼Œè€Œå¦ä¸€å°è®¾å¤‡å¿…é¡»å‘èµ·è¿æ¥ï¼ˆä½¿ç”¨æœåŠ¡å™¨è®¾å¤‡çš„ MAC åœ°å€å‘èµ·è¿æ¥ï¼‰ã€‚ å½“æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åœ¨åŒä¸€ RFCOMM é€šé“ä¸Šåˆ†åˆ«æ‹¥æœ‰å·²è¿æ¥çš„ BluetoothSocket æ—¶ï¼ŒäºŒè€…å°†è¢«è§†ä¸ºå½¼æ­¤è¿æ¥ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯å°è®¾å¤‡éƒ½èƒ½è·å¾—è¾“å…¥å’Œè¾“å‡ºæµå¼ä¼ è¾“ï¼Œå¹¶ä¸”å¯ä»¥å¼€å§‹ä¼ è¾“æ•°æ®ã€‚ æœåŠ¡å™¨è®¾å¤‡å’Œå®¢æˆ·ç«¯è®¾å¤‡åˆ†åˆ«ä»¥ä¸åŒçš„æ–¹æ³•è·å¾—éœ€è¦çš„ BluetoothSocketã€‚æœåŠ¡å™¨å°†åœ¨ä¼ å…¥è¿æ¥è¢«æ¥å—æ—¶æ”¶åˆ°å¥—æ¥å­—ã€‚ å®¢æˆ·ç«¯å°†åœ¨å…¶æ‰“å¼€åˆ°æœåŠ¡å™¨çš„ RFCOMM é€šé“æ—¶æ”¶åˆ°è¯¥å¥—æ¥å­—ã€‚ ä¸€ç§å®ç°æŠ€æœ¯æ˜¯è‡ªåŠ¨å°†æ¯å°è®¾å¤‡å‡†å¤‡ä¸ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œä»è€Œä½¿æ¯å°è®¾å¤‡å¼€æ”¾ä¸€ä¸ªæœåŠ¡å™¨å¥—æ¥å­—å¹¶ä¾¦å¬è¿æ¥ã€‚ç„¶åä»»ä¸€è®¾å¤‡å¯ä»¥å‘èµ·ä¸å¦ä¸€å°è®¾å¤‡çš„è¿æ¥ï¼Œå¹¶æˆä¸ºå®¢æˆ·ç«¯ã€‚ æˆ–è€…ï¼Œå…¶ä¸­ä¸€å°è®¾å¤‡å¯æ˜¾å¼â€œæ‰˜ç®¡â€è¿æ¥å¹¶æŒ‰éœ€å¼€æ”¾ä¸€ä¸ªæœåŠ¡å™¨å¥—æ¥å­—ï¼Œè€Œå¦ä¸€å°è®¾å¤‡åˆ™ç›´æ¥å‘èµ·è¿æ¥ã€‚ å¦‚æœä¸¤å°è®¾å¤‡ä¹‹å‰å°šæœªé…å¯¹ï¼Œåˆ™åœ¨è¿æ¥è¿‡ç¨‹ä¸­ï¼ŒAndroid æ¡†æ¶ä¼šè‡ªåŠ¨å‘ç”¨æˆ·æ˜¾ç¤ºé…å¯¹è¯·æ±‚é€šçŸ¥æˆ–å¯¹è¯æ¡†ã€‚å› æ­¤ï¼Œåœ¨å°è¯•è¿æ¥è®¾å¤‡æ—¶ï¼Œæ‚¨çš„åº”ç”¨æ— éœ€æ‹…å¿ƒè®¾å¤‡æ˜¯å¦å·²é…å¯¹ã€‚ è¿æ¥ä¸ºæœåŠ¡å™¨å½“æ‚¨éœ€è¦è¿æ¥ä¸¤å°è®¾å¤‡æ—¶ï¼Œå…¶ä¸­ä¸€å°è®¾å¤‡å¿…é¡»é€šè¿‡ä¿æŒå¼€æ”¾çš„ BluetoothServerSocket æ¥å……å½“æœåŠ¡å™¨ã€‚ æœåŠ¡å™¨å¥—æ¥å­—çš„ç”¨é€”æ˜¯ä¾¦å¬ä¼ å…¥çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶åœ¨æ¥å—ä¸€ä¸ªè¯·æ±‚åæä¾›å·²è¿æ¥çš„ BluetoothSocketã€‚ ä» BluetoothServerSocket è·å– BluetoothSocket åï¼Œå¯ä»¥ï¼ˆå¹¶ä¸”åº”è¯¥ï¼‰èˆå¼ƒ BluetoothServerSocketï¼Œé™¤éæ‚¨éœ€è¦æ¥å—æ›´å¤šè¿æ¥ã€‚ è¿æ¥ä¸ºå®¢æˆ·ç«¯å¾…ç»­â€¦â€¦]]></content>
      <categories>
        <category>è“ç‰™</category>
      </categories>
      <tags>
        <tag>è“ç‰™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºè“ç‰™(Bluetooth)æŠ€æœ¯]]></title>
    <url>%2F%E5%85%B3%E4%BA%8E%E8%93%9D%E7%89%99%20Bluetooth%20%E6%8A%80%E6%9C%AF%2F</url>
    <content type="text"><![CDATA[èµ„æ–™æ¥æºäºç½‘ç»œ http://www.eepw.com.cn/article/201610/306179.htmhttps://zh.wikipedia.org/wiki/%E8%97%8D%E7%89%99 ç›¸å…³åè¯ISMé¢‘æ®µISMé¢‘æ®µï¼ˆIndustrial Scientific Medical Bandï¼‰ï¼Œä¸­æ–‡æ„æ€åˆ†åˆ«æ˜¯å·¥ä¸šçš„(Industrial)ã€ç§‘å­¦çš„(Scientific)å’ŒåŒ»å­¦çš„(Medical)ï¼Œå› æ­¤é¡¾åæ€ä¹‰ISMé¢‘æ®µå°±æ˜¯å„å›½æŒªå‡ºæŸä¸€æ®µé¢‘æ®µä¸»è¦å¼€æ”¾ç»™å·¥ä¸šï¼Œç§‘å­¦å’ŒåŒ»å­¦æœºæ„ä½¿ç”¨ã€‚åº”ç”¨è¿™äº›é¢‘æ®µæ— éœ€è®¸å¯è¯æˆ–è´¹ç”¨ï¼Œåªéœ€è¦éµå®ˆä¸€å®šçš„å‘å°„åŠŸç‡ï¼ˆä¸€èˆ¬ä½äº1Wï¼‰ï¼Œå¹¶ä¸”ä¸è¦å¯¹å…¶å®ƒé¢‘æ®µé€ æˆå¹²æ‰°å³å¯ã€‚ISMé¢‘æ®µåœ¨å„å›½çš„è§„å®šå¹¶ä¸ç»Ÿä¸€ã€‚å› æ­¤æ— çº¿å±€åŸŸç½‘ï¼ˆIEEE 802.11b/IEEE 802.11gï¼‰ï¼Œè“ç‰™ï¼ŒZigBeeç­‰æ— çº¿ç½‘ç»œï¼Œå‡å¯å·¥ä½œåœ¨2.4GHzé¢‘æ®µä¸Šã€‚ RS-232ä¸ªäººè®¡ç®—æœºä¸Šçš„é€šè®¯æ¥å£ä¹‹ä¸€ï¼Œç”±ç”µå­å·¥ä¸šåä¼š(Electronic Industries Associationï¼ŒEIA) æ‰€åˆ¶å®šçš„å¼‚æ­¥ä¼ è¾“æ ‡å‡†æ¥å£ã€‚é€šå¸¸ RS-232 æ¥å£ä»¥9ä¸ªå¼•è„š (DB-9) æˆ–æ˜¯25ä¸ªå¼•è„š (DB-25) çš„å‹æ€å‡ºç°ï¼Œä¸€èˆ¬ä¸ªäººè®¡ç®—æœºä¸Šä¼šæœ‰ä¸¤ç»„ RS-232 æ¥å£ï¼Œåˆ†åˆ«ç§°ä¸º COM1 å’Œ COM2ã€‚ rs232ï¼ˆ9é’ˆï¼‰æ¥å£ è“ç‰™æŠ€æœ¯è”ç›Ÿï¼ˆBluetooth Special Interest Groupï¼šSIGï¼‰å…¶æ‹¥æœ‰è“ç‰™çš„å•†æ ‡ï¼Œè´Ÿè´£åˆ¶å®šè“ç‰™è§„èŒƒã€è®¤è¯åˆ¶é€ å‚å•†ï¼Œæˆæƒä»–ä»¬ä½¿ç”¨è“ç‰™æŠ€æœ¯ä¸è“ç‰™æ ‡å¿—ï¼Œä½†æœ¬èº«ä¸è´Ÿè´£è“ç‰™è®¾å¤‡çš„è®¾è®¡ã€ç”Ÿäº§åŠè´©å”®ã€‚ è“ç‰™åè®®å †æ ˆä¾ç…§å…¶åŠŸèƒ½å¯åˆ†å››å±‚ï¼š æ ¸å¿ƒåè®®å±‚ï¼ˆHCIã€LMPã€L2CAPã€SDPï¼‰ çº¿ç¼†æ›¿æ¢åè®®å±‚ï¼ˆRFCOMMï¼‰ ç”µè¯æ§åˆ¶åè®®å±‚ï¼ˆTCS-BINï¼‰ é€‰ç”¨åè®®å±‚ï¼ˆPPPã€TCPã€IPã€UDPã€OBEXã€IrMCã€WAPã€WAEï¼‰ è“ç‰™è§„èŒƒï¼ˆProfileï¼‰ æ›´å¤šå‚è€ƒï¼šhttps://zh.wikipedia.org/wiki/%E8%97%8D%E7%89%99%E8%A6%8F%E7%AF%84 é‡Šä¹‰å…¶æ˜¯æŒ‡è“ç‰™é€šä¿¡åœ¨å“ªä¸€ç§ç”¨é€”ä¸‹åº”è¯¥ä½¿ç”¨çš„é€šä¿¡åè®®å’Œç›¸å…³çš„è§„èŒƒã€‚Profileç›®çš„æ˜¯è¦ç¡®ä¿Bluetoothè®¾å¤‡é—´çš„äº’é€šæ€§ï¼ˆinteroperabilityï¼‰ã€‚Profileä¸­æ–‡è¯‘åæœ‰å¾ˆå¤šï¼Œæ¯”å¦‚é…ç½®æ–‡ä»¶ï¼Œå‰–é¢ï¼Œåº”ç”¨åè®®ï¼Œè½®å»“ç­‰ï¼Œæ¯ä¸€ç§ç¿»è¯‘ä»£è¡¨äº†ä¸€ç§å¯¹äºprofileçš„ä¸åŒç†è§£ï¼Œ å‰–é¢ è¿™ä¸ªè¯´æ³•å¯èƒ½æ›´è´´åˆ‡ä¸€ç‚¹ã€‚ å› ä¸ºprofileå…¶å®æ˜¯è“ç‰™å¯¹åº”äºæ¯ä¸€ä¸ªå…·ä½“çš„åº”ç”¨åœºæ™¯ä»¥åŠæ¯ä¸€ç§åº”ç”¨çš„ä¸åŒçš„åè®®æ ˆï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå…¶å®æ˜¯å®ç°æŸç§åŠŸèƒ½å¯¹åº”çš„è‡ªä¸‹è€Œä¸Šçš„åè®®çš„ç»„åˆã€‚ç±»ä¼¼äºå¯¹äºæ¨ªå‘åè®®çš„çºµå‘ç»„åˆã€‚ ç»“æ„porileä¹‹é—´ä¹Ÿå¹¶éå¹³è¡Œçš„å…³ç³»ï¼Œä»–ä»¬æ˜¯ç›¸äº’ä¾èµ–ç»„åˆæ„æˆçš„ï¼Œå­˜åœ¨æ˜æ˜¾çš„å±‚çº§å…³ç³»çš„ã€‚ è“ç‰™1.1å®šä¹‰çš„profileæœ‰13ä¸ªã€‚SIGè®¤ä¸ºè“ç‰™è®¾å¤‡æœ‰4ä¸ªæœ€åŸºæœ¬çš„Profileï¼š é€šç”¨æ¥å…¥å‰–é¢ï¼šGeneral Access Profileï¼ˆGAPï¼‰ å®šä¹‰ä¸¤ä¸ªè“ç‰™å•å…ƒå¦‚ä½•å‘ç°å¯¹æ–¹å¹¶å»ºç«‹è¿æ¥ï¼Œä¿è¯ä¸¤ä¸ªè“ç‰™å•å…ƒï¼Œæ— è®ºå…¶ç”Ÿäº§å‚å•†åŠè¿›è¡Œçš„åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡è“ç‰™äº¤æ¢ä¿¡æ¯ä»è€Œå‘ç°ä¸ªå•å…ƒæ”¯æŒä½•ç§åº”ç”¨ã€‚æ‰€æœ‰è“ç‰™å•å…ƒéƒ½å¿…é¡»æ”¯æŒGAPä»¥ä¿è¯åŸºæœ¬çš„äº’æ“ä½œæ€§å’Œå…±å­˜æ€§ã€‚ æœåŠ¡å‘ç°åº”ç”¨å‰–é¢ï¼šService Discovery Application Profileï¼ˆSDAPï¼‰ å®šä¹‰å¦‚ä½•å‘ç°è“ç‰™å•å…ƒæ”¯æŒçš„ä¸šåŠ¡ï¼Œè¯¥å‰–é¢å¯ä»¥ç”¨æ¥æœç´¢å·²çŸ¥çš„ç‰¹å®šä¸šåŠ¡ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥è¿›è¡Œæ™®é€šä¸šåŠ¡æµè§ˆæœç´¢ã€‚ ä¸²è¡Œç«¯å£å‰–é¢ï¼šSerial Port Profileï¼ˆSPPï¼‰ å®šä¹‰å¦‚ä½•åœ¨ä¸¤ä¸ªè®¾å¤‡ä¹‹é—´å»ºç«‹è™šæ‹Ÿä¸²è¡Œç«¯å£ï¼Œå¹¶ç”¨è“ç‰™å°†å…¶è¿æ¥ã€‚é‡‡ç”¨ä¸²è¡Œç«¯å£å‰–é¢å¯åœ¨è“ç‰™å•å…ƒä¸Šä»¿çœŸåŸºäºRS-232æ§åˆ¶ä¿¡ä»¤çš„ä¸²è¡Œçº¿ç¼†ï¼Œè¯¥å‰–é¢å¯ä¿è¯é«˜è¾¾128kbit/sçš„æ•°æ®é€Ÿç‡ã€‚ æ™®é€šå¯¹è±¡äº¤æ¢å‰–é¢ï¼šGeneral Object Exchange Profileï¼ˆGOEPï¼‰ å®šä¹‰å¤„ç†å¯¹è±¡äº¤æ¢çš„åº”ç”¨éœ€é‡‡ç”¨çš„åè®®å’Œç¨‹åºï¼ŒåŸºäºGOEPçš„åº”ç”¨æ¨¡å‹ï¼ˆå¦‚æ–‡ä»¶ä¼ è¾“ã€åŒæ­¥ç­‰ï¼‰å‡å®šé“¾è·¯å’Œä¿¡é“å·²ç»å»ºç«‹å¦‚GAPæ‰€è¿°ï¼ŒGOEPæè¿°ä»ä¸€ä¸ªè“ç‰™è®¾å¤‡Pushæ•°æ®åˆ°å¦ä¸€ä¸ªè“ç‰™è®¾å¤‡çš„ç¨‹åºï¼Œè¿˜è§„å®šå¦‚ä½•åœ¨ä¸¤ä¸ªå•å…ƒä¹‹é—´Pullæ•°æ®ã€‚ å¹²æ‰°Bluetoothåœ¨2.4GHzçš„ç”µæ³¢å¹²æ‰°é—®é¢˜ä¸€ç›´ä¸ºå¤§å®¶æ‰€è¯Ÿç—…ï¼Œç‰¹åˆ«å’Œæ— çº¿å±€åŸŸç½‘é—´çš„äº’ç›¸å¹²æ‰°é—®é¢˜ã€‚æœ‰å¹²æ‰°å‘ç”Ÿæ—¶ï¼Œå°±ä»¥é‡æ–°å‘é€æ•°æ®åŒ…çš„æ–¹æ³•æ¥è§£å†³å¹²æ‰°ã€‚ å®‰å…¨é—®é¢˜è“ç‰™è¿™é¡¹æ— çº¿æŠ€æœ¯çš„åç§°å–è‡ªå¤ä»£ä¸¹éº¦ç»´äº¬å›½ç‹Harald BlÃ¥tandçš„åå­—ï¼Œä»–ä»¥ç»Ÿä¸€äº†å› å®—æ•™æˆ˜äº‰å’Œé¢†åœŸäº‰è®®è€Œåˆ†è£‚çš„æŒªå¨ä¸ä¸¹éº¦è€Œé—»åäºä¸–ï¼Œè€Œè¿™ä¸ªåå­—çš„è‹±æ–‡ä¾¿æ˜¯Harald Bluetoothã€‚ â€œBluetoothâ€ä¸€è¯æ˜¯æ–¯å ªçš„çº³ç»´äºšè¯­è¨€è¯æ±‡BlÃ¥tand/BlÃ¥tannçš„è‹±è¯­åŒ–ã€‚è¿™ä¸ªè¯çš„æ¥æºæ˜¯10ä¸–çºªä¸¹éº¦å’ŒæŒªå¨å›½ç‹è“ç‰™å“ˆæ‹‰å°”ï¼ˆä¸¹éº¦è¯­ï¼šHarald BlÃ¥tand Gormsenï¼‰ï¼Œå€Ÿå›½ç‹çš„ç»°å·â€œBlÃ¥tandâ€å½“åç§°ï¼Œç›´æ¥ç¿»è¯‘æˆä¸­æ–‡ä¸ºâ€œè“ç‰™â€ï¼ˆblÃ¥ï¼è“ï¼Œtandï¼ç‰™ï¼‰ã€‚2006å¹´ï¼Œè“ç‰™æŠ€æœ¯è”ç›Ÿç»„ç»‡å·²å°†å…¨çƒä¸­æ–‡è¯‘åç»Ÿä¸€æ”¹é‡‡ç›´è¯‘ä¸ºâ€œè“ç‰™â€ï¼Œå¹¶æ³¨å†Œä¸ºè¯¥ç»„ç»‡çš„æ³¨å†Œå•†æ ‡ã€‚ è“ç‰™çš„æ ‡å¿—æ˜¯å¢æ©å­—æ¯ Runic letter ior.svgï¼ˆHagallï¼Œáš¼ï¼‰å’Œ Runic letter berkanan.svgï¼ˆBjarkanï¼Œá›’ï¼‰çš„ç»„åˆï¼Œä¹Ÿå°±æ˜¯Harald BlÃ¥tandçš„é¦–å­—æ¯HBçš„åˆå†™ã€‚ è¿™æ˜¯ä¸€ç§æ— çº¿é€šè®¯æŠ€æœ¯æ ‡å‡†ï¼Œç”¨æ¥è®©å›ºå®šä¸ç§»åŠ¨è®¾å¤‡ï¼Œåœ¨çŸ­è·ç¦»é—´äº¤æ¢æ•°æ®ï¼Œä»¥å½¢æˆä¸ªäººå±€åŸŸç½‘ï¼ˆPANï¼‰ã€‚å…¶ä½¿ç”¨çŸ­æ³¢ç‰¹é«˜é¢‘ï¼ˆUHFï¼‰æ— çº¿ç”µæ³¢ï¼Œç»ç”±2.4è‡³2.485 GHzçš„ISMé¢‘æ®µæ¥è¿›è¡Œé€šä¿¡ã€‚1994å¹´ç”±ç”µä¿¡å•†çˆ±ç«‹ä¿¡ï¼ˆEricssonï¼‰å‘å±•å‡ºè¿™ä¸ªæŠ€æœ¯ã€‚å®ƒæœ€åˆçš„è®¾è®¡ï¼Œæ˜¯å¸Œæœ›åˆ›å»ºä¸€ä¸ªRS-232æ•°æ®çº¿çš„æ— çº¿é€šä¿¡æ›¿ä»£ç‰ˆæœ¬ã€‚å®ƒèƒ½å¤Ÿé“¾æ¥å¤šä¸ªè®¾å¤‡ï¼Œå…‹æœåŒæ­¥çš„é—®é¢˜ã€‚ è“ç‰™2.1+EDR/3.0+HSç‰ˆæœ¬(é€šå¸¸æŒ‡â€œæ ‡å‡†è“ç‰™æŠ€æœ¯â€)ä¸è“ç‰™ä½èƒ½è€—(BLE)æŠ€æœ¯æœ‰è®¸å¤šå…±åŒç‚¹ï¼šå®ƒä»¬éƒ½æ˜¯ä½æˆæœ¬ã€çŸ­è·ç¦»ã€å¯äº’æ“ä½œçš„é²æ£’æ€§æ— çº¿æŠ€æœ¯ï¼Œå·¥ä½œåœ¨å…è®¸å¯çš„2.4GHz ISMå°„é¢‘é¢‘æ®µã€‚ é‡è¦åŒºåˆ«ï¼šè“ç‰™ä½èƒ½è€—æŠ€æœ¯ä»ä¸€å¼€å§‹å°±è®¾è®¡ä¸ºè¶…ä½åŠŸè€—(ULP)æ— çº¿æŠ€æœ¯ï¼Œè€Œæ ‡å‡†è“ç‰™æŠ€æœ¯ä¸»è¦æ˜¯èƒ½å¤Ÿæ„æˆâ€œä½åŠŸè€—çš„â€æ— çº¿è¿æ¥ã€‚ å·¥ä½œæ–¹å¼è“ç‰™æŠ€æœ¯åˆ†ä¸ºåŸºç¡€ç‡/å¢å¼ºæ•°æ®ç‡ï¼ˆBR/EDRï¼‰å’Œä½è€—èƒ½ï¼ˆLEï¼‰ä¸¤ç§æŠ€æœ¯ç±»å‹ã€‚å…¶ä¸­BR/EDRå‹æ˜¯ä»¥ç‚¹å¯¹ç‚¹ç½‘ç»œæ‹“æ‰‘ç»“æ„åˆ›å»ºä¸€å¯¹ä¸€è®¾å¤‡é€šä¿¡ï¼›LEå‹åˆ™ä½¿ç”¨ç‚¹å¯¹ç‚¹ï¼ˆä¸€å¯¹ä¸€ï¼‰ã€å¹¿æ’­ï¼ˆä¸€å¯¹å¤šï¼‰å’Œç½‘æ ¼ï¼ˆå¤šå¯¹å¤šï¼‰ç­‰å¤šç§ç½‘ç»œæ‹“æ‰‘ç»“æ„ å‘å±• ä¸åŒç‰ˆæœ¬çš„ç‰¹æ€§ï¼Œå‚è€ƒ:http://www.eepw.com.cn/article/201709/364609.htm ç¬¬ä¸‰ä»£ï¼Œ2009å¹´4æœˆ21æ—¥ï¼Œè“ç‰™æŠ€æœ¯è”ç›Ÿé¢å¸ƒäº†è“ç‰™æ ¸å¿ƒè§„èŒƒ3.0ç‰ˆï¼ˆ3.0+HSï¼‰ï¼Œæ˜¯ä¸€ç§å…¨æ–°çš„äº¤æ›¿å°„é¢‘æŠ€æœ¯ã€‚è“ç‰™3.0+HSæé«˜äº†æ•°æ®ä¼ è¾“é€Ÿç‡ï¼Œé›†æˆ802.11PALæœ€é«˜é€Ÿåº¦å¯è¾¾24Mbpsã€‚æ˜¯è“ç‰™2.0é€Ÿåº¦çš„8å€ã€‚æ­¤å¤–ï¼Œå¼•å…¥äº†å¢å¼ºç”µæºæ§åˆ¶ï¼Œå®é™…ç©ºé—²åŠŸè€—æ˜æ˜¾é™ä½ã€‚ ç¬¬å››ä»£ï¼Œ2010å¹´7æœˆ7æ—¥ï¼Œè“ç‰™æŠ€æœ¯è”ç›Ÿæ¨å‡ºäº†è“ç‰™4.0è§„èŒƒã€‚å…¶æœ€é‡è¦çš„ç‰¹æ€§æ˜¯æ”¯æŒçœç”µã€‚Bluetooth 4.0æ˜¯Bluetoothä»è¯ç”Ÿè‡³ä»Šå”¯ä¸€çš„ä¸€ä¸ªç»¼åˆåè®®è§„èŒƒã€‚è¿˜æå‡ºäº†â€œä½åŠŸè€—è“ç‰™â€ã€â€œä¼ ç»Ÿè“ç‰™â€å’Œâ€œé«˜é€Ÿè“ç‰™â€ä¸‰ç§æ¨¡å¼ã€‚ é«˜é€Ÿè“ç‰™ä¸»ï¼šæ”»æ•°æ®äº¤æ¢ä¸ä¼ è¾“ï¼› ä¼ ç»Ÿè“ç‰™ï¼šåˆ™ä»¥ä¿¡æ¯æ²Ÿé€šã€è®¾å¤‡è¿æ¥ä¸ºé‡ç‚¹ï¼› è“ç‰™ä½åŠŸè€—ï¼šé¡¾åæ€ä¹‰ï¼Œä»¥ä¸éœ€å ç”¨å¤ªå¤šå¸¦å®½çš„è®¾å¤‡è¿æ¥ä¸ºä¸»ã€‚å‰èº«å…¶å®æ˜¯NOKIAå¼€å‘çš„WibreeæŠ€æœ¯ï¼Œæœ¬æ˜¯ä½œä¸ºä¸€é¡¹ä¸“ä¸ºç§»åŠ¨è®¾å¤‡å¼€å‘çš„æä½åŠŸè€—çš„ç§»åŠ¨æ— çº¿é€šä¿¡æŠ€æœ¯ï¼Œåœ¨è¢«SIGæ¥çº³å¹¶è§„èŒƒåŒ–ä¹‹åé‡å‘½åä¸ºBluetooth Low Energyï¼ˆåç®€ç§°ä½åŠŸè€—è“ç‰™ï¼‰ã€‚ è¿™ä¸‰ç§åè®®è§„èŒƒè¿˜èƒ½å¤Ÿäº’ç›¸ç»„åˆæ­é…ã€ä»è€Œå®ç°æ›´å¹¿æ³›çš„åº”ç”¨æ¨¡å¼ï¼Œæ­¤å¤–ï¼ŒBluetooth 4.0è¿˜æŠŠè“ç‰™çš„ä¼ è¾“è·ç¦»æå‡åˆ°100ç±³ä»¥ä¸Šï¼ˆä½åŠŸè€—æ¨¡å¼æ¡ä»¶ä¸‹ï¼‰ 2013å¹´åº•ï¼Œè“ç‰™æŠ€æœ¯è”ç›Ÿæ¨å‡ºäº†è“ç‰™4.1è§„èŒƒï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†è®© Bluetooth Smart æŠ€æœ¯æœ€ç»ˆæˆä¸ºç‰©è”ç½‘(Internet of Things)å‘å±•çš„æ ¸å¿ƒåŠ¨åŠ›ã€‚ ç¬¬äº”ä»£ï¼Œåœ¨2016å¹´6æœˆå®£å¸ƒè“ç‰™5.0ã€‚åœ¨æœ‰æ•ˆä¼ è¾“è·ç¦»ä¸Šå°†æ˜¯4.2LEç‰ˆæœ¬çš„4å€ï¼ˆç†è®ºä¸Šå¯è¾¾300ç±³ï¼‰ï¼Œä¼ è¾“é€Ÿåº¦å°†æ˜¯4.2LEç‰ˆæœ¬çš„2å€ï¼ˆé€Ÿåº¦ä¸Šé™ä¸º24Mbpsï¼‰ã€‚è“ç‰™5.0è¿˜æ”¯æŒå®¤å†…å®šä½å¯¼èˆªåŠŸèƒ½ï¼ˆç»“åˆWiFiå¯ä»¥å®ç°ç²¾åº¦å°äº1ç±³çš„å®¤å†…å®šä½ï¼‰ï¼Œå…è®¸æ— éœ€é…å¯¹æ¥å—ä¿¡æ ‡çš„æ•°æ®ï¼ˆæ¯”å¦‚å¹¿å‘Šã€Beaconã€ä½ç½®ä¿¡æ¯ç­‰ï¼Œä¼ è¾“ç‡æé«˜äº†8å€ï¼‰ï¼Œé’ˆå¯¹ç‰©è”ç½‘è¿›è¡Œäº†å¾ˆå¤šåº•å±‚ä¼˜åŒ–ã€‚]]></content>
      <categories>
        <category>è“ç‰™</category>
      </categories>
      <tags>
        <tag>è“ç‰™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android BLE è“ç‰™å¼€å‘]]></title>
    <url>%2FAndroid%20BLE%20%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"><![CDATA[å‚è€ƒæ–‡ç« ï¼šhttps://www.jianshu.com/p/3a372af38103å‚è€ƒæ–‡ç« ï¼šhttps://www.jianshu.com/p/29a730795294android developersï¼šhttps://developer.android.google.cn/guide/topics/connectivity/bluetooth-le.html#termséƒ¨åˆ†å›¾ç‰‡æ¥æºï¼šhttps://www.youtube.com/watch?v=vUbFB1Qypg8ç»å…¸è“ç‰™ä½¿ç”¨å‚è€ƒï¼šhttp://blog.csdn.net/axinmeng88/article/details/79059468BLEè®¾å¤‡åœ°å€å‚è€ƒï¼šhttp://www.wowotech.net/bluetooth/ble_address_type.html è“ç‰™å”¯ä¸€èº«ä»½æ ‡è¯† MACåœ°å€ï¼šè¿™ä¸ªåœ°å€æ˜¯å”¯ä¸€çš„ï¼Œå°±åƒç½‘ç»œä¸Šçš„IPåœ°å€ UUIDï¼ˆUniversally Unique Identifierï¼‰ï¼šå¯ä»¥æŠŠå®ƒç†è§£ä¸ºæ˜¯IPåœ°å€ä¸­çš„ç«¯å£å· 12æ›´å¤šUUIDæ¥å£å‚è€ƒï¼šhttps://www.jianshu.com/p/3de46c75f8ceï¼Œå®˜ç½‘ï¼šhttps://www.bluetooth.com/zh-cn/specifications/assigned-numbers/service-discovery MAC + UUID = IPåœ°å€ + ç«¯å£å·ã€‚è¿™ä¸¤è€…åˆèµ·æ¥å°±æ˜¯è“ç‰™çš„å”¯ä¸€èº«ä»½æ ‡è¯†ã€‚BLEæ‰«æçš„è¿‡ç¨‹ï¼Œè®¾å¤‡ä¼šç”Ÿæˆéšæœºåœ°å€ã€‚æ ¹æ®éšæœºåœ°å€ä¹Ÿèƒ½è¿›è¡Œè¿æ¥ã€‚ BLE (Bluetooth Low Energy) ä½åŠŸè€—è“ç‰™Android 4.3ï¼ˆAPIçº§åˆ«18ï¼‰å¼•å…¥äº†ä»¥ä½åŠŸè€—è“ç‰™ï¼ˆBLEï¼‰ä¸ºä¸­å¿ƒè§’è‰²çš„å†…ç½®å¹³å°æ”¯æŒï¼Œå¹¶æä¾›åº”ç”¨ç¨‹åºå¯ç”¨äºå‘ç°è®¾å¤‡ï¼ŒæŸ¥è¯¢æœåŠ¡å’Œä¼ è¾“ä¿¡æ¯çš„API å¸¸è§ç”¨ä¾‹åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š åœ¨é™„è¿‘çš„è®¾å¤‡ä¹‹é—´ä¼ è¾“å°‘é‡çš„æ•°æ® ä¸Google Beaconsç­‰æ¥è¿‘ä¼ æ„Ÿå™¨è¿›è¡Œäº’åŠ¨ï¼Œä¸ºç”¨æˆ·æä¾›åŸºäºå½“å‰ä½ç½®çš„å®šåˆ¶ä½“éªŒã€‚ ä¼ ç»Ÿè“ç‰™å¯ä»¥ç”¨äºæ•°æ®é‡æ¯”è¾ƒå¤§çš„ä¼ è¾“ï¼Œå¦‚è¯­éŸ³ï¼ŒéŸ³ä¹ï¼Œè¾ƒé«˜æ•°æ®é‡ä¼ è¾“ç­‰ï¼Œä½†æ˜¯æ¯”è¾ƒè€—ç”µï¼Œä½åŠŸè€—è“ç‰™è¿™æ ·åº”ç”¨äºå®æ—¶æ€§è¦æ±‚æ¯”è¾ƒé«˜ï¼ŒåŠŸè€—æ¯”è¾ƒä½ï¼Œä½†æ˜¯æ•°æ®é€Ÿç‡æ¯”è¾ƒä½çš„äº§å“ï¼Œå¦‚é¥æ§ç±»çš„ï¼Œå¦‚é¼ æ ‡ï¼Œé”®ç›˜ï¼Œé¥æ§é¼ æ ‡(Air Mouse)ï¼Œä¼ æ„Ÿè®¾å¤‡çš„æ•°æ®å‘é€ï¼Œå¦‚å¿ƒè·³å¸¦ï¼Œè¡€å‹è®¡ï¼Œæ¸©åº¦ä¼ æ„Ÿå™¨ç­‰ã€‚ å…³é”®æœ¯è¯­ï¼ˆKey Termsï¼‰å’Œ æ¦‚å¿µï¼ˆConceptsï¼‰ GATTå›¾ç¤º1 GATTå›¾ç¤º2 é€šç”¨å±æ€§é…ç½®æ–‡ä»¶ Generic Attribute Profileï¼ˆGATTï¼‰ï¼šGATTé…ç½®æ–‡ä»¶æ˜¯é€šè¿‡BLEé“¾æ¥å‘é€å’Œæ¥æ”¶è¢«ç§°ä¸ºâ€œå±æ€§â€çš„çŸ­å°æ•°æ®çš„é€šç”¨è§„èŒƒã€‚ç›®å‰æ‰€æœ‰çš„ä½èƒ½è€—åº”ç”¨ç¨‹åºéƒ½åŸºäºGATTã€‚ è“ç‰™SIGä¸ºä½èƒ½è€—è®¾å¤‡å®šä¹‰äº†è®¸å¤šé…ç½®æ–‡ä»¶ã€‚ é…ç½®æ–‡ä»¶æ˜¯è®¾å¤‡å¦‚ä½•åœ¨ç‰¹å®šåº”ç”¨ç¨‹åºä¸­å·¥ä½œçš„è§„èŒƒã€‚ è¯·æ³¨æ„ï¼Œè®¾å¤‡å¯ä»¥å®ç°å¤šä¸ªé…ç½®æ–‡ä»¶ã€‚ ä¾‹å¦‚ï¼Œä¸€ä¸ªè®¾å¤‡å¯ä»¥åŒ…å«ä¸€ä¸ªå¿ƒç‡ç›‘æµ‹å™¨å’Œä¸€ä¸ªç”µæ± ç”µé‡æ£€æµ‹å™¨ã€‚ ä½ å¯ä»¥æŠŠä»–çœ‹æˆxmlæ¥ç†è§£ï¼š æ¯ä¸ªGATTç”±å®Œæˆä¸åŒåŠŸèƒ½çš„Serviceç»„æˆï¼› æ¯ä¸ªServiceç”±ä¸åŒçš„Characteristicç»„æˆï¼› æ¯ä¸ªCharacteristicç”±ä¸€ä¸ªvalueå’Œä¸€ä¸ªæˆ–è€…å¤šä¸ªDescriptorç»„æˆï¼› Serviceã€Characteristicç›¸å½“äºæ ‡ç­¾ï¼ˆServiceç›¸å½“äºä»–çš„ç±»åˆ«ï¼ŒCharacteristicç›¸å½“äºå®ƒçš„åå­—ï¼‰ï¼Œè€Œvalueæ‰çœŸæ­£çš„åŒ…å«æ•°æ®ï¼ŒDescriptoræ˜¯å¯¹è¿™ä¸ªvalueè¿›è¡Œçš„è¯´æ˜å’Œæè¿°ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥ä»ä¸åŒè§’åº¦æ¥æè¿°å’Œè¯´æ˜ï¼Œå› æ­¤å¯ä»¥æœ‰å¤šä¸ªDescriptor. ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­è¿›è¡Œè¯´æ˜ï¼š å¸¸è§çš„å°ç±³æ‰‹ç¯æ˜¯ä¸€ä¸ªBLEè®¾å¤‡ï¼Œï¼ˆå‡è®¾ï¼‰å®ƒåŒ…å«ä¸‰ä¸ªService,åˆ†åˆ«æ˜¯æä¾›è®¾å¤‡ä¿¡æ¯çš„Serviceã€æä¾›æ­¥æ•°çš„Serviceã€æ£€æµ‹å¿ƒç‡çš„Service;è€Œè®¾å¤‡ä¿¡æ¯çš„serviceä¸­åŒ…å«çš„characteristicåŒ…æ‹¬å‚å•†ä¿¡æ¯ã€ç¡¬ä»¶ä¿¡æ¯ã€ç‰ˆæœ¬ä¿¡æ¯ç­‰ï¼›è€Œå¿ƒç‡Serviceåˆ™åŒ…æ‹¬å¿ƒç‡characteristicç­‰ï¼Œè€Œå¿ƒç‡characteristicä¸­çš„valueåˆ™çœŸæ­£çš„åŒ…å«å¿ƒç‡çš„æ•°æ®ï¼Œè€Œdescriptoråˆ™æ˜¯å¯¹è¯¥valueçš„æè¿°è¯´æ˜ï¼Œæ¯”å¦‚valueçš„å•ä½å•Šï¼Œæè¿°å•Šï¼Œæƒé™å•Šç­‰ã€‚ å±æ€§åè®® Attribute Protocolï¼ˆATTï¼‰ï¼šGATTå»ºç«‹åœ¨å±æ€§åè®®ï¼ˆATTï¼‰ä¹‹ä¸Šã€‚ è¿™ä¹Ÿè¢«ç§°ä¸ºGATT / ATTã€‚ ATTç»è¿‡ä¼˜åŒ–ï¼Œå¯åœ¨BLEè®¾å¤‡ä¸Šè¿è¡Œã€‚ ä¸ºæ­¤ï¼Œå®ƒä½¿ç”¨å°½å¯èƒ½å°‘çš„å­—èŠ‚ã€‚ æ¯ä¸ªå±æ€§ç”±ä¸€ä¸ªé€šç”¨å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆUUIDï¼‰å”¯ä¸€æ ‡è¯†ï¼Œè¯¥æ ‡è¯†ç¬¦æ˜¯ç”¨äºå”¯ä¸€æ ‡è¯†ä¿¡æ¯çš„å­—ç¬¦ä¸²IDçš„æ ‡å‡†åŒ–128ä½æ ¼å¼ã€‚ ATTä¼ è¾“çš„å±æ€§è¢«æ ¼å¼åŒ–ä¸ºç‰¹å¾å’ŒæœåŠ¡ã€‚ ç‰¹æ€§ Characteristicï¼š ç‰¹æ€§åŒ…å«æè¿°ç‰¹æ€§å€¼çš„å•ä¸ªå€¼å’Œ0-nä¸ªæè¿°ç¬¦ã€‚ä¸€ä¸ªç‰¹å¾å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªç±»ï¼Œç±»ä¼¼äºä¸€ä¸ªé˜¶çº§ã€‚æ˜¯æœ€å°çš„æ•°æ®é€»è¾‘å•å…ƒã€‚ æè¿°ç¬¦ Descriptorï¼š æè¿°ç¬¦æ˜¯æè¿°ç‰¹å¾å€¼çš„å®šä¹‰å±æ€§ã€‚ ä¾‹å¦‚ï¼Œä¸€ä¸ªæè¿°ç¬¦å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯è¯»çš„æè¿°ï¼Œä¸€ä¸ªç‰¹å¾å€¼çš„å¯æ¥å—èŒƒå›´ï¼Œæˆ–è€…ä¸€ä¸ªç‰¹å¾å€¼ç‰¹æœ‰çš„åº¦é‡å•ä½ã€‚valueã€descriptorä¸­å­˜å‚¨æ•°æ®çš„è§£æç”±Serverçš„å·¥ç¨‹å¸ˆå†³å®šï¼Œå¹¶æ— è§„èŒƒï¼ŒåŒå‘æŒ‰ç…§çº¦å®šå¼€å‘ã€‚ æœåŠ¡ Serviceï¼š æœåŠ¡æ˜¯ä¸€ä¸ªç‰¹å¾çš„é›†åˆã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªåä¸ºâ€œå¿ƒç‡ç›‘æµ‹å™¨â€çš„æœåŠ¡ï¼Œå…¶ä¸­åŒ…å«â€œå¿ƒç‡æµ‹é‡â€ç­‰ç‰¹æ€§ã€‚ æ‚¨å¯ä»¥åœ¨bluetooth.orgä¸Šæ‰¾åˆ°ç°æœ‰åŸºäºGATTçš„é…ç½®æ–‡ä»¶å’ŒæœåŠ¡çš„åˆ—è¡¨ã€‚Service/Characteristicå‡æœ‰ä¸€ä¸ªå”¯ä¸€çš„UUIDæ ‡è¯†ï¼ŒUUIDæ—¢æœ‰16ä½çš„ä¹Ÿæœ‰128ä½çš„ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£çš„æ˜¯16ä½çš„UUIDæ˜¯ç»è¿‡è“ç‰™ç»„ç»‡è®¤è¯çš„ï¼Œæ˜¯éœ€è¦è´­ä¹°çš„ï¼Œå½“ç„¶ä¹Ÿæœ‰ä¸€äº›é€šç”¨çš„16ä½UUIDã€‚ä¾‹å¦‚Heart RateæœåŠ¡çš„UUIDå°±æ˜¯0X180D,ä»£ç ä¸­è¡¨ç¤ºä¸º0X00001800-0000-1000-8000-00805f9b34fb,å…¶ä»–ä½ä¸ºå›ºå®šçš„ã€‚è€Œ128ä½çš„UUIDåˆ™å¯ä»¥è‡ªå®šä¹‰ã€‚ è§’è‰²ï¼ˆRolesï¼‰å’Œè´£ä»»ï¼ˆResponsibilitiesï¼‰ä»¥ä¸‹æ˜¯Androidè®¾å¤‡ä¸BLEè®¾å¤‡äº¤äº’æ—¶é€‚ç”¨çš„è§’è‰²å’ŒèŒè´£ï¼š ä¸­å¤®ï¼ˆCentralï¼‰ ä¸ å‘¨è¾¹ï¼ˆPeripheralï¼‰ã€‚è¿™é€‚ç”¨äºBLEè¿æ¥æœ¬èº«ã€‚å¤„äºä¸­å¿ƒè§’è‰²çš„è®¾å¤‡æ‰«æï¼Œå¯»æ‰¾å¹¿å‘Šï¼Œå¹¶ä¸”åœ¨å¤–å›´è§’è‰²ä¸­çš„è®¾å¤‡è¿›è¡Œå¹¿å‘Šã€‚ GATTæœåŠ¡å™¨ ä¸ GATTå®¢æˆ·ç«¯ã€‚è¿™å†³å®šäº†ä¸¤å°è®¾å¤‡åœ¨å»ºç«‹è¿æ¥åå¦‚ä½•ç›¸äº’é€šè¯ã€‚ ä¸ºäº†ç†è§£è¿™ä¸ªåŒºåˆ«ï¼Œå‡è®¾ä½ æœ‰ä¸€ä¸ªAndroidæ‰‹æœºå’Œä¸€ä¸ªBLEè®¾å¤‡çš„æ´»åŠ¨è¿½è¸ªå™¨ã€‚ æ‰‹æœºæ”¯æŒä¸­å¿ƒè§’è‰²; æ´»åŠ¨è·Ÿè¸ªå™¨æ”¯æŒå¤–è®¾è§’è‰²ï¼ˆå»ºç«‹ä¸€ä¸ªBLEè¿æ¥ï¼Œä½ éœ€è¦æ¯ä¸¤ä¸ªäº‹ç‰©ä¸­åªæœ‰ä¸€ä¸ªæ”¯æŒå¤–å›´è®¾å¤‡çš„äººä¸èƒ½å½¼æ­¤äº¤è°ˆï¼Œä¹Ÿä¸èƒ½åªæ”¯æŒä¸¤ä¸ªäº‹ç‰©ï¼‰ã€‚ ä¸€æ—¦æ‰‹æœºå’Œæ´»åŠ¨è¿½è¸ªå™¨å»ºç«‹äº†è¿æ¥ï¼Œä»–ä»¬å°±å¼€å§‹å°†GATTå…ƒæ•°æ®è½¬ç§»åˆ°å¦ä¸€ä¸ªã€‚æ ¹æ®ä»–ä»¬ä¼ è¾“çš„æ•°æ®çš„ç§ç±»ï¼Œå…¶ä¸­ä¸€ä¸ªæˆ–å¦ä¸€ä¸ªå¯èƒ½å……å½“æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ´»åŠ¨è·Ÿè¸ªå™¨æƒ³è¦å°†ä¼ æ„Ÿå™¨æ•°æ®æŠ¥å‘Šç»™ç”µè¯ï¼Œåˆ™æ´»åŠ¨è·Ÿè¸ªå™¨å¯ä»¥å……å½“æœåŠ¡å™¨ã€‚å¦‚æœæ´»åŠ¨è·Ÿè¸ªå™¨æƒ³è¦ä»æ‰‹æœºæ¥æ”¶æ›´æ–°ï¼Œé‚£ä¹ˆæ‰‹æœºä½œä¸ºæœåŠ¡å™¨å¯èƒ½æ˜¯æœ‰æ„ä¹‰çš„ã€‚ åœ¨æœ¬æ–‡æ¡£ä¸­ä½¿ç”¨çš„ç¤ºä¾‹ä¸­ï¼ŒAndroidåº”ç”¨ç¨‹åºï¼ˆåœ¨Androidè®¾å¤‡ä¸Šè¿è¡Œï¼‰æ˜¯GATTå®¢æˆ·ç«¯ã€‚è¯¥åº”ç”¨ç¨‹åºä»GATTæœåŠ¡å™¨è·å–æ•°æ®ï¼ŒGATTæœåŠ¡å™¨æ˜¯æ”¯æŒå¿ƒç‡æ¡£æ¡ˆçš„BLEå¿ƒç‡ç›‘æµ‹å™¨ã€‚ä½†ä½ ä¹Ÿå¯ä»¥è®¾è®¡ä½ çš„Androidåº”ç”¨ç¨‹åºæ¥æ‰®æ¼”GATTæœåŠ¡å™¨çš„è§’è‰²ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…BluetoothGattServerã€‚ BLE æƒé™ï¼ˆPermissionsï¼‰ ä¸ºäº†åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è“ç‰™åŠŸèƒ½ï¼Œæ‚¨å¿…é¡»å£°æ˜ï¼ˆdeclareï¼‰ æƒé™1ï¼šBLUETOOTHã€‚æ‚¨éœ€è¦æ­¤æƒé™æ‰èƒ½æ‰§è¡Œï¼ˆperformï¼‰ä»»ä½• è“ç‰™é€šä¿¡ ï¼Œä¾‹å¦‚ è¯·æ±‚è¿æ¥ï¼Œæ¥å—è¿æ¥ä»¥åŠä¼ è¾“æ•°æ®ã€‚ å¦‚æœæ‚¨å¸Œæœ›æ‚¨çš„åº”ç”¨å¯åŠ¨è®¾å¤‡å‘ç°æˆ–æ“çºµï¼ˆmanipulateï¼‰è“ç‰™è®¾ç½®ï¼Œåˆ™è¿˜å¿…é¡»å£°æ˜ æƒé™2ï¼šBLUETOOTH_ADMINã€‚ æ³¨æ„ï¼šå¦‚æœæ‚¨ä½¿ç”¨BLUETOOTH_ADMINæƒé™ï¼Œåˆ™è¿˜å¿…é¡»å…·æœ‰BLUETOOTHæƒé™ã€‚ åœ¨åº”ç”¨ç¨‹åºæ¸…å•æ–‡ä»¶ä¸­å£°æ˜è“ç‰™è®¸å¯ã€‚ä¾‹å¦‚ï¼š 12&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt; å¦‚æœæ‚¨æƒ³å£°æ˜æ‚¨çš„åº”ç”¨ä»…é€‚ç”¨äºå…·æœ‰BLEåŠŸèƒ½çš„è®¾å¤‡ï¼Œè¯·åœ¨åº”ç”¨çš„æ¸…å•ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š 1&lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;true&quot;/&gt; ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æƒ³è®©æ‚¨çš„åº”ç”¨å¯ç”¨äºä¸æ”¯æŒBLEçš„è®¾å¤‡ï¼Œåˆ™åº”è¯¥åœ¨åº”ç”¨çš„æ¸…å•ä¸­åŒ…å«æ­¤å…ƒç´ ï¼Œä½†è®¾ç½®required =â€œfalseâ€ã€‚ ç„¶ååœ¨è¿è¡Œæ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨PackageManager.hasSystemFeatureï¼ˆï¼‰æ¥ç¡®å®šBLEå¯ç”¨æ€§ï¼š 123456// Use this check to determine whether BLE is supported on the device. Then// you can selectively disable BLE-related features.if (!getPackageManager().hasSystemFeature(PackageManager.FEATURE_BLUETOOTH_LE)) &#123; Toast.makeText(this, R.string.ble_not_supported, Toast.LENGTH_SHORT).show(); finish();&#125; æ³¨æ„ï¼šLEä¿¡æ ‡å¾€å¾€ä¸ä½ç½®æœ‰å…³ã€‚ ä¸ºäº†åœ¨æ²¡æœ‰è¿‡æ»¤å™¨çš„æƒ…å†µä¸‹ä½¿ç”¨BluetoothLeScannerï¼Œæ‚¨å¿…é¡»é€šè¿‡åœ¨åº”ç”¨çš„æ¸…å•æ–‡ä»¶ä¸­å£°æ˜ æƒé™3ï¼šACCESS_COARSE_LOCATION æˆ– æƒé™3ï¼šACCESS_FINE_LOCATION æƒé™æ¥è¯·æ±‚ç”¨æˆ·çš„è®¸å¯ã€‚ æ²¡æœ‰è¿™äº›æƒé™ï¼Œæ‰«æå°†ä¸ä¼šè¿”å›ä»»ä½•ç»“æœã€‚ è®¾ç½®BLEåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡BLEè¿›è¡Œé€šä¿¡ä¹‹å‰ï¼Œæ‚¨éœ€è¦éªŒè¯è®¾å¤‡æ˜¯å¦æ”¯æŒBLEï¼Œå¦‚æœæ˜¯ï¼Œè¯·ç¡®ä¿å·²å¯ç”¨BLEã€‚è¯·æ³¨æ„ï¼Œåªæœ‰åœ¨è®¾ç½®ä¸ºfalseæ—¶æ‰éœ€è¦æ‰§è¡Œæ­¤é¡¹æ£€æŸ¥ å¦‚æœä¸æ”¯æŒBLEï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥ç¦ç”¨ä»»ä½•BLEåŠŸèƒ½ã€‚å¦‚æœBLEæ”¯æŒï¼Œä½†è¢«ç¦ç”¨ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥è¯·æ±‚ç”¨æˆ·å¯ç”¨è“ç‰™ï¼Œè€Œæ— éœ€ç¦»å¼€æ‚¨çš„åº”ç”¨ç¨‹åºã€‚ ä½¿ç”¨BluetoothAdapterï¼Œå¯ä»¥åˆ†ä¸¤æ­¥å®Œæˆæ­¤è®¾ç½®ï¼š 1. è·å– BluetoothAdapterBluetoothAdapteræ˜¯ä»»ä½•å’Œæ‰€æœ‰çš„è“ç‰™æ´»åŠ¨æ‰€å¿…éœ€çš„ã€‚ BluetoothAdapterä»£è¡¨è®¾å¤‡è‡ªå·±çš„è“ç‰™é€‚é…å™¨ï¼ˆè“ç‰™æ— çº¿ç”µï¼‰ã€‚æ•´ä¸ªç³»ç»Ÿæœ‰ä¸€ä¸ªè“ç‰™é€‚é…å™¨ï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ä¸å®ƒè¿›è¡Œäº¤äº’ã€‚ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å¦‚ä½•è·å–é€‚é…å™¨ã€‚è¯·æ³¨æ„ï¼Œæ­¤æ–¹æ³•ä½¿ç”¨getSystemServiceï¼ˆï¼‰è¿”å›BluetoothManagerçš„å®ä¾‹ï¼Œç„¶åç”¨äºè·å–é€‚é…å™¨ã€‚ Android 4.3ï¼ˆAPI Level 18ï¼‰ä»‹ç»äº†BluetoothManagerï¼š 123456private BluetoothAdapter mBluetoothAdapter;...// Initializes Bluetooth adapter.final BluetoothManager bluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);mBluetoothAdapter = bluetoothManager.getAdapter(); 2. å¯ç”¨è“ç‰™æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦ç¡®ä¿è“ç‰™å·²å¯ç”¨ã€‚è°ƒç”¨isEnabledï¼ˆï¼‰æ¥æ£€æŸ¥å½“å‰æ˜¯å¦å¯ç”¨äº†è“ç‰™ã€‚å¦‚æœæ­¤æ–¹æ³•è¿”å›falseï¼Œåˆ™è“ç‰™è¢«ç¦ç”¨ã€‚ä»¥ä¸‹ç‰‡æ®µæ£€æŸ¥æ˜¯å¦å¯ç”¨äº†è“ç‰™ã€‚å¦‚æœä¸æ˜¯ï¼Œè¯¥ç‰‡æ®µä¼šæ˜¾ç¤ºä¸€ä¸ªé”™è¯¯ï¼Œæç¤ºç”¨æˆ·è½¬åˆ°è®¾ç½®ä»¥å¯ç”¨è“ç‰™ï¼š 123456// Ensures Bluetooth is available on the device and it is enabled. If not,// displays a dialog requesting user permission to enable Bluetooth.if (mBluetoothAdapter == null || !mBluetoothAdapter.isEnabled()) &#123; Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE); startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);&#125; æ³¨æ„ï¼šä¼ é€’ç»™ startActivityForResultï¼ˆandroid.content.Intentï¼Œintï¼‰çš„REQUEST_ENABLE_BTå¸¸é‡æ˜¯ç³»ç»Ÿåœ¨onActivityResultï¼ˆintï¼Œintï¼Œandroid.contentï¼‰ä¸­è¿”å›ç»™æ‚¨çš„æœ¬åœ°å®šä¹‰çš„æ•´æ•°ï¼ˆå®ƒå¿…é¡»å¤§äº0ï¼‰ï¼‰å®ç°ä½œä¸ºrequestCodeå‚æ•°ã€‚ æŸ¥æ‰¾BLEè®¾å¤‡è¦æŸ¥æ‰¾BLEè®¾å¤‡ï¼Œè¯·ä½¿ç”¨startLeScanï¼ˆï¼‰æ–¹æ³•ã€‚ æ­¤æ–¹æ³•å°†BluetoothAdapter.LeScanCallbackä½œä¸ºå‚æ•°ã€‚ æ‚¨å¿…é¡»å®ç°æ­¤BluetoothAdapter.LeScanCallbackï¼Œå› ä¸ºè¿™æ˜¯å¦‚ä½•è¿”å›æ‰«æç»“æœã€‚ ç”±äºæ‰«æè€—ç”µé‡å¤§ï¼Œæ‚¨åº”éµå®ˆä»¥ä¸‹å‡†åˆ™: ä¸€æ—¦æ‰¾åˆ°æ‰€éœ€çš„è®¾å¤‡ï¼Œè¯·åœæ­¢æ‰«æ åˆ‡å‹¿æ‰«æå¾ªç¯ï¼Œå¹¶åœ¨æ‰«æä¸Šè®¾ç½®æ—¶é—´é™åˆ¶ã€‚ä»¥å‰å¯ç”¨çš„è®¾å¤‡å¯èƒ½å·²ç§»å‡ºèŒƒå›´ï¼Œå¹¶ç»§ç»­æ‰«æç”µæ± ç”µé‡ã€‚ ä»¥ä¸‹ç‰‡æ®µæ˜¾ç¤ºäº†å¦‚ä½•å¯åŠ¨å’Œåœæ­¢æ‰«æï¼š 123456789101112131415161718192021222324252627282930313233/** * Activity for scanning and displaying available BLE devices. */public class DeviceScanActivity extends ListActivity &#123; private BluetoothAdapter mBluetoothAdapter; private boolean mScanning; private Handler mHandler; // Stops scanning after 10 seconds. private static final long SCAN_PERIOD = 10000; ... private void scanLeDevice(final boolean enable) &#123; if (enable) &#123; // Stops scanning after a pre-defined scan period. mHandler.postDelayed(new Runnable() &#123; @Override public void run() &#123; mScanning = false; mBluetoothAdapter.stopLeScan(mLeScanCallback); &#125; &#125;, SCAN_PERIOD); mScanning = true; mBluetoothAdapter.startLeScan(mLeScanCallback); &#125; else &#123; mScanning = false; mBluetoothAdapter.stopLeScan(mLeScanCallback); &#125; ... &#125;...&#125; å¦‚æœåªæƒ³æ‰«æç‰¹å®šç±»å‹çš„å¤–è®¾ï¼Œåˆ™æ”¹ä¸ºè°ƒç”¨startLeScanï¼ˆUUID []ï¼ŒBluetoothAdapter.LeScanCallbackï¼‰ï¼Œæä¾›æŒ‡å®šæ‚¨çš„åº”ç”¨ç¨‹åºæ”¯æŒçš„GATTæœåŠ¡çš„UUIDå¯¹è±¡æ•°ç»„ã€‚ ä»¥ä¸‹æ˜¯BluetoothAdapter.LeScanCallbackçš„ä¸€ä¸ªå®ç°ï¼Œå®ƒæ˜¯ç”¨äºä¼ é€’BLEæ‰«æç»“æœçš„æ¥å£ğŸ¤”ï¼š 1234567891011121314151617private LeDeviceListAdapter mLeDeviceListAdapter;...// Device scan callback.private BluetoothAdapter.LeScanCallback mLeScanCallback = new BluetoothAdapter.LeScanCallback() &#123; @Override public void onLeScan(final BluetoothDevice device, int rssi, byte[] scanRecord) &#123; runOnUiThread(new Runnable() &#123; @Override public void run() &#123; mLeDeviceListAdapter.addDevice(device); mLeDeviceListAdapter.notifyDataSetChanged(); &#125; &#125;); &#125;&#125;; æ³¨æ„ï¼šæ‚¨åªèƒ½æ‰«æè“ç‰™LEè®¾å¤‡æˆ–æ‰«æç»å…¸è“ç‰™è®¾å¤‡ï¼Œå¦‚è“ç‰™ä¸­æ‰€è¿°ã€‚æ‚¨æ— æ³•åŒæ—¶æ‰«æBluetooth LEå’Œä¼ ç»Ÿè®¾å¤‡ã€‚ è¿æ¥åˆ°GATTæœåŠ¡å™¨ï¼ˆå‘é€æ•°æ®çš„BLEè®¾å¤‡ï¼‰ ä¸BLEè®¾å¤‡äº¤äº’çš„ç¬¬ä¸€æ­¥æ˜¯è¿æ¥åˆ°å®ƒï¼Œæ›´å…·ä½“åœ°è¯´ï¼Œè¿æ¥åˆ°è®¾å¤‡ä¸Šçš„GATTæœåŠ¡å™¨ã€‚ è¦è¿æ¥åˆ°BLEè®¾å¤‡ä¸Šçš„GATTæœåŠ¡å™¨ï¼Œè¯·ä½¿ç”¨connectGattï¼ˆï¼‰æ–¹æ³•ã€‚ æ­¤æ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°ï¼šä¸€ä¸ªContextå¯¹è±¡ï¼ŒautoConnectï¼ˆå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºæ˜¯å¦åœ¨BLEè®¾å¤‡å˜ä¸ºå¯ç”¨æ—¶è‡ªåŠ¨è¿æ¥ï¼‰ä»¥åŠå¯¹BluetoothGattCallbackçš„å¼•ç”¨ï¼š 1mBluetoothGatt = device.connectGatt(this, false, mGattCallback); è¿™å°†è¿æ¥åˆ°ç”±BLEè®¾å¤‡æ‰˜ç®¡çš„GATTæœåŠ¡å™¨ï¼Œå¹¶è¿”å›ä¸€ä¸ªBluetoothGattå®ä¾‹ï¼Œç„¶åæ‚¨å¯ä»¥ä½¿ç”¨è¯¥å®ä¾‹æ¥æ‰§è¡ŒGATTå®¢æˆ·ç«¯æ“ä½œã€‚ è°ƒç”¨è€…ï¼ˆAndroidåº”ç”¨ç¨‹åºï¼‰æ˜¯GATTå®¢æˆ·ç«¯ã€‚ BluetoothGattCallbackç”¨äºå‘å®¢æˆ·ç«¯ä¼ é€’ç»“æœï¼Œä¾‹å¦‚è¿æ¥çŠ¶æ€ï¼Œä»¥åŠä»»ä½•å…¶ä»–GATTå®¢æˆ·ç«¯æ“ä½œ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒBLEåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªActivityï¼ˆDeviceControlActivityï¼‰æ¥è¿æ¥ï¼Œæ˜¾ç¤ºæ•°æ®ï¼Œå¹¶æ˜¾ç¤ºè®¾å¤‡æ”¯æŒçš„GATTæœåŠ¡å’Œç‰¹æ€§ã€‚ æ ¹æ®ç”¨æˆ·è¾“å…¥ï¼Œæ­¤Activityä¸ä¸€ä¸ªåä¸ºBluetoothLeServiceçš„æœåŠ¡è¿›è¡Œé€šä¿¡ï¼Œè¯¥æœåŠ¡é€šè¿‡Android BLE APIä¸BLEè®¾å¤‡è¿›è¡Œäº¤äº’ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374// A service that interacts with the BLE device via the Android BLE API.public class BluetoothLeService extends Service &#123; private final static String TAG = BluetoothLeService.class.getSimpleName(); private BluetoothManager mBluetoothManager; private BluetoothAdapter mBluetoothAdapter; private String mBluetoothDeviceAddress; private BluetoothGatt mBluetoothGatt; private int mConnectionState = STATE_DISCONNECTED; private static final int STATE_DISCONNECTED = 0; private static final int STATE_CONNECTING = 1; private static final int STATE_CONNECTED = 2; public final static String ACTION_GATT_CONNECTED = &quot;com.example.bluetooth.le.ACTION_GATT_CONNECTED&quot;; public final static String ACTION_GATT_DISCONNECTED = &quot;com.example.bluetooth.le.ACTION_GATT_DISCONNECTED&quot;; public final static String ACTION_GATT_SERVICES_DISCOVERED = &quot;com.example.bluetooth.le.ACTION_GATT_SERVICES_DISCOVERED&quot;; public final static String ACTION_DATA_AVAILABLE = &quot;com.example.bluetooth.le.ACTION_DATA_AVAILABLE&quot;; public final static String EXTRA_DATA = &quot;com.example.bluetooth.le.EXTRA_DATA&quot;; public final static UUID UUID_HEART_RATE_MEASUREMENT = UUID.fromString(SampleGattAttributes.HEART_RATE_MEASUREMENT); // Various callback methods defined by the BLE API. private final BluetoothGattCallback mGattCallback = new BluetoothGattCallback() &#123; @Override public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) &#123; String intentAction; if (newState == BluetoothProfile.STATE_CONNECTED) &#123; intentAction = ACTION_GATT_CONNECTED; mConnectionState = STATE_CONNECTED; broadcastUpdate(intentAction); Log.i(TAG, &quot;Connected to GATT server.&quot;); Log.i(TAG, &quot;Attempting to start service discovery:&quot; + mBluetoothGatt.discoverServices()); &#125; else if (newState == BluetoothProfile.STATE_DISCONNECTED) &#123; intentAction = ACTION_GATT_DISCONNECTED; mConnectionState = STATE_DISCONNECTED; Log.i(TAG, &quot;Disconnected from GATT server.&quot;); broadcastUpdate(intentAction); &#125; &#125; @Override // New services discovered public void onServicesDiscovered(BluetoothGatt gatt, int status) &#123; if (status == BluetoothGatt.GATT_SUCCESS) &#123; broadcastUpdate(ACTION_GATT_SERVICES_DISCOVERED); &#125; else &#123; Log.w(TAG, &quot;onServicesDiscovered received: &quot; + status); &#125; &#125; @Override // Result of a characteristic read operation public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) &#123; if (status == BluetoothGatt.GATT_SUCCESS) &#123; broadcastUpdate(ACTION_DATA_AVAILABLE, characteristic); &#125; &#125; ... &#125;;...&#125; å½“ä¸€ä¸ªç‰¹å®šçš„å›è°ƒè¢«è§¦å‘æ—¶ï¼Œå®ƒä¼šè°ƒç”¨ç›¸åº”çš„broadcastUpdateï¼ˆï¼‰è¾…åŠ©æ–¹æ³•å¹¶ä¼ é€’ä¸€ä¸ªåŠ¨ä½œã€‚ è¯·æ³¨æ„ï¼Œæœ¬èŠ‚ä¸­çš„æ•°æ®è§£ææ˜¯æ ¹æ®è“ç‰™å¿ƒç‡æµ‹é‡é…ç½®æ–‡ä»¶è§„èŒƒæ‰§è¡Œçš„ï¼š 12345678910111213141516171819202122232425262728293031323334353637private void broadcastUpdate(final String action) &#123; final Intent intent = new Intent(action); sendBroadcast(intent);&#125;private void broadcastUpdate(final String action, final BluetoothGattCharacteristic characteristic) &#123; final Intent intent = new Intent(action); // This is special handling for the Heart Rate Measurement profile. Data // parsing is carried out as per profile specifications. if (UUID_HEART_RATE_MEASUREMENT.equals(characteristic.getUuid())) &#123; int flag = characteristic.getProperties(); int format = -1; if ((flag &amp; 0x01) != 0) &#123; format = BluetoothGattCharacteristic.FORMAT_UINT16; Log.d(TAG, &quot;Heart rate format UINT16.&quot;); &#125; else &#123; format = BluetoothGattCharacteristic.FORMAT_UINT8; Log.d(TAG, &quot;Heart rate format UINT8.&quot;); &#125; final int heartRate = characteristic.getIntValue(format, 1); Log.d(TAG, String.format(&quot;Received heart rate: %d&quot;, heartRate)); intent.putExtra(EXTRA_DATA, String.valueOf(heartRate)); &#125; else &#123; // For all other profiles, writes the data formatted in HEX. final byte[] data = characteristic.getValue(); if (data != null &amp;&amp; data.length &gt; 0) &#123; final StringBuilder stringBuilder = new StringBuilder(data.length); for(byte byteChar : data) stringBuilder.append(String.format(&quot;%02X &quot;, byteChar)); intent.putExtra(EXTRA_DATA, new String(data) + &quot;\n&quot; + stringBuilder.toString()); &#125; &#125; sendBroadcast(intent);&#125; å›åˆ°DeviceControlActivityä¸­ï¼Œè¿™äº›äº‹ä»¶ç”±BroadcastReceiverå¤„ç†ï¼š 1234567891011121314151617181920212223242526272829// Handles various events fired by the Service.// ACTION_GATT_CONNECTED: connected to a GATT server.// ACTION_GATT_DISCONNECTED: disconnected from a GATT server.// ACTION_GATT_SERVICES_DISCOVERED: discovered GATT services.// ACTION_DATA_AVAILABLE: received data from the device. This can be a// result of read or notification operations.private final BroadcastReceiver mGattUpdateReceiver = new BroadcastReceiver() &#123; @Override public void onReceive(Context context, Intent intent) &#123; final String action = intent.getAction(); if (BluetoothLeService.ACTION_GATT_CONNECTED.equals(action)) &#123; mConnected = true; updateConnectionState(R.string.connected); invalidateOptionsMenu(); &#125; else if (BluetoothLeService.ACTION_GATT_DISCONNECTED.equals(action)) &#123; mConnected = false; updateConnectionState(R.string.disconnected); invalidateOptionsMenu(); clearUI(); &#125; else if (BluetoothLeService. ACTION_GATT_SERVICES_DISCOVERED.equals(action)) &#123; // Show all the supported services and characteristics on the // user interface. displayGattServices(mBluetoothLeService.getSupportedGattServices()); &#125; else if (BluetoothLeService.ACTION_DATA_AVAILABLE.equals(action)) &#123; displayData(intent.getStringExtra(BluetoothLeService.EXTRA_DATA)); &#125; &#125;&#125;; è¯»å–BLEå±æ€§ä¸€æ—¦ä½ çš„Androidåº”ç”¨ç¨‹åºè¿æ¥åˆ°GATTæœåŠ¡å™¨å¹¶å‘ç°æœåŠ¡ï¼Œå®ƒå°±å¯ä»¥åœ¨æ”¯æŒçš„åœ°æ–¹è¯»å–å’Œå†™å…¥å±æ€§ã€‚ä¾‹å¦‚ï¼Œè¿™ä¸ªä»£ç ç‰‡æ®µéå†æœåŠ¡å™¨çš„æœåŠ¡å’Œç‰¹æ€§ï¼Œå¹¶åœ¨UIä¸­æ˜¾ç¤ºå®ƒä»¬ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657public class DeviceControlActivity extends Activity &#123; ... // ï¼ˆæ¼”ç¤ºï¼‰Demonstrates how to ï¼ˆéå†ï¼‰iterate through the supported GATT // Services/Characteristics. // In this sample, we ï¼ˆå¡«å……ï¼‰populate the data structure that is bound to the // ExpandableListView on the UI. private void displayGattServices(List&lt;BluetoothGattService&gt; gattServices) &#123; if (gattServices == null) return; String uuid = null; String unknownServiceString = getResources(). getString(R.string.unknown_service); String unknownCharaString = getResources(). getString(R.string.unknown_characteristic); ArrayList&lt;HashMap&lt;String, String&gt;&gt; gattServiceData = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;(); ArrayList&lt;ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; gattCharacteristicData = new ArrayList&lt;ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;(); mGattCharacteristics = new ArrayList&lt;ArrayList&lt;BluetoothGattCharacteristic&gt;&gt;(); // Loops through available GATT Services. for (BluetoothGattService gattService : gattServices) &#123; HashMap&lt;String, String&gt; currentServiceData = new HashMap&lt;String, String&gt;(); uuid = gattService.getUuid().toString(); currentServiceData.put( LIST_NAME, SampleGattAttributes. lookup(uuid, unknownServiceString)); currentServiceData.put(LIST_UUID, uuid); gattServiceData.add(currentServiceData); ArrayList&lt;HashMap&lt;String, String&gt;&gt; gattCharacteristicGroupData = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;(); List&lt;BluetoothGattCharacteristic&gt; gattCharacteristics = gattService.getCharacteristics(); ArrayList&lt;BluetoothGattCharacteristic&gt; charas = new ArrayList&lt;BluetoothGattCharacteristic&gt;(); // Loops through available Characteristics. for (BluetoothGattCharacteristic gattCharacteristic : gattCharacteristics) &#123; charas.add(gattCharacteristic); HashMap&lt;String, String&gt; currentCharaData = new HashMap&lt;String, String&gt;(); uuid = gattCharacteristic.getUuid().toString(); currentCharaData.put( LIST_NAME, SampleGattAttributes.lookup(uuid, unknownCharaString)); currentCharaData.put(LIST_UUID, uuid); gattCharacteristicGroupData.add(currentCharaData); &#125; mGattCharacteristics.add(charas); gattCharacteristicData.add(gattCharacteristicGroupData); &#125; ... &#125;...&#125; æ¥æ”¶GATTé€šçŸ¥BLEåº”ç”¨ç¨‹åºåœ¨è®¾å¤‡ä¸Šå‘ç”Ÿç‰¹å®šç‰¹å¾å˜åŒ–æ—¶è¦æ±‚æ”¶åˆ°é€šçŸ¥æ˜¯å¾ˆå¸¸è§çš„ã€‚è¿™æ®µä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨setCharacteristicNotificationï¼ˆï¼‰æ–¹æ³•ä¸ºç‰¹æ€§è®¾ç½®é€šçŸ¥ 12345678910private BluetoothGatt mBluetoothGatt;BluetoothGattCharacteristic characteristic;boolean enabled;...mBluetoothGatt.setCharacteristicNotification(characteristic, enabled);...BluetoothGattDescriptor descriptor = characteristic.getDescriptor( UUID.fromString(SampleGattAttributes.CLIENT_CHARACTERISTIC_CONFIG));descriptor.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);mBluetoothGatt.writeDescriptor(descriptor); ä¸€æ—¦ä¸ºç‰¹å¾å¯ç”¨äº†é€šçŸ¥ï¼Œå¦‚æœç‰¹æ€§åœ¨è¿œç¨‹è®¾å¤‡ä¸Šå‘ç”Ÿå˜åŒ–ï¼Œåˆ™ä¼šè§¦å‘onCharacteristicChangedï¼ˆï¼‰å›è°ƒï¼š 123456@Override// Characteristic notificationpublic void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) &#123; broadcastUpdate(ACTION_DATA_AVAILABLE, characteristic);&#125; å…³é—­å®¢æˆ·ç«¯Appä¸€æ—¦æ‚¨çš„åº”ç”¨ç¨‹åºä½¿ç”¨BLEè®¾å¤‡ï¼Œåº”è¯¥è°ƒç”¨closeï¼ˆï¼‰ï¼Œä»¥ä¾¿ç³»ç»Ÿå¯ä»¥æ­£ç¡®é‡Šæ”¾èµ„æºï¼š 1234567public void close() &#123; if (mBluetoothGatt == null) &#123; return; &#125; mBluetoothGatt.close(); mBluetoothGatt = null;&#125; Android BLE APIBluetoothAdapterä»£è¡¨æœ¬åœ°è®¾å¤‡è“ç‰™é€‚é…å™¨ã€‚ BluetoothAdapterå…è®¸æ‚¨æ‰§è¡ŒåŸºæœ¬çš„è“ç‰™ä»»åŠ¡ï¼Œä¾‹å¦‚å¯åŠ¨è®¾å¤‡å‘ç°ï¼ŒæŸ¥è¯¢ç»‘å®šï¼ˆé…å¯¹ï¼‰è®¾å¤‡åˆ—è¡¨ï¼Œä½¿ç”¨å·²çŸ¥çš„MACåœ°å€å®ä¾‹åŒ–BluetoothDeviceï¼Œå¹¶åˆ›å»ºBluetoothServerSocketä»¥ä¾¦å¬æ¥è‡ªå…¶ä»–è®¾å¤‡çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶å¯åŠ¨æ‰«æè“ç‰™LEè®¾å¤‡ã€‚ è¦è·å¾—ä»£è¡¨æœ¬åœ°è“ç‰™é€‚é…å™¨çš„BluetoothAdapterï¼Œè¯·åœ¨BluetoothManagerä¸Šè°ƒç”¨getAdapterï¼ˆï¼‰å‡½æ•°ã€‚åœ¨JELLY_BEAN_MR1å’Œä¸‹é¢ï¼Œæ‚¨å°†éœ€è¦ä½¿ç”¨é™æ€getDefaultAdapterï¼ˆï¼‰æ–¹æ³•ã€‚ ä»æ ¹æœ¬ä¸Šè¯´ï¼Œè¿™æ˜¯æ‰€æœ‰è“ç‰™æ“ä½œçš„èµ·ç‚¹ã€‚ä¸€æ—¦ä½ æœ‰äº†æœ¬åœ°é€‚é…å™¨ï¼Œä½ å°±å¯ä»¥ç”¨getBondedDevicesï¼ˆï¼‰è·å¾—ä¸€ç»„ä»£è¡¨æ‰€æœ‰é…å¯¹è®¾å¤‡çš„BluetoothDeviceå¯¹è±¡ã€‚ç”¨startDiscoveryï¼ˆï¼‰å¯åŠ¨è®¾å¤‡å‘ç°;æˆ–è€…ç”¨listenUsingRfcommWithServiceRecordï¼ˆStringï¼ŒUUIDï¼‰åˆ›å»ºä¸€ä¸ªBluetoothServerSocketç›‘å¬ä¼ å…¥çš„è¿æ¥è¯·æ±‚;æˆ–ä½¿ç”¨startLeScanï¼ˆLeScanCallbackï¼‰å¼€å§‹æ‰«æè“ç‰™LEè®¾å¤‡ã€‚ æ³¨ï¼šå¤§å¤šæ•°æ–¹æ³•éœ€è¦BLUETOOTHæƒé™ï¼Œæœ‰äº›è¿˜éœ€è¦BLUETOOTH_ADMINæƒé™ã€‚ BluetoothAdapter.LeScanCallbackï¼šç”¨äºæä¾›LEæ‰«æç»“æœçš„å›è°ƒæ¥å£ã€‚ BluetoothManagerç”¨äºè·å–BluetoothAdapterçš„å®ä¾‹å¹¶è¿›è¡Œæ•´ä½“è“ç‰™ç®¡ç†ã€‚ä½¿ç”¨å¸¦æœ‰BLUETOOTH_SERVICEçš„getSystemServiceï¼ˆjava.lang.Stringï¼‰æ¥åˆ›å»ºä¸€ä¸ªBluetoothManagerï¼Œç„¶åè°ƒç”¨getAdapterï¼ˆï¼‰æ¥è·å¾—BluetoothAdapter BluetoothGattè“ç‰™GATTé…ç½®æ–‡ä»¶çš„å…¬å…±APIã€‚ æœ¬classæä¾›è“ç‰™GATTåŠŸèƒ½ï¼Œä»¥å®ç°ä¸Bluetooth Smartæˆ–Smart Readyè®¾å¤‡çš„é€šä¿¡ã€‚ è¦è¿æ¥åˆ°è¿œç¨‹å¤–å›´è®¾å¤‡ï¼Œè¯·åˆ›å»ºä¸€ä¸ªBluetoothGattCallbackå¹¶è°ƒç”¨connectGattï¼ˆContextï¼Œbooleanï¼ŒBluetoothGattCallbackï¼‰æ¥è·å–æ­¤ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚ ä½¿ç”¨è“ç‰™è®¾å¤‡å‘ç°æˆ–BLEæ‰«æè¿‡ç¨‹å¯ä»¥å‘ç°æ”¯æŒGATTçš„è®¾å¤‡ã€‚ BluetoothGattCallbackè¿™ä¸ªæŠ½è±¡ç±»çš„ä½œç”¨æ˜¯å®ç°BluetoothGattçš„å›è°ƒã€‚ BluetoothGattCharacteristicä»£è¡¨è“ç‰™GATTç‰¹æ€§ã€‚GATTç‰¹æ€§æ˜¯ç”¨äºæ„å»ºGATTæœåŠ¡çš„åŸºæœ¬æ•°æ®å…ƒç´ ï¼ŒBluetoothGattServiceã€‚ è¯¥ç‰¹æ€§åŒ…å«ä¸€ä¸ªå€¼ä»¥åŠé™„åŠ ä¿¡æ¯å’Œå¯é€‰çš„GATTæè¿°ç¬¦BluetoothGattDescriptorã€‚ BluetoothGattServiceä»£è¡¨ä¸€ä¸ªè“ç‰™GATTæœåŠ¡ã€‚GattæœåŠ¡åŒ…å«ä¸€ç³»åˆ—BluetoothGattCharacteristicä»¥åŠå¼•ç”¨çš„æœåŠ¡ã€‚ BluetoothGattDescriptorä»£è¡¨ä¸€ä¸ªè“ç‰™GATTæè¿°ç¬¦.GATTæè¿°ç¬¦åŒ…å«GATTç‰¹æ€§çš„é™„åŠ ä¿¡æ¯å’Œå±æ€§ï¼ŒBluetoothGattCharacteristicã€‚ å®ƒä»¬å¯ä»¥ç”¨æ¥æè¿°ç‰¹å¾çš„ç‰¹å¾æˆ–æ§åˆ¶ç‰¹å¾çš„æŸäº›è¡Œä¸ºã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android.è“ç‰™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scrapyçˆ¬å–åœ°å€5çº§è”åŠ¨æ•°æ® - åˆçº§]]></title>
    <url>%2FScrapy%E7%88%AC%E5%8F%96%E5%9C%B0%E5%9D%805%E7%BA%A7%E8%81%94%E5%8A%A8%E6%95%B0%E6%8D%AE%20-%20%E5%88%9D%E7%BA%A7%2F</url>
    <content type="text"><![CDATA[Scrapyä½¿ç”¨ - â€œåŒºåˆ’ä»£ç å’ŒåŸä¹¡åˆ’åˆ†ä»£ç â€æ•°æ®çˆ¬å– - åˆçº§ 1. æ•°æ®æ¥æºå›½å®¶ç»Ÿè®¡å±€ï¼š http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/index.html 2. Scrapyæ¡†æ¶ã€é¡¹ç›®ç»“æ„ï¼š 3. åŸå§‹æ•°æ®3.1 ç¬¬ä¸€çº§ï¼šçœã€ç›´è¾–å¸‚ 3.2 ç¬¬äºŒçº§ï¼šåœ°çº§å¸‚ 3.3 ç¬¬ä¸‰çº§ï¼šåŒºã€å¿ã€ä¹¡ 3.4 ç¬¬å››çº§ï¼šè¡—é“ã€é•‡ 3.5 ç¬¬äº”çº§ï¼šç¤¾åŒºã€å±…å§”ä¼šã€æ‘ 3.6 åŒºåŸŸä»£ç å«ä¹‰ï¼š37(çœ)07(å¸‚)84(åŒº)118(é•‡)224(æ‘) 3.7 åŸä¹¡åˆ†ç±»ä»£ç  100 åŸé•‡ 110 åŸåŒº 111 ä¸»åŸåŒº 112 åŸä¹¡ç»“åˆåŒº 120 é•‡åŒº 121 é•‡ä¸­å¿ƒåŒº 122 é•‡ä¹¡ç»“åˆåŒº 123 ç‰¹æ®ŠåŒºåŸŸ 200 ä¹¡æ‘ 210 ä¹¡ä¸­å¿ƒåŒº 220 æ‘åº„ 4. æ•°æ®åº“ç»“æ„4.1 æ•´ä½“ç»“æ„ 4.2 ç±»ä¼¼çš„è¡¨ç»“æ„ 5. çˆ¬å–æ•°æ®ç»“æœ5.1 ç¬¬å››çº§ï¼šé•‡æ•°æ®è·å–log 5.2 ç¬¬äº”çº§ï¼šæ‘æ•°æ®è·å–log 5.3 ç¬¬å››çº§ï¼šé•‡æ•°æ® æ•°é‡ - 42866 5.4 ç¬¬äº”çº§ï¼šæ‘æ•°æ® æ•°é‡ - 666655 6. æ‰§è¡Œä»£ç 6.1 æ ¸å¿ƒå¤„ç†ï¼š ç›®çš„æ•°æ®è§£æï¼š 12node = sel.xpath('//tr[@class="provincetr"]/td/a/text()')node_href = sel.xpath('//tr[@class="provincetr"]/td/a/@href') çˆ¬å–åµŒå¥—URLï¼š 12 cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + province_href[1:8]yield Request(url=cl, callback=self.parse_second, dont_filter=True) å‘æ•°æ®åº“å¡«å†™æ•°æ®ï¼š 1234567891011121314151617181920n = len(node_city) m = 0 while m &lt; n: code = json.dumps((node_city[m:m + 1]).extract(), ensure_ascii=False) name = json.dumps((node_city[m + 1:m + 2]).extract(), ensure_ascii=False) print(code[1:len(code) - 1]) print(name[1:len(name) - 1]) db = NorthernOpenSpacePipeline() sql = "insert into city_table (" + 'city_code,' + 'city_name,' + 'simple_city_code,' + 'grade' + ") VALUE (" + code[ 1:len( code) - 1] + "," + name[ 1:len( name) - 1] + "," + ( code[ 1:len( code) - 1])[ 1:5] + "," + "2" + ")" db.insertIntoTable(sql=sql) m = m + 2 6.2 ä»£ç ç‰ˆæœ¬å±•ç¤ºVersion 1 - è·å–æ•°æ®ï¼Œé€šè¿‡Terminalæ˜¾ç¤º123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222# coding=utf-8# è¦åœ¨ä»£ç ä¸­ä½¿ç”¨"ä¸­æ–‡"æ³¨é‡Šï¼Œåº”è¯¥é¦–å…ˆæ·»åŠ å¦‚ä¸Šæ³¨é‡Šï¼Œè¯´æ˜æ˜¯ä¸­æ–‡æ³¨é‡Šimport jsonfrom scrapy import Spider, Selectorfrom scrapy.http.request import Requestimport reclass NOSSpider(Spider): name = "NOS" allowed_domains = ["www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm"] start_urls = ["http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/index.html"] # ç¬¬ä¸€çº§ urlï¼Œ çœçº§ä¿¡æ¯ ä¸€çº§ def parse(self, response): sel = Selector(response) items = [] node = sel.xpath('//tr[@class="provincetr"]/td/a/text()') node_href = sel.xpath('//tr[@class="provincetr"]/td/a/@href') for item_node in node: province_name = json.dumps(item_node.extract(), ensure_ascii=False) # åç§° ï¼š"å±±ä¸œçœ" # print(province_name) for item_node2 in node_href: province_href = json.dumps(item_node2.extract(), ensure_ascii=False) province_code = province_href[1:3] # Url ï¼š"37.html" # print(province_href) # ä»£ç  ï¼š37 # print(province_code) # è·å–å½“å‰çœçº§åç§°ä¸‹çš„ åœ°çº§å¸‚ä¿¡æ¯ äºŒçº§ cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + province_href[1:8] yield Request(url=cl, callback=self.parse_second, dont_filter=True) def parse_second(self, response): second = Selector(response) # node_city = json.dumps(sell.xpath('//tr[@class="citytr"]/td/a/text()').extract(), ensure_ascii=False) node_city = second.xpath('//tr[@class="citytr"]/td/a/text()') node_city_href = second.xpath('//tr[@class="citytr"]/td/a/@href') # print(node_city) # åŸå¸‚ä»£ç list city_codes = [] # åŸå¸‚åç§°list city_name = [] # åŸå¸‚href list city_href = [] for item in node_city: city = json.dumps(item.extract(), ensure_ascii=False) # æ£€æµ‹å½“å‰å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸º æ•°å­— ï¼Ÿ if city[1:13].isdigit(): # å°†å­—ç¬¦ä¸²æ•°æ®å­˜è‡³listç±»å‹æ•°æ®ä¸­ city_codes.append(city) # print("ä»£ç ï¼š") # print(city) else: city_name.append(city) # print("åç§°ï¼š") # print(city) for href_item in node_city_href: city_href_item = json.dumps(href_item.extract(), ensure_ascii=False) # å°†å•ä¸ª "åŸå¸‚href" æ·»åŠ è‡³ "listä¸­" city_href.append(city_href_item) # å¯¹å¾—åˆ°çš„ "åŸå¸‚href" åš "listå»é‡" city_href = list(set(city_href)) city_codes = list(set(city_codes)) city_name = list(set(city_name)) for item in city_href: cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + item[1:13] # ç¬¬ä¸‰çº§æ•°æ®å±•ç¤º yield Request(url=cl, callback=self.parse_thread, dont_filter=True) def parse_thread(self, response): thread = Selector(response) node_county = thread.xpath('//tr[@class="countytr"]/td/a/text()') node_county_href = thread.xpath('//tr[@class="countytr"]/td/a/@href') # å¿åŒºçº§ ä»£ç list county_codes = [] # å¿åŒºçº§ åç§°list county_name = [] # å¿åŒºçº§ href list county_href = [] for item in node_county: county = json.dumps(item.extract(), ensure_ascii=False) # æ£€æµ‹å½“å‰å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸º æ•°å­— ï¼Ÿ if county[1:13].isdigit(): # å°†å­—ç¬¦ä¸²æ•°æ®å­˜è‡³listç±»å‹æ•°æ®ä¸­ county_codes.append(county) # print("ä»£ç ï¼š") # print(county) else: county_name.append(county) # print("åç§°ï¼š") # print(county) for href_item in node_county_href: county_href_item = json.dumps(href_item.extract(), ensure_ascii=False) # å°†å•ä¸ª "å¿åŒºçº§ href" æ·»åŠ è‡³ "listä¸­" county_href.append(county_href_item) # å¯¹å¾—åˆ°çš„ "å¿åŒºçº§ href" åš "listå»é‡" county_href = list(set(county_href)) county_codes = list(set(county_codes)) # print(county_codes) county_name = list(set(county_name)) for href, codes in zip(county_href, county_codes): # 57 68 cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + codes[1:3] + "/" + href[1:15] # http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/21/13/211321.html # http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/21/13/211321.html # ç¬¬å››çº§æ•°æ®å±•ç¤º yield Request(url=cl, callback=self.parse_fourth, dont_filter=True) def parse_fourth(self, response): thread = Selector(response) node_towntr = thread.xpath('//tr[@class="towntr"]/td/a/text()') node_towntr_href = thread.xpath('//tr[@class="towntr"]/td/a/@href') # è¡—é“åŠ ä»£ç list towntr_codes = [] # è¡—é“åŠ åç§°list towntr_name = [] # è¡—é“åŠ href list towntr_href = [] for item in node_towntr: towntr = json.dumps(item.extract(), ensure_ascii=False) # æ£€æµ‹å½“å‰å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸º æ•°å­— ï¼Ÿ if towntr[1:13].isdigit(): # å°†å­—ç¬¦ä¸²æ•°æ®å­˜è‡³listç±»å‹æ•°æ®ä¸­ towntr_codes.append(towntr) print("ä»£ç ï¼š") print(towntr) else: towntr_name.append(towntr) print("åç§°ï¼š") print(towntr) for href_item in node_towntr_href: towntr_href_item = json.dumps(href_item.extract(), ensure_ascii=False) # print(towntr_href_item) # å°†å•ä¸ª "è¡—é“åŠ href" æ·»åŠ è‡³ "listä¸­" towntr_href.append(towntr_href_item) # å¯¹å¾—åˆ°çš„ "è¡—é“åŠ href" åš "listå»é‡" towntr_href = list(set(towntr_href)) towntr_codes = list(set(towntr_codes)) towntr_name = list(set(towntr_name)) for href, code in zip(towntr_href, towntr_codes): cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + code[1:3] + "/" + code[3:5] + "/" + href[1:18] print(cl) # http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/21/13/211321.html # http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/65/29/652927.html # http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/21/13/21/211321001.html # code : 211321001000 # href : 21/211321001.html # ç¬¬äº”çº§æ•°æ®å±•ç¤º yield Request(url=cl, callback=self.parse_Five, dont_filter=True) def parse_Five(self, response): thread = Selector(response) node_village = thread.xpath('//tr[@class="villagetr"]/td/text()') # ç¤¾åŒº åŒºåˆ’ä»£ç  list village_codes = [] # ç¤¾åŒº åŸä¹¡åˆ†ç±»ä»£ç  list village_categary = [] # ç¤¾åŒº åç§° list village_name = [] for item in node_village: village = json.dumps(item.extract(), ensure_ascii=False) # æ£€æµ‹å½“å‰å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸º æ•°å­— ï¼Ÿ if village[1:12].isdigit(): # å°†å­—ç¬¦ä¸²æ•°æ®å­˜è‡³listç±»å‹æ•°æ®ä¸­ village_codes.append(village) print("ä»£ç ï¼š") print(village) elif village[1:4].isdigit(): print("åŸä¹¡åˆ†ç±»ä»£ç ï¼š") village_categary.append(village) print(village) else: village_name.append(village) print("åç§°ï¼š") print(village) # å¯¹å¾—åˆ°çš„ "è¡—é“åŠ href" åš "listå»é‡" village_categary = list(set(village_categary)) village_codes = list(set(village_codes)) village_name = list(set(village_name)) Version 2 - å¤„ç†ï¼Œç®€åŒ–123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215# coding=utf-8# è¦åœ¨ä»£ç ä¸­ä½¿ç”¨"ä¸­æ–‡"æ³¨é‡Šï¼Œåº”è¯¥é¦–å…ˆæ·»åŠ å¦‚ä¸Šæ³¨é‡Šï¼Œè¯´æ˜æ˜¯ä¸­æ–‡æ³¨é‡Šimport jsonfrom scrapy import Spider, Selectorfrom scrapy.http.request import Request"""ä»"å›½å®¶ç»Ÿè®¡å±€"å®˜ç½‘çˆ¬å–è¡Œæ”¿åŒºåŸŸæ•°æ®url:http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/index.html"""class NOSSpider(Spider): # åŸºç¡€é…ç½® - å”¯ä¸€åç§° name = "NOS" # åŸºç¡€é…ç½® - å…è®¸è®¿é—®çš„åŸŸå allowed_domains = ["www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm"] # åŸºç¡€é…ç½® - å¼€å‘çˆ¬å–çš„åœ°å€ start_urls = ["http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/index.html"] """ç¬¬ä¸€çº§ï¼šçœçº§ã€ç›´è¾–å¸‚ æ•°æ®çˆ¬å–""" def parse(self, response): sel = Selector(response) node = sel.xpath('//tr[@class="provincetr"]/td/a/text()') node_href = sel.xpath('//tr[@class="provincetr"]/td/a/@href') for item_node, item_node2 in zip(node, node_href): # åç§° ï¼š"å±±ä¸œçœ" province_name = json.dumps(item_node.extract(), ensure_ascii=False) # åç§° ï¼š"37.html" province_href = json.dumps(item_node2.extract(), ensure_ascii=False) # åç§° ï¼š"37" province_code = province_href[1:3] # æ‹¼æ¥ï¼šåœ°çº§å¸‚ä¿¡æ¯ äºŒçº§ cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + province_href[1:8] yield Request(url=cl, callback=self.parse_second, dont_filter=True) """ç¬¬äºŒçº§ï¼šåœ°çº§å¸‚ æ•°æ®çˆ¬å–""" def parse_second(self, response): second = Selector(response) node_city = second.xpath('//tr[@class="citytr"]/td/a/text()') node_city_href = second.xpath('//tr[@class="citytr"]/td/a/@href') # åŸå¸‚ä»£ç list city_codes = [] # åŸå¸‚åç§°list city_name = [] # åŸå¸‚href list city_href = [] for item, href_item in zip(node_city, node_city_href): city = json.dumps(item.extract(), ensure_ascii=False) # æ£€æµ‹å½“å‰å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸º æ•°å­— ï¼Ÿ if city[1:13].isdigit(): # å°†å­—ç¬¦ä¸²æ•°æ®å­˜è‡³listç±»å‹æ•°æ®ä¸­ city_codes.append(city) # print("ä»£ç ï¼š") else: city_name.append(city) # print("åç§°ï¼š") city_href_item = json.dumps(href_item.extract(), ensure_ascii=False) # å°†å•ä¸ª "åŸå¸‚href" æ·»åŠ è‡³ "listä¸­" city_href.append(city_href_item) # åš "listå»é‡" city_href = list(set(city_href)) city_codes = list(set(city_codes)) city_name = list(set(city_name)) for item in city_href: cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + item[1:13] # ç¬¬ä¸‰çº§urlæ‹¼æ¥ yield Request(url=cl, callback=self.parse_thread, dont_filter=True) """ç¬¬ä¸‰çº§ï¼šåŒºå¿ä¹¡çº§ æ•°æ®çˆ¬å–""" def parse_thread(self, response): thread = Selector(response) node_county = thread.xpath('//tr[@class="countytr"]/td/a/text()') node_county_href = thread.xpath('//tr[@class="countytr"]/td/a/@href') # å¿åŒºçº§ ä»£ç list county_codes = [] # å¿åŒºçº§ åç§°list county_name = [] # å¿åŒºçº§ href list county_href = [] for item, href_item in zip(node_county, node_county_href): county = json.dumps(item.extract(), ensure_ascii=False) # æ£€æµ‹å½“å‰å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸º æ•°å­— ï¼Ÿ if county[1:13].isdigit(): # å°†å­—ç¬¦ä¸²æ•°æ®å­˜è‡³listç±»å‹æ•°æ®ä¸­ county_codes.append(county) # print("ä»£ç ï¼š") else: county_name.append(county) # print("åç§°ï¼š") county_href_item = json.dumps(href_item.extract(), ensure_ascii=False) # å°†å•ä¸ª "å¿åŒºçº§ href" æ·»åŠ è‡³ "listä¸­" county_href.append(county_href_item) # åš "listå»é‡" county_href = list(set(county_href)) county_codes = list(set(county_codes)) county_name = list(set(county_name)) for href, codes in zip(county_href, county_codes): cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + codes[1:3] + "/" + href[1:15] # http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/21/13/211321.html # ç¬¬å››çº§urlæ‹¼æ¥ yield Request(url=cl, callback=self.parse_fourth, dont_filter=True) """ç¬¬å››çº§ï¼šè¡—é“ã€å±…å§”ä¼šçº§ æ•°æ®çˆ¬å–""" def parse_fourth(self, response): thread = Selector(response) node_towntr = thread.xpath('//tr[@class="towntr"]/td/a/text()') node_towntr_href = thread.xpath('//tr[@class="towntr"]/td/a/@href') # è¡—é“åŠ ä»£ç list town_codes = [] # è¡—é“åŠ åç§°list town_name = [] # è¡—é“åŠ href list town_href = [] for item, href_item in zip(node_towntr, node_towntr_href): town = json.dumps(item.extract(), ensure_ascii=False) # æ£€æµ‹å½“å‰å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸º æ•°å­— ï¼Ÿ if town[1:13].isdigit(): town_codes.append(town) # print("ä»£ç ï¼š") else: town_name.append(town) # print("åç§°ï¼š") towntr_href_item = json.dumps(href_item.extract(), ensure_ascii=False) # å°†å•ä¸ª "è¡—é“åŠ href" æ·»åŠ è‡³ "listä¸­" town_href.append(towntr_href_item) # åš "listå»é‡" town_href = list(set(town_href)) town_codes = list(set(town_codes)) town_name = list(set(town_name)) for href, code in zip(town_href, town_codes): cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + code[1:3] + "/" + code[3:5] + "/" + href[ 1:18] # http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/21/13/21/211321001.html # code : 211321001000 # href : 21/211321001.html # ç¬¬äº”çº§urlæ‹¼æ¥ yield Request(url=cl, callback=self.parse_Five, dont_filter=True) """ç¬¬äº”çº§ï¼šç¤¾åŒºçº§ æ•°æ®çˆ¬å–""" def parse_Five(self, response): thread = Selector(response) node_village = thread.xpath('//tr[@class="villagetr"]/td/text()') # ç¤¾åŒº åŒºåˆ’ä»£ç  list village_codes = [] # ç¤¾åŒº åŸä¹¡åˆ†ç±»ä»£ç  list village_categary = [] # ç¤¾åŒº åç§° list village_name = [] for item in node_village: village = json.dumps(item.extract(), ensure_ascii=False) if village[1:12].isdigit(): # å°†å­—ç¬¦ä¸²æ•°æ®å­˜è‡³listç±»å‹æ•°æ®ä¸­ village_codes.append(village) print("ä»£ç ï¼š") print(village) elif village[1:4].isdigit(): print("åŸä¹¡åˆ†ç±»ä»£ç ï¼š") village_categary.append(village) print(village) else: village_name.append(village) print("åç§°ï¼š") print(village) # åš "listå»é‡" village_categary = list(set(village_categary)) village_codes = list(set(village_codes)) village_name = list(set(village_name)) """ æœ€ç»ˆç»“æœï¼š ä»£ç ï¼š "610626001222" åŸä¹¡åˆ†ç±»ä»£ç ï¼š "220" åç§°ï¼š "é™ˆç ­æ‘å§”ä¼š" """ Version 3 - å°†æ•°æ®å†™å…¥åˆ°MySQLæ•°æ®åº“0. æ³¨æ„ï¼š ä»æœ¬é¡¹ç›®çš„ä¸€ä¸ªæ–‡ä»¶ä¸­å¯¼å…¥æ­¤æ–‡ä»¶ä¸­çš„æŸä¸€ä¸ªç±»æ—¶ï¼Œéœ€è¦å¯¼å…¥ä¸€ä¸ªå®Œæ•´çš„è·¯åŠ²ã€‚å¦åˆ™æç¤ºï¼šImportError: No module named itemsã€‚åœ¨ settingsæ–‡ä»¶ä¸­ç¼–å†™è·¯å¾„ç±»æ—¶ï¼ŒåŒæ ·éœ€è¦ç¼–å†™å¸¦æœ‰è·¯å¾„çš„æ–‡ä»¶ç±»ï¼Œå¦åˆ™ä¸è®¤ï¼ŒåŒä¸Šé”™è¯¯ 1. settings.py 1234567891011121314151617# è‡ªåŠ¨ç”ŸæˆBOT_NAME = 'Northern_Open_Space'SPIDER_MODULES = ['Northern_Open_Space.spiders']NEWSPIDER_MODULE = 'Northern_Open_Space.spiders'ROBOTSTXT_OBEY = True# è®¾ç½®è¯·æ±‚å¤´éƒ¨ï¼Œæ·»åŠ urlDEFAULT_REQUEST_HEADERS = &#123; "User-Agent": "Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0;", 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'&#125;# æ‰‹åŠ¨æ·»åŠ FEED_EXPORT_ENCODING = 'utf-8'ITEM_PIPELINES = &#123; 'Northern_Open_Space.pipelines.NorthernOpenSpacePipeline': 300, # ä¿å­˜åˆ°mysqlæ•°æ®åº“&#125; 2. pipelines.py 12345678910111213141516171819202122232425class NorthernOpenSpacePipeline(object): def insertIntoTable(self, sql): # åˆ›å»ºè¿æ¥ conn = pymysql.connect( host='127.0.0.1', port=3306, user='root', passwd='0987', db='area_database', charset='utf8') # è¦æŒ‡å®šç¼–ç ï¼Œå¦åˆ™ä¸­æ–‡å¯èƒ½ä¹±ç  # åˆ›å»ºæ¸¸æ ‡ cursor = conn.cursor() # æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ cursor.execute(sql) # æäº¤ï¼Œä¸ç„¶æ— æ³•ä¿å­˜æ–°å»ºæˆ–è€…ä¿®æ”¹çš„æ•°æ® conn.commit() # å…³é—­æ¸¸æ ‡ cursor.close() # å…³é—­è¿æ¥ conn.close() 3. XXXXpider.py 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244class NOSSpider(Spider): # åŸºç¡€é…ç½® - å”¯ä¸€åç§° name = "NOS" # åŸºç¡€é…ç½® - å…è®¸è®¿é—®çš„åŸŸå allowed_domains = ["www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm"] # åŸºç¡€é…ç½® - å¼€å‘çˆ¬å–çš„åœ°å€ start_urls = ["http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/index.html"] """ç¬¬ä¸€çº§ï¼šçœçº§ã€ç›´è¾–å¸‚ æ•°æ®çˆ¬å–""" def parse(self, response): sel = Selector(response) node = sel.xpath('//tr[@class="provincetr"]/td/a/text()') node_href = sel.xpath('//tr[@class="provincetr"]/td/a/@href') for item_node, item_node2 in zip(node, node_href): # åç§° ï¼š"å±±ä¸œçœ" province_name = json.dumps(item_node.extract(), ensure_ascii=False) # åç§° ï¼š"37.html" province_href = json.dumps(item_node2.extract(), ensure_ascii=False) # åç§° ï¼š"37" province_code = province_href[1:3] # self.insertIntoProvince(province_code, province_name) cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + province_href[1:8] yield Request(url=cl, callback=self.parse_second, dont_filter=True) def insertIntoProvince(self, province_code, province_name): # å°†è·å–çš„æ•°æ®æ’å…¥åˆ°æ•°æ®åº“ä¸­ db = NorthernOpenSpacePipeline() sql = "insert into province_table (" + 'province_name,' + 'province_code,' + 'simple_province_code,' + 'grade' + ") VALUE (" + province_name + "," + province_code + '0000000000' + "," + province_code + "," + "1" + ")" db.insertIntoTable(sql=sql) """ç¬¬äºŒçº§ï¼šåœ°çº§å¸‚ æ•°æ®çˆ¬å–""" def parse_second(self, response): second = Selector(response) node_city = second.xpath('//tr[@class="citytr"]/td/a/text()') # print(len(node_city)) # print(json.dumps(node_city.extract(), ensure_ascii=False)) node_city_href = second.xpath('//tr[@class="citytr"]/td/a/@href') # self.insertToCity(node_city) # åŸå¸‚href list city_href = [] for href_item in node_city_href: city_href_item = json.dumps(href_item.extract(), ensure_ascii=False) # å°†å•ä¸ª "åŸå¸‚href" æ·»åŠ è‡³ "listä¸­" city_href.append(city_href_item) # åš "listå»é‡" city_href = list(set(city_href)) for item in city_href: cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + item[1:13] # ç¬¬ä¸‰çº§urlæ‹¼æ¥ yield Request(url=cl, callback=self.parse_thread, dont_filter=True) def insertToCity(self, node_city): # å¾ªç¯èµ‹å€¼ n = len(node_city) m = 0 while m &lt; n: code = json.dumps((node_city[m:m + 1]).extract(), ensure_ascii=False) name = json.dumps((node_city[m + 1:m + 2]).extract(), ensure_ascii=False) print(code[1:len(code) - 1]) print(name[1:len(name) - 1]) db = NorthernOpenSpacePipeline() sql = "insert into city_table (" + 'city_code,' + 'city_name,' + 'simple_city_code,' + 'grade' + ") VALUE (" + code[ 1:len( code) - 1] + "," + name[ 1:len( name) - 1] + "," + ( code[ 1:len( code) - 1])[ 1:5] + "," + "2" + ")" db.insertIntoTable(sql=sql) m = m + 2 """ç¬¬ä¸‰çº§ï¼šåŒºå¿ä¹¡çº§ æ•°æ®çˆ¬å–""" def parse_thread(self, response): thread = Selector(response) node_county = thread.xpath('//tr[@class="countytr"]/td/a/text()') node_county_href = thread.xpath('//tr[@class="countytr"]/td/a/@href') # self.insertIntoCounty(node_county)# å¿åŒºçº§ ä»£ç list county_codes = [] # å¿åŒºçº§ åç§°list county_name = [] # å¿åŒºçº§ href list county_href = [] for item, href_item in zip(node_county, node_county_href): county = json.dumps(item.extract(), ensure_ascii=False) # æ£€æµ‹å½“å‰å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸º æ•°å­— ï¼Ÿ if county[1:13].isdigit(): # å°†å­—ç¬¦ä¸²æ•°æ®å­˜è‡³listç±»å‹æ•°æ®ä¸­ county_codes.append(county) # print("ä»£ç ï¼š") else: county_name.append(county) # print("åç§°ï¼š") county_href_item = json.dumps(href_item.extract(), ensure_ascii=False) # å°†å•ä¸ª "å¿åŒºçº§ href" æ·»åŠ è‡³ "listä¸­" county_href.append(county_href_item) # åš "listå»é‡" county_href = list(set(county_href)) county_codes = list(set(county_codes)) county_name = list(set(county_name)) for href, codes in zip(county_href, county_codes): cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + codes[1:3] + "/" + href[1:15] # http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/21/13/211321.html # ç¬¬å››çº§urlæ‹¼æ¥ yield Request(url=cl, callback=self.parse_fourth, dont_filter=True) def insertIntoCounty(self, node_county): n = len(node_county) m = 0 while m &lt; n: code = json.dumps((node_county[m:m + 1]).extract(), ensure_ascii=False) name = json.dumps((node_county[m + 1:m + 2]).extract(), ensure_ascii=False) print(code[1:len(code) - 1]) print(name[1:len(name) - 1]) db = NorthernOpenSpacePipeline() sql = "insert into county_table (" + 'county_code,' + 'county_name,' + 'simple_county_code,' + 'grade' + ") VALUE (" + code[ 1:len( code) - 1] + "," + name[ 1:len( name) - 1] + "," + ( code[ 1:len( code) - 1])[ 1:7] + "," + "3" + ")" db.insertIntoTable(sql=sql) m = m + 2 """ç¬¬å››çº§ï¼šè¡—é“ã€å±…å§”ä¼šçº§ æ•°æ®çˆ¬å–""" def parse_fourth(self, response): thread = Selector(response) node_towntr = thread.xpath('//tr[@class="towntr"]/td/a/text()') node_towntr_href = thread.xpath('//tr[@class="towntr"]/td/a/@href') print(json.dumps(node_towntr.extract(), ensure_ascii=False)) # self.insertIntoTown(node_towntr)# è¡—é“åŠ ä»£ç list town_codes = [] # è¡—é“åŠ åç§°list town_name = [] # è¡—é“åŠ href list town_href = [] for item, href_item in zip(node_towntr, node_towntr_href): town = json.dumps(item.extract(), ensure_ascii=False) # æ£€æµ‹å½“å‰å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸º æ•°å­— ï¼Ÿ if town[1:13].isdigit(): town_codes.append(town) # print("ä»£ç ï¼š") else: town_name.append(town) # print("åç§°ï¼š") towntr_href_item = json.dumps(href_item.extract(), ensure_ascii=False) # å°†å•ä¸ª "è¡—é“åŠ href" æ·»åŠ è‡³ "listä¸­" town_href.append(towntr_href_item) # åš "listå»é‡" town_href = list(set(town_href)) town_codes = list(set(town_codes)) town_name = list(set(town_name)) for href, code in zip(town_href, town_codes): cl = "http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/" + code[1:3] + "/" + code[3:5] + "/" + href[ 1:18] # http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/2016/21/13/21/211321001.html # code : 211321001000 # href : 21/211321001.html # ç¬¬äº”çº§urlæ‹¼æ¥ yield Request(url=cl, callback=self.parse_Five, dont_filter=True) def insertIntoTown(self, node_towntr): n = len(node_towntr) m = 0 while m &lt; n: code = json.dumps((node_towntr[m:m + 1]).extract(), ensure_ascii=False) name = json.dumps((node_towntr[m + 1:m + 2]).extract(), ensure_ascii=False) # print(code[1:len(code) - 1]) # print(name[1:len(name) - 1]) db = NorthernOpenSpacePipeline() sql = "insert into town_table (" + 'town_code,' + 'town_name,' + 'simple_town_code,' + 'grade' + ") VALUE (" + code[ 1:len( code) - 1] + "," + name[ 1:len( name) - 1] + "," + ( code[ 1:len( code) - 1])[ 7:10] + "," + "4" + ")" db.insertIntoTable(sql=sql) m = m + 2 """ç¬¬äº”çº§ï¼šç¤¾åŒºçº§ æ•°æ®çˆ¬å–""" def parse_Five(self, response): thread = Selector(response) node_village = thread.xpath('//tr[@class="villagetr"]/td/text()') print(json.dumps(node_village.extract(), ensure_ascii=False)) n = len(node_village) m = 0 while m &lt; n: code = json.dumps((node_village[m:m + 1]).extract(), ensure_ascii=False) simple_code = json.dumps((node_village[m + 1:m + 2]).extract(), ensure_ascii=False) name = json.dumps((node_village[m + 2:m + 3]).extract(), ensure_ascii=False) print(code[1:len(code) - 1]) print(simple_code[1:len(simple_code) - 1]) print(name[1:len(name) - 1]) print((code[11:14])) db = NorthernOpenSpacePipeline() sql = "insert into village_table (" + \ 'village_code,' + 'village_name,' + 'simple_village_code,' + 'village_category_code,' + 'grade' + ") VALUE (" + \ code[1:len(code) - 1] + "," + name[1:len(name) - 1] + "," + code[11:14] + "," + simple_code[1:len(simple_code) - 1] + "," + "5" + ")" db.insertIntoTable(sql=sql) m = m + 3]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonä¸‹ä½¿ç”¨PyMySQLæ“ä½œMySQLæ•°æ®åº“]]></title>
    <url>%2FPython%E4%B8%8B%E4%BD%BF%E7%94%A8PyMySQL%E6%93%8D%E4%BD%9CMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨å‚è€ƒï¼šhttps://www.cnblogs.com/wt11/p/6141225.htmlå®‰è£…ï¼šhttps://www.cnblogs.com/iOS-mainstay/p/5596608.html è¯´æ˜ï¼šå®‰è£…MySQLdbçš„è¿‡ç¨‹å°±æ˜¯æµªè´¹æ—¶é—´ã€æµªè´¹ç”Ÿå‘½çš„è¿‡ç¨‹ã€‚ æ–¹å¼1: pipå®‰è£…1pip install PyMySQL æˆ–è€… 1sudo pip install PyMySQL æ–¹å¼2ï¼šgitå®‰è£…123$ git clone https://github.com/PyMySQL/PyMySQL$ cd PyMySQL/$ python3 setup.py install]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GreenDaoæ•°æ®åº“çš„ä½¿ç”¨]]></title>
    <url>%2FGreenDao%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨ ä½¿ç”¨å‚è€ƒï¼šhttp://blog.csdn.net/liuchao9876543210/article/details/54378859 ä¸€. æ·»åŠ ä¾èµ–1. é¡¹ç›®gradleä¸­ï¼š12345678dependencies &#123; classpath &apos;com.android.tools.build:gradle:2.3.2&apos; //GreenDao3ä¾èµ– classpath &apos;org.greenrobot:greendao-gradle-plugin:3.2.1&apos; // NOTE: Do not place your application dependencies here; they belong // in the individual module build.gradle files &#125; 2. Moduleä¸­ï¼š12//ä½¿ç”¨greendaoapply plugin: &apos;org.greenrobot.greendao&apos; 12345678android &#123; Â·Â·Â· //greendaoé…ç½® greendao &#123; //ç‰ˆæœ¬å·ï¼Œå‡çº§æ—¶å¯é…ç½® schemaVersion 1 &#125;&#125; 1234567dependencies &#123; Â·Â·Â· //greendaoä¾èµ– compile &apos;org.greenrobot:greendao:3.2.0&apos; //è§£å†³greendaoä½¿ç”¨è¿‡ç¨‹ä¸­åˆ†åŒ…å¯¼è‡´çš„å¼‚å¸¸ã€è§£å†³ç¼ºå°‘ç±»çš„å¼‚å¸¸ compile &apos;net.zetetic:android-database-sqlcipher:3.5.7&apos;&#125; äºŒ. å®é™…ä½¿ç”¨1. å®ä½“å¯¹è±¡ï¼ˆè¡¨ï¼‰çš„åˆ›å»º12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485/** * StudentBase å­¦ç”ŸåŸºæœ¬ä¿¡æ¯è¡¨ * * DAOï¼šData Access Object * @author wenjia.Cheng cwj1714@163.com * @date 2018/1/20 */@Entitypublic class StudentBase &#123; /** * å½“å‰è¡¨ä¸­çš„å­¦ç”Ÿæ•°é‡çš„idå€¼ */ @Id(autoincrement = true) private long id_num_stu; /** * å­¦ç”Ÿçš„å­¦å· */ @Unique @NotNull private String id_stu; /** * èº«ä»½è¯å· */ @Unique @NotNull private String id_card_stu;&#125;``` ## æ³¨æ„ï¼š- åœ¨åˆ›å»ºå®Œâ€œå®ä½“â€åï¼Œè®°å¾—è¦â€œbuildâ€ä¸€ä¸‹ï¼Œâ€œbuildâ€ä¹‹åå°±ä¼šç”Ÿæˆç›¸åº”çš„â€œStudentBaseDaoâ€ç±»æ–‡ä»¶ï¼Œå¦åˆ™ä¸èƒ½ä½¿ç”¨ã€‚ä¾›ä¹‹åè°ƒç”¨ã€‚- ä¸»é”®å¿…é¡»æ˜¯longç±»å‹## æ³¨è§£è¯´æ˜ï¼š - **@Entity**ï¼šå‘Šè¯‰GreenDaoè¯¥å¯¹è±¡ä¸ºå®ä½“ï¼Œåªæœ‰è¢«@Entityæ³¨é‡Šçš„Beanç±»æ‰èƒ½è¢«daoç±»æ“ä½œ - **@Id**ï¼šå¯¹è±¡çš„Idï¼Œä½¿ç”¨**Long**ç±»å‹ä½œä¸ºEntityIdï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ - **@Property**ï¼šå¯ä»¥è‡ªå®šä¹‰å­—æ®µåï¼Œæ³¨æ„å¤–é”®ä¸èƒ½ä½¿ç”¨è¯¥å±æ€§ - **@NotNull**ï¼šå±æ€§ä¸èƒ½ä¸ºç©º - **@Transient**ï¼šä½¿ç”¨è¯¥æ³¨é‡Šçš„å±æ€§ä¸ä¼šè¢«å­˜å…¥æ•°æ®åº“çš„å­—æ®µä¸­ - **@Unique**ï¼šè¯¥å±æ€§å€¼å¿…é¡»åœ¨æ•°æ®åº“ä¸­æ˜¯å”¯ä¸€å€¼ - **@Generated**ï¼šç¼–è¯‘åè‡ªåŠ¨ç”Ÿæˆçš„æ„é€ å‡½æ•°ã€æ–¹æ³•ç­‰çš„æ³¨é‡Šï¼Œæç¤ºæ„é€ å‡½æ•°ã€æ–¹æ³•ç­‰ä¸èƒ½è¢«ä¿®æ”¹ - **@ToOne**ï¼šå®šä¹‰ä¸å¦ä¸€ä¸ªå®ä½“ï¼ˆä¸€ä¸ªå®ä½“å¯¹è±¡ï¼‰çš„å…³ç³»ï¼ˆåº•ä¸‹ä¼šæœ‰è¯¦è§£ï¼‰.å¦‚ï¼š - **@ToMany**ï¼šå®šä¹‰ä¸å¤šä¸ªå®ä½“å¯¹è±¡çš„å…³ç³»ï¼ˆåº•ä¸‹ä¼šæœ‰è¯¦è§£ï¼‰ - **@OrderBy(date desc)**ï¼šé™åº### å…³è”ï¼š&gt; å‚è€ƒï¼šhttps://www.jianshu.com/p/dbec25bd575f- **1å¯¹1 ï¼š@ToOne(joinProperty = â€œuserIdâ€)** ï¼šé€šè¿‡å¤–é”®æ¥å…³è”å¦ä¸€ä¸ªå®ä½“ã€‚ä½¿ç”¨åˆ°çš„ä¸¤ä¸ªå¯¹è±¡ç±»ä¸ºï¼šï¼ˆUserï¼ŒPictureï¼‰ ```java@Entitypublic class User &#123; @Id private Long UserId; private long pictureId; @Property(nameInDb = "NAME") private String name; @Property(nameInDb = "AGE") private String age; @Property(nameInDb = "SEX") private String sex; @ToOne(joinProperty = "pictureId")//pictureIdæ˜¯æˆ‘ä»¬éœ€è¦å…³è”çš„å¤–é”® private Picture picture;&#125;@Entitypublic class Picture implements Serializable &#123; private static final long serialVersionUID = 11; @Id private Long pictureId; private long userId; @Property private String pictureName; @Property(nameInDb = "width") private String width; @Property(nameInDb = "height") private String height; @ToOne(joinProperty = "userId") private User user;&#125; 1å¯¹nï¼š æ³¨æ„ï¼šIntentä¼ é€’å¯¹è±¡éœ€è¦ç”¨åˆ°ï¼šSerializableï¼Œå¿…é¡»æŠŠserialVersionUID ç»™å¸¦ä¸Šï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ 12345@ToMany(referencedJoinProperty = "customerId")joinPropertiesè¿™ä¸ªå‚æ•°æ˜¯referencedJoinProperty å‚æ•°çš„å‡çº§ç‰ˆ@ToMany(joinProperties = &#123; @JoinProperty(name = "id", referencedName = "customerId") &#125;) 1234567891011121314151617181920@Entitypublic class Customer &#123; @Id private Long id; @Property private String name; // @ToMany(referencedJoinProperty = "customerId") @ToMany(joinProperties = &#123;@JoinProperty(name = "id", referencedName = "customerId")&#125;) @OrderBy("date ASC") private List&lt;Order&gt; orders;&#125;@Entitypublic class Order &#123; @Id private Long id; @Property private Date date; private long customerId;&#125; m:n å¤šå¯¹å¤š: åˆ›å»ºä¸‰ä¸ªå®ä½“ç±»ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºå…³è”ç±»ã€‚ 1234567891011121314151617181920212223242526272829@Entitypublic class Order &#123; @Id private Long id; @Property private Date date; private long customerId;&#125;@Entitypublic class Product &#123; @Id private Long id; @ToMany @JoinEntity( entity = JoinProductsWithOrders.class, sourceProperty = "productId", targetProperty = "orderId" ) private List&lt;Order&gt; ordersWithThisProduct;&#125;@Entitypublic class JoinProductsWithOrders &#123; @Id private Long id; private Long productId; private Long orderId;&#125; 2. æ•°æ®åº“çš„åˆ›å»ºï¼š éœ€è¦åœ¨è‡ªå®šä¹‰çš„â€œApplicationâ€ç±»ä¸­è¿›è¡Œå£°æ˜ã€‚ 12345678910111213141516171819202122232425262728293031323334353637public class App extends Application &#123; private static DaoSession daoSession; @Override public void onCreate() &#123; super.onCreate(); Â·Â·Â· //é…ç½®æ•°æ®åº“ setupDatabase(); &#125; /** * é…ç½®æ•°æ®åº“ * * 1ã€DevOpenHelperï¼šåˆ›å»ºSQLiteæ•°æ®åº“çš„SQLiteOpenHelperçš„å…·ä½“å®ç° * 2ã€DaoMasterï¼šGreenDaoçš„é¡¶çº§å¯¹è±¡ï¼Œä½œä¸ºæ•°æ®åº“å¯¹è±¡ã€ç”¨äºåˆ›å»ºè¡¨å’Œåˆ é™¤è¡¨ * 3ã€DaoSessionï¼šç®¡ç†æ‰€æœ‰çš„Daoå¯¹è±¡ï¼ŒDaoå¯¹è±¡ä¸­å­˜åœ¨ç€å¢åˆ æ”¹æŸ¥ç­‰API */ private void setupDatabase() &#123; // åˆ›å»ºæ•°æ®åº“:49_class_info.db DaoMaster.DevOpenHelper helper = new DaoMaster.DevOpenHelper(this,"jujia.db",null); // è·å–å¯å†™æ•°æ®åº“ SQLiteDatabase db = helper.getWritableDatabase(); // è·å–æ•°æ®åº“å¯¹è±¡ DaoMaster daoMaster = new DaoMaster(db); // è·å–Daoå¯¹è±¡ç®¡ç†è€… daoSession = daoMaster.newSession(); &#125; public static DaoSession getDaoInstant() &#123; return daoSession; &#125;&#125; 3. æœ€åŸºæœ¬çš„CURD3.1 C ï¼šå¢3.1 Read : æŸ¥ orderAscï¼šå‡åºæ’åº orderDescï¼šé™åºæ’åº eq()ï¼š == noteq(): != gt(): &gt; t(): &lt; ge: &gt;= le: &lt;= like(): åŒ…å« between: ä¸¤è€…ä¹‹é—´ in: åœ¨æŸä¸ªèŒƒå›´ä¹‹å†… notIn: ä¸åœ¨æŸä¸ªèŒƒå›´ä¹‹å†… limit(int): é™åˆ¶æŸ¥è¯¢çš„æ•°é‡ - åˆ†é¡µ offset(int): æ¯æ¬¡è¿”å›çš„æ•°é‡ - åˆ†é¡µ unique(): å¦‚æœåªæƒ³è·å–ä¸€ä¸ªç»“æœæ—¶ list(): è·å–æŸ¥è¯¢ç»“æœé›†åˆ - LazyList listLazy()æ‡’æŸ¥è¯¢ï¼šåªæœ‰å½“è°ƒç”¨list()ä¸­çš„å®ä½“å¯¹è±¡æ—¶æ‰ä¼šæ‰§è¡ŒæŸ¥è¯¢æ“ä½œå¹¶ä¸”åªç¼“å­˜ç¬¬ä¸€æ¬¡è¢«æŸ¥è¯¢çš„ç»“æœï¼Œéœ€è¦å…³é—­ - LazyList listlazyUncached()æ‡’æŸ¥è¯¢ï¼šåªæœ‰å½“è°ƒç”¨list()ä¸­çš„å®ä½“å¯¹è±¡æ—¶æ‰ä¼šæ‰§è¡ŒæŸ¥è¯¢æ“ä½œå¹¶ä¸”ä¸ç¼“å­˜ï¼Œéœ€è¦å…³é—­ - LazyList listIterator()ï¼šå¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œéå†ï¼Œä¸ç¼“å­˜ï¼Œéœ€è¦å…³é—­ - LazyList ç¤ºä¾‹ï¼š123456789101112131415161718192021222324252627282930313233343536373839public class UserInfoCURD &#123; private static final String TAG = "UserInfoCURD"; /** * å¢ * @param userInfoBean å®ä½“å¯¹è±¡ */ public static long insertToStudent(UserInfoBean userInfoBean)&#123; return App.getDaoInstant().getUserInfoBeanDao().insert(userInfoBean); &#125; /** * åˆ  * @param userInfoBean å®ä½“å¯¹è±¡ */ public static void deleteFromStudent(UserInfoBean userInfoBean)&#123; App.getDaoInstant().getUserInfoBeanDao().delete(userInfoBean); &#125; public static void deleteFromStudentAll()&#123; App.getDaoInstant().getUserInfoBeanDao().deleteAll(); &#125; /** * æ”¹ * @param userInfoBean å®ä½“å¯¹è±¡ */ public static void updateToStudent(UserInfoBean userInfoBean)&#123; App.getDaoInstant().getUserInfoBeanDao().update(userInfoBean); &#125; /** * æŸ¥ - å…¨éƒ¨ */ public static List&lt;UserInfoBean&gt; queryFromStudent()&#123; return App.getDaoInstant().getUserInfoBeanDao().loadAll(); &#125;&#125; 4. æ•°æ®åº“å‡çº§ å‚è€ƒï¼šhttp://blog.csdn.net/huangxiaoguo1/article/details/54574713 ï¼ˆ1ï¼‰æ€è·¯ï¼š åˆ›å»ºä¸´æ—¶è¡¨ â€“&gt; åˆ é™¤æ—§è¡¨ â€“&gt; åˆ›å»ºæ–°è¡¨ â€“&gt; å¤åˆ¶ä¸´æ—¶è¡¨ä¸­çš„æ•°æ®åˆ°æ–°è¡¨ä¸­ï¼Œå¹¶åˆ é™¤ä¸´æ—¶è¡¨ ï¼ˆ2ï¼‰æ³¨æ„ï¼š åœ¨å¯¹æ•°æ®åº“è¿›è¡Œå‡çº§çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä¼šé‡åˆ°â€œâ€çš„é—®é¢˜ï¼Œè¦é¿å…çš„è¿™æ ·çš„é—®é¢˜å°±è¦ï¼š æ–°å¢åŠ çš„å’Œä¿®æ”¹çš„å­—æ®µæœ€å¥½ä¸ºStringç±»å‹ï¼Œé¿å…å­—æ®µä¸èƒ½ä¸ºnullçš„æƒ…å†µå‘ç”Ÿ ä¸è¦ç”¨åŸºç¡€æ•°æ®ç±»å‹ï¼Œç”¨å°è£…çš„æ•°æ®ç±»å‹ é™„å½•ï¼šMigrationHelperç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143package com.choe.greendaodemo.utils;import android.database.Cursor;import android.database.sqlite.SQLiteDatabase;import android.text.TextUtils;import android.util.Log;import java.util.ArrayList;import java.util.Arrays;import java.util.List;import de.greenrobot.dao.AbstractDao;import de.greenrobot.dao.internal.DaoConfig;import me.itangqi.dao.DaoMaster;/** * Created by cyk */public class MigrationHelper &#123; private static final String CONVERSION_CLASS_NOT_FOUND_EXCEPTION = "MIGRATION HELPER - CLASS DOESN'T MATCH WITH THE CURRENT PARAMETERS"; private static MigrationHelper instance; public static MigrationHelper getInstance() &#123; if(instance == null) &#123; instance = new MigrationHelper(); &#125; return instance; &#125; public void migrate(SQLiteDatabase db, Class&lt;? extends AbstractDao&lt;?, ?&gt;&gt;... daoClasses) &#123; generateTempTables(db, daoClasses); DaoMaster.dropAllTables(db, true); DaoMaster.createAllTables(db, false); restoreData(db, daoClasses); &#125; /** * ç”Ÿæˆä¸´æ—¶åˆ—è¡¨ * @param db * @param daoClasses */ private void generateTempTables(SQLiteDatabase db, Class&lt;? extends AbstractDao&lt;?, ?&gt;&gt;... daoClasses) &#123; for(int i = 0; i &lt; daoClasses.length; i++) &#123; DaoConfig daoConfig = new DaoConfig(db, daoClasses[i]); String divider = ""; String tableName = daoConfig.tablename; String tempTableName = daoConfig.tablename.concat("_TEMP"); ArrayList&lt;String&gt; properties = new ArrayList&lt;&gt;(); StringBuilder createTableStringBuilder = new StringBuilder(); createTableStringBuilder.append("CREATE TABLE ").append(tempTableName).append(" ("); for(int j = 0; j &lt; daoConfig.properties.length; j++) &#123; String columnName = daoConfig.properties[j].columnName; if(getColumns(db, tableName).contains(columnName)) &#123; properties.add(columnName); String type = null; try &#123; type = getTypeByClass(daoConfig.properties[j].type); &#125; catch (Exception exception) &#123; exception.printStackTrace(); &#125; createTableStringBuilder.append(divider).append(columnName).append(" ").append(type); if(daoConfig.properties[j].primaryKey) &#123; createTableStringBuilder.append(" PRIMARY KEY"); &#125; divider = ","; &#125; &#125; createTableStringBuilder.append(");"); db.execSQL(createTableStringBuilder.toString()); StringBuilder insertTableStringBuilder = new StringBuilder(); insertTableStringBuilder.append("INSERT INTO ").append(tempTableName).append(" ("); insertTableStringBuilder.append(TextUtils.join(",", properties)); insertTableStringBuilder.append(") SELECT "); insertTableStringBuilder.append(TextUtils.join(",", properties)); insertTableStringBuilder.append(" FROM ").append(tableName).append(";"); db.execSQL(insertTableStringBuilder.toString()); &#125; &#125; /** * å­˜å‚¨æ–°çš„æ•°æ®åº“è¡¨ ä»¥åŠæ•°æ® * @param db * @param daoClasses */ private void restoreData(SQLiteDatabase db, Class&lt;? extends AbstractDao&lt;?, ?&gt;&gt;... daoClasses) &#123; for(int i = 0; i &lt; daoClasses.length; i++) &#123; DaoConfig daoConfig = new DaoConfig(db, daoClasses[i]); String tableName = daoConfig.tablename; String tempTableName = daoConfig.tablename.concat("_TEMP"); ArrayList&lt;String&gt; properties = new ArrayList(); for (int j = 0; j &lt; daoConfig.properties.length; j++) &#123; String columnName = daoConfig.properties[j].columnName; if(getColumns(db, tempTableName).contains(columnName)) &#123; properties.add(columnName); &#125; &#125; StringBuilder insertTableStringBuilder = new StringBuilder(); insertTableStringBuilder.append("INSERT INTO ").append(tableName).append(" ("); insertTableStringBuilder.append(TextUtils.join(",", properties)); insertTableStringBuilder.append(") SELECT "); insertTableStringBuilder.append(TextUtils.join(",", properties)); insertTableStringBuilder.append(" FROM ").append(tempTableName).append(";"); StringBuilder dropTableStringBuilder = new StringBuilder(); dropTableStringBuilder.append("DROP TABLE ").append(tempTableName); db.execSQL(insertTableStringBuilder.toString()); db.execSQL(dropTableStringBuilder.toString()); &#125; &#125; private String getTypeByClass(Class&lt;?&gt; type) throws Exception &#123; if(type.equals(String.class)) &#123; return "TEXT"; &#125; if(type.equals(Long.class) || type.equals(Integer.class) || type.equals(long.class)) &#123; return "INTEGER"; &#125; if(type.equals(Boolean.class)) &#123; return "BOOLEAN"; &#125; Exception exception = new Exception(CONVERSION_CLASS_NOT_FOUND_EXCEPTION.concat(" - Class: ").concat(type.toString())); exception.printStackTrace(); throw exception; &#125; private static List&lt;String&gt; getColumns(SQLiteDatabase db, String tableName) &#123; List&lt;String&gt; columns = new ArrayList&lt;&gt;(); Cursor cursor = null; try &#123; cursor = db.rawQuery("SELECT * FROM " + tableName + " limit 1", null); if (cursor != null) &#123; columns = new ArrayList&lt;&gt;(Arrays.asList(cursor.getColumnNames())); &#125; &#125; catch (Exception e) &#123; Log.v(tableName, e.getMessage(), e); e.printStackTrace(); &#125; finally &#123; if (cursor != null) cursor.close(); &#125; return columns; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>SQLite</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidçš„aseetsä¸­çš„æ–‡ä»¶è¯»å–]]></title>
    <url>%2FAndroid%E7%9A%84aseets%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%2F</url>
    <content type="text"><![CDATA[assetsä¸­æ–‡ä»¶çš„ä½¿ç”¨ 1. Androidèµ„æºæ–‡ä»¶å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š resç›®å½•ä¸‹å­˜æ”¾çš„å¯ç¼–è¯‘çš„èµ„æºæ–‡ä»¶ï¼šè¿™ç§èµ„æºæ–‡ä»¶ç³»ç»Ÿä¼šåœ¨R.javaé‡Œé¢è‡ªåŠ¨ç”Ÿæˆè¯¥èµ„æºæ–‡ä»¶çš„IDï¼Œæ‰€ä»¥è®¿é—®è¿™ç§èµ„æºæ–‡ä»¶æ¯”è¾ƒç®€å•ï¼Œé€šè¿‡R.XXX.IDå³å¯ï¼› assetsç›®å½•ä¸‹å­˜æ”¾çš„åŸç”Ÿèµ„æºæ–‡ä»¶ï¼šç³»ç»Ÿåœ¨ç¼–è¯‘çš„æ—¶å€™ä¸ä¼šç¼–è¯‘assetsä¸‹çš„èµ„æºæ–‡ä»¶ã€‚AssetManageræä¾›å¯¹åº”ç”¨ç¨‹åºçš„åŸå§‹èµ„æºæ–‡ä»¶è¿›è¡Œè®¿é—®ï¼›è¿™ä¸ªç±»æä¾›äº†ä¸€ä¸ªä½çº§åˆ«çš„APIï¼Œå®ƒå…è®¸ä½ ä»¥ç®€å•çš„å­—èŠ‚æµçš„å½¢å¼æ‰“å¼€å’Œè¯»å–å’Œåº”ç”¨ç¨‹åºç»‘å®šåœ¨ä¸€èµ·çš„åŸå§‹èµ„æºæ–‡ä»¶ã€‚ 2. AssetsManagerç±»å¸¸é‡ï¼š ACCESS_UNKNOWN : æœªæŒ‡å®šå…·ä½“çš„è¯»å–æ¨¡å¼ ACCESS_RANDOM : éšæœºè¯»å– ACCESS_STREAMING : é¡ºåºè¯»å– ï¼ˆé»˜è®¤ï¼‰ ACCESS_BUFFER : ç¼“å­˜è¯»å– æ–¹æ³•ï¼š close(); å…³é—­asset manager String[] list(String path); åˆ—å‡ºè¯¥ç›®å½•ä¸‹çš„ä¸‹çº§æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åç§° InputStream open(String fileName); ä»¥é¡ºåºè¯»å–æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œé»˜è®¤æ¨¡å¼ä¸ºACCESS_STREAMING InputStream open(String fileName, int accessMode); ä»¥æŒ‡å®šæ¨¡å¼æ‰“å¼€æ–‡ä»¶ AssetFileDescriptor openFd (String fileName) æ³¨æ„ï¼šAndroidä¸­è¿˜æœ‰å¦å¤–ä¸€ä¸ªæ–‡ä»¶å¤¹raw,å’Œassetså·®ä¸å¤š,ä¹Ÿä¸ä¼šè¢«Ræ–‡ä»¶ç¼–è¯‘,ä½†æ˜¯rawä¸‹ä¸èƒ½åœ¨å»ºæ–‡ä»¶å¤¹,assetsæ–‡ä»¶ä¸‹æ˜¯å¯ä»¥åœ¨å»ºæ–‡ä»¶å¤¹çš„,ä¸‹é¢æ˜¯è·å–rawæ–‡ä»¶å¤¹ä¸‹èµ„æºçš„æ–¹æ³•: 1InputStream is = getResources().openRawResource(R.id.filename); 3. assetsç›®å½•ä¸‹ä¸»è¦å­˜æ”¾å››ç§æ–‡ä»¶ï¼š æ–‡æœ¬æ–‡ä»¶ å›¾åƒæ–‡ä»¶ ç½‘é¡µæ–‡ä»¶ï¼ˆåŒ…æ‹¬htmlä¸­å¼•ç”¨çš„js/ccs/jpgç­‰èµ„æº éŸ³é¢‘è§†é¢‘æ–‡ä»¶ 4. è¯»å–å››ç§æ–‡ä»¶ï¼š è¯»å–æ–‡æœ¬æ–‡ä»¶egï¼š 123456String fileName = "newFile.txt";InputStream is = getAssets().open(fileName); int lenght = is.available(); byte[] buffer = new byte[lenght]; is.read(buffer); String result = = new String(buffer, "utf8"); è¯»å–å›¾åƒæ–‡ä»¶ï¼š 123InputStream is = getAssets().open(fileName); bitmap = BitmapFactory.decodeStream(is); ivImg.setImageBitmap(bitmap); è¯»å–ç½‘é¡µæ–‡ä»¶ï¼š 1webView.loadUrl("file:///android_asset/html/index.htmll"); è¯»å–éŸ³è§†é¢‘æ–‡ä»¶ï¼š 12345678910// æ‰“å¼€æŒ‡å®šéŸ³ä¹æ–‡ä»¶,è·å–assetsç›®å½•ä¸‹æŒ‡å®šæ–‡ä»¶çš„AssetFileDescriptorå¯¹è±¡ AssetFileDescriptor afd = am.openFd(music); mPlayer.reset(); // ä½¿ç”¨MediaPlayeråŠ è½½æŒ‡å®šçš„å£°éŸ³æ–‡ä»¶ã€‚ mPlayer.setDataSource(afd.getFileDescriptor(), afd.getStartOffset(), afd.getLength()); // å‡†å¤‡å£°éŸ³ mPlayer.prepare(); // æ’­æ”¾ mPlayer.start(); 5. å°†assetsä¸‹çš„æ–‡ä»¶å¤åˆ¶åˆ°SDå¡ä¸­12345678910111213141516171819202122232425262728293031323334/** * ä»assetsç›®å½•ä¸­å¤åˆ¶æ•´ä¸ªæ–‡ä»¶å¤¹å†…å®¹ * @param context Context ä½¿ç”¨CopyFilesç±»çš„Activity * @param oldPath String åŸæ–‡ä»¶è·¯å¾„ å¦‚ï¼š/aa * @param newPath String å¤åˆ¶åè·¯å¾„ å¦‚ï¼šxx:/bb/cc */ public void copyFilesFassets(Context context,String oldPath,String newPath) &#123; try &#123; String fileNames[] = context.getAssets().list(oldPath);//è·å–assetsç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠç›®å½•å if (fileNames.length &gt; 0) &#123;//å¦‚æœæ˜¯ç›®å½• File file = new File(newPath); file.mkdirs();//å¦‚æœæ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼Œåˆ™é€’å½’ for (String fileName : fileNames) &#123; copyFilesFassets(context,oldPath + "/" + fileName,newPath+"/"+fileName); &#125; &#125; else &#123;//å¦‚æœæ˜¯æ–‡ä»¶ InputStream is = context.getAssets().open(oldPath); FileOutputStream fos = new FileOutputStream(new File(newPath)); byte[] buffer = new byte[1024]; int byteCount=0; while((byteCount=is.read(buffer))!=-1) &#123;//å¾ªç¯ä»è¾“å…¥æµè¯»å– bufferå­—èŠ‚ fos.write(buffer, 0, byteCount);//å°†è¯»å–çš„è¾“å…¥æµå†™å…¥åˆ°è¾“å‡ºæµ &#125; fos.flush();//åˆ·æ–°ç¼“å†²åŒº is.close(); fos.close(); &#125; &#125; catch (Exception e) &#123; // TODO Auto-generated catch block e.printStackTrace(); //å¦‚æœæ•æ‰åˆ°é”™è¯¯åˆ™é€šçŸ¥UIçº¿ç¨‹ MainActivity.handler.sendEmptyMessage(COPY_FALSE); &#125; &#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[EChartç¬¬ä¸‰æ–¹JSåº“å›¾è¡¨htmlæ–‡æ¡£ç¤ºä¾‹]]></title>
    <url>%2FEChart%E7%AC%AC%E4%B8%89%E6%96%B9JS%E5%BA%93%E5%9B%BE%E8%A1%A8html%E6%96%87%E6%A1%A3%E7%A4%BA%E4%BE%8B%2F</url>
    <content type="text"><![CDATA[ç¤ºä¾‹æ–‡æ¡£ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;script src="echarts.min.js"&gt;&lt;/script&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;!-- ä¸º ECharts å‡†å¤‡ä¸€ä¸ªå…·å¤‡å¤§å°ï¼ˆå®½é«˜ï¼‰çš„ DOM --&gt;&lt;div id="main" style="width: 100% ;height: 1000%; "&gt;&lt;/div&gt;&lt;!-- ç¼–å†™JavaScriptä»£ç  --&gt;&lt;script type="text/javascript"&gt; // var arrName = []; // é«˜å‹ var arrDataH = []; // ä½å‹ var arrDataL = []; // å¿ƒç‡ var arrDataM = []; //jsè°ƒç”¨Java function getEveryDay() &#123; return window.Fragment_Day.getDataByDay(); &#125; function getLocalTime(nS) &#123; return new Date(parseInt(nS) * 1000); &#125; function formatDate(now) &#123; var year = now.getFullYear(), month = now.getMonth() + 1, date = now.getDate(); return year + "-" + month + "-" + date; &#125; function topData() &#123; //var strData = getEveryDay(); var strData = [&#123; "addtime": 1515638273, "com_mark": "yongnuo", "h_pressure": 130, "id": 33, "idcode": "155023233265126", "l_pressure": 84, "pulse": 81 &#125;, &#123; "addtime": 1515638273, "com_mark": "yongnuo", "h_pressure": 130, "id": 33, "idcode": "155023233265126", "l_pressure": 84, "pulse": 81 &#125;, &#123; "addtime": 1515638273, "com_mark": "yongnuo", "h_pressure": 130, "id": 33, "idcode": "155023233265126", "l_pressure": 84, "pulse": 81 &#125;, &#123; "addtime": 1515638273, "com_mark": "yongnuo", "h_pressure": 130, "id": 33, "idcode": "155023233265126", "l_pressure": 84, "pulse": 81 &#125;, &#123; "addtime": 1515638273, "com_mark": "yongnuo", "h_pressure": 130, "id": 33, "idcode": "155023233265126", "l_pressure": 84, "pulse": 81 &#125;] console.log(strData); for (var i = 0; i &lt; strData.length; i++) &#123; arrName.push(formatDate(getLocalTime(strData[i].addtime))); console.log(formatDate(getLocalTime(strData[i].addtime))); arrDataH.push(strData[i].h_pressure); arrDataL.push(strData[i].l_pressure); arrDataM.push(strData[i].pulse); &#125; &#125; window.onload = function () &#123; topData(); var myChart = echarts.init(document.getElementById('main')); // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ® var option = &#123; // æ•´ä½“ä½ç½®è®¾ç½® grid: &#123; top: '10%', left: '10%', right: '4%', bottom: '15%' &#125;, // å›¾ä¾‹è®¾ç½® legend: &#123; //name=legend.dataçš„æ—¶å€™æ‰èƒ½æ˜¾ç¤ºå›¾ä¾‹ data: ['é«˜å‹', 'ä½å‹', 'å¿ƒç‡'], top: '2%', right: '10%', itemGap: 150, &#125;, // å­—ä½“å¤§å°è®¾ç½® textStyle: &#123; fontSize: "150%" &#125;, // xè½´è®¾ç½® xAxis: &#123; type: 'category', boundaryGap: false, data: arrName, axisLabel: &#123; interval: 0, rotate: 45, formatter: '&#123;value&#125;', textStyle: &#123; fontSize: 24, &#125; &#125; &#125;, // yè½´è®¾ç½® yAxis: &#123; axisLabel: &#123; textStyle: &#123; fontSize: 24 &#125; &#125; &#125;, // ç»˜åˆ¶æŠ˜çº¿ series: [ // é«˜å‹ &#123; /** * å›¾è¡¨æ ·å¼ */ name: 'é«˜å‹', type: 'line', label: &#123; normal: &#123; show: true, position: 'top', fontSize: 24 &#125; &#125;, /** * è®¾ç½®æŠ˜çº¿é¢œè‰² */ itemStyle: &#123; normal: &#123; color: "#cc3300", barBorderColor: "#cc3300", &#125; &#125;, /** * è®¾ç½®yè½´å¯¹åº”çš„å…·ä½“æ•°æ® */ data: arrDataH, &#125;, // ä½å‹ &#123; /** * å›¾è¡¨æ ·å¼ */ name: 'ä½å‹', type: 'line', label: &#123; normal: &#123; show: true, position: 'top', fontSize: 24 &#125; &#125;, /** * è®¾ç½®æŠ˜çº¿é¢œè‰² */ itemStyle: &#123; normal: &#123; color: "#33aa00", barBorderColor: "#33aa00", &#125; &#125;, /** * è®¾ç½®yè½´å¯¹åº”çš„å…·ä½“æ•°æ® */ data: arrDataL, &#125;, // å¿ƒç‡ &#123; /** * å›¾è¡¨æ ·å¼ */ name: 'å¿ƒç‡', type: 'line', label: &#123; normal: &#123; show: true, position: 'top', fontSize: 24 &#125; &#125;, /** * è®¾ç½®æŠ˜çº¿é¢œè‰² */ itemStyle: &#123; normal: &#123; color: "#388CD9", barBorderColor: "#388CD9", &#125; &#125;, /** * è®¾ç½®yè½´å¯¹åº”çš„å…·ä½“æ•°æ® */ data: arrDataM, &#125;] &#125; window.onresize = myChart.resize; // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚ myChart.setOption(option); &#125;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; æœ€ç»ˆç»“æœæ ·å¼:]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RxJavaçš„äº†è§£]]></title>
    <url>%2FRxJava%E7%9A%84%E4%BA%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttps://gank.io/post/560e15be2dca930e00da1083 ä¸€. å‡†å¤‡ Javaæ³›å‹ä¸­&lt;ï¼Ÿ extends E&gt;å’Œ&lt;ï¼Ÿ super E&gt;çš„åŒºåˆ« å‚è€ƒï¼šhttp://blog.csdn.net/u014513883/article/details/49820569 PECSæ³•åˆ™ ç”Ÿäº§è€…ï¼ˆProducerï¼‰ä½¿ç”¨extends å¦‚æœä½ éœ€è¦ä¸€ä¸ª**æä¾›**Eç±»å‹å…ƒç´ çš„é›†åˆï¼Œä½¿ç”¨æ³›å‹é€šé…ç¬¦&lt;? extends E&gt;ã€‚å®ƒå¥½æ¯”ä¸€ä¸ªç”Ÿäº§è€…ï¼Œå¯ä»¥æä¾›æ•°æ®ã€‚ æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ä½¿ç”¨super å¦‚æœä½ éœ€è¦ä¸€ä¸ªåªèƒ½**è£…å…¥**Eç±»å‹å…ƒç´ çš„é›†åˆï¼Œä½¿ç”¨æ³›å‹é€šé…ç¬¦&lt;? super E&gt;ã€‚å®ƒå¥½æ¯”ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œå¯ä»¥æ¶ˆè´¹ä½ æä¾›çš„æ•°æ®ã€‚ æ—¢æ˜¯ç”Ÿäº§è€…ä¹Ÿæ˜¯æ¶ˆè´¹è€…æ—¢è¦å­˜å‚¨åˆè¦è¯»å–ï¼Œé‚£å°±åˆ«ä½¿ç”¨æ³›å‹é€šé…ç¬¦ äºŒ. ä½¿ç”¨æ–¹å¼ï¼ˆä¸€ï¼‰Observableä¸­åˆ›é€ äº‹ä»¶åºåˆ—çš„æ–¹æ³•1. create()1). Subscriberå®Œæ•´å®šä¹‰çš„å›è°ƒ123456789101112131415161718192021// Subscriberå®Œæ•´å®šä¹‰çš„å›è°ƒObservable.create(new Observable.OnSubscribe&lt;String&gt;() &#123; @Override public void call(Subscriber&lt;? super String&gt; subscriber) &#123; subscriber.onNext("è®¢é˜…è€…æ¥æ”¶åˆ°----Hello"); subscriber.onNext("è®¢é˜…è€…æ¥æ”¶åˆ°----RxJava"); subscriber.onNext("è®¢é˜…è€…æ¥æ”¶åˆ°----Android"); subscriber.onCompleted(); &#125;&#125;).subscribe(new Subscriber&lt;String&gt;() &#123; @Override public void onCompleted() &#123;&#125; @Override public void onError(Throwable e) &#123;&#125; @Override public void onNext(String s) &#123; Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; onNext : " + s); &#125;&#125;); 2). Action1ä¸å®Œæ•´å®šä¹‰çš„å›è°ƒ123456789101112131415// Action1ä¸å®Œæ•´å®šä¹‰çš„å›è°ƒObservable.create(new Observable.OnSubscribe&lt;String&gt;() &#123; @Override public void call(Subscriber&lt;? super String&gt; subscriber) &#123; subscriber.onNext("è®¢é˜…è€…æ¥æ”¶åˆ°----Hello"); subscriber.onNext("è®¢é˜…è€…æ¥æ”¶åˆ°----RxJava"); subscriber.onNext("è®¢é˜…è€…æ¥æ”¶åˆ°----Android"); subscriber.onCompleted(); &#125;&#125;).subscribe(new Action1&lt;String&gt;() &#123; @Override public void call(String s) &#123; Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; call : " + s); &#125;&#125;); Action1 å’Œ Action0åŒºåˆ«ï¼š Action0ï¼šæ˜¯ RxJava çš„ä¸€ä¸ªæ¥å£ï¼Œå®ƒåªæœ‰ä¸€ä¸ªæ–¹æ³• call()ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æ— å‚æ— è¿”å›å€¼çš„ï¼›ç”±äº onCompleted() æ–¹æ³•ä¹Ÿæ˜¯æ— å‚æ— è¿”å›å€¼çš„ï¼Œå› æ­¤ Action0 å¯ä»¥è¢«å½“æˆä¸€ä¸ªåŒ…è£…å¯¹è±¡ï¼Œå°† onCompleted() çš„å†…å®¹æ‰“åŒ…èµ·æ¥å°†è‡ªå·±ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ å…¥ subscribe() ä»¥å®ç°ä¸å®Œæ•´å®šä¹‰çš„å›è°ƒã€‚ Action1 ï¼šä¹Ÿæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒåŒæ ·åªæœ‰ä¸€ä¸ªæ–¹æ³• call(T param)ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿæ— è¿”å›å€¼ï¼Œä½†æœ‰ä¸€ä¸ªå‚æ•°ï¼›ä¸ Action0 åŒç†ï¼Œç”±äº onNext(T obj) å’Œ onError(Throwable error) ä¹Ÿæ˜¯å•å‚æ•°æ— è¿”å›å€¼çš„ï¼Œå› æ­¤ Action1 å¯ä»¥å°† onNext(obj) å’Œ onError(error) æ‰“åŒ…èµ·æ¥ä¼ å…¥ subscribe() ä»¥å®ç°ä¸å®Œæ•´å®šä¹‰çš„å›è°ƒã€‚ 2. just(Tâ€¦) : å°†ä¼ å…¥çš„å‚æ•°ä¾æ¬¡å‘é€å‡ºæ¥ã€‚12345678910111213141516171819202122232425262728293031// ä½¿ç”¨å•ä¸ªStringObservable.just("just Hello", "just RxJava", "just Android").subscribe(new Action1&lt;String&gt;() &#123; @Override public void call(String s) &#123; Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; call : " + s); &#125;&#125;);// ä½¿ç”¨æ•°ç»„æ•ˆæœString[] strs = new String[]&#123;"just Hello", "just RxJava", "just Android"&#125;;Observable.just(strs).subscribe(new Action1&lt;String[]&gt;() &#123; @Override public void call(String[] strings) &#123; for (String item : strings) &#123; Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; call : " + item); &#125; &#125;&#125;);// å°†ä¼šä¾æ¬¡è°ƒç”¨ï¼š// onNext("Hello");// onNext("Hi");// onNext("Aloha");// onCompleted();/** * ç»“æœï¼š * just Hello * just RxJava * just Android */ 3. from(T[]) / from(Iterable&lt;? extends T&gt;) : å°†ä¼ å…¥çš„æ•°ç»„æˆ– Iterable æ‹†åˆ†æˆå…·ä½“å¯¹è±¡åï¼Œä¾æ¬¡å‘é€å‡ºæ¥ã€‚12345678910111213141516171819202122232425// ä¸€ä¸‹ä¸¤ç§æ–¹å¼äº§ç”Ÿçš„ç»“æœç›¸åŒ// æ–¹å¼1String[] strs = &#123;"From Hello", "From RxJava", "From Android"&#125;;Observable.from(strs).subscribe(new Subscriber&lt;String&gt;() &#123; @Override public void onCompleted() &#123;&#125; @Override public void onError(Throwable e) &#123;&#125; @Override public void onNext(String s) &#123; Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; onNext haha : " + s); &#125; &#125;); // æ–¹å¼2Observable.from(strs).subscribe(new Action1&lt;String&gt;() &#123; @Override public void call(String s) &#123; Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; call : " + s); &#125; &#125;); ï¼ˆäºŒï¼‰ çº¿ç¨‹æ§åˆ¶ ï¼š Schedulerè°ƒåº¦æ–¹æ³•ï¼š subscribeOn() : æŒ‡å®š subscribe() æ‰€å‘ç”Ÿçš„çº¿ç¨‹ï¼Œå³ Observable.OnSubscribe è¢«æ¿€æ´»æ—¶æ‰€å¤„çš„çº¿ç¨‹ã€‚æˆ–è€…å«åšäº‹ä»¶äº§ç”Ÿçš„çº¿ç¨‹ã€‚ observeOn() ï¼šæŒ‡å®š Subscriber æ‰€è¿è¡Œåœ¨çš„çº¿ç¨‹ã€‚æˆ–è€…å«åšäº‹ä»¶æ¶ˆè´¹çš„çº¿ç¨‹ã€‚ å¸¸ç”¨çº¿ç¨‹ï¼š Schedulers.immediate() : ç›´æ¥åœ¨å½“å‰çº¿ç¨‹è¿è¡Œï¼Œç›¸å½“äºä¸æŒ‡å®šçº¿ç¨‹ã€‚è¿™æ˜¯é»˜è®¤çš„ Schedulerã€‚ Schedulers.newThread() ï¼šæ€»æ˜¯å¯ç”¨æ–°çº¿ç¨‹ï¼Œå¹¶åœ¨æ–°çº¿ç¨‹æ‰§è¡Œæ“ä½œã€‚ Schedulers.io() : I/O æ“ä½œï¼ˆè¯»å†™æ–‡ä»¶ã€è¯»å†™æ•°æ®åº“ã€ç½‘ç»œä¿¡æ¯äº¤äº’ç­‰ï¼‰æ‰€ä½¿ç”¨çš„ Schedulerã€‚è¡Œä¸ºæ¨¡å¼å’Œ newThread() å·®ä¸å¤šï¼ŒåŒºåˆ«åœ¨äº io() çš„å†…éƒ¨å®ç°æ˜¯æ˜¯ç”¨ä¸€ä¸ªæ— æ•°é‡ä¸Šé™çš„çº¿ç¨‹æ± ï¼Œå¯ä»¥é‡ç”¨ç©ºé—²çš„çº¿ç¨‹ï¼Œå› æ­¤å¤šæ•°æƒ…å†µä¸‹ io() æ¯” newThread() æ›´æœ‰æ•ˆç‡ã€‚é¡ºåºæœ‰å˜åŒ–ã€‚ Schedulers.computation() : è®¡ç®—æ‰€ä½¿ç”¨çš„ Schedulerã€‚è¿™ä¸ªè®¡ç®—æŒ‡çš„æ˜¯ CPU å¯†é›†å‹è®¡ç®—ï¼Œå³ä¸ä¼šè¢« I/O ç­‰æ“ä½œé™åˆ¶æ€§èƒ½çš„æ“ä½œï¼Œä¾‹å¦‚å›¾å½¢çš„è®¡ç®—ã€‚è¿™ä¸ª Scheduler ä½¿ç”¨çš„å›ºå®šçš„çº¿ç¨‹æ± ï¼Œå¤§å°ä¸º CPU æ ¸æ•°ã€‚ AndroidSchedulers.mainThread() ï¼šAndroidä¸“ç”¨çš„ ï¼Œå®ƒæŒ‡å®šçš„æ“ä½œå°†åœ¨ Android ä¸»çº¿ç¨‹è¿è¡Œã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324Observable.create(new Observable.OnSubscribe&lt;Drawable&gt;() &#123; @Override public void call(Subscriber&lt;? super Drawable&gt; subscriber) &#123; Drawable drawable = getResources().getDrawable(R.mipmap.ic_launcher_round); subscriber.onNext(drawable); &#125;&#125;). subscribeOn(Schedulers.io()). observeOn(AndroidSchedulers.mainThread()).subscribe(new Subscriber&lt;Drawable&gt;() &#123; @Override public void onCompleted() &#123; Log.e(TAG, "aboutObservable_03 onCompleted"); &#125; @Override public void onError(Throwable e) &#123; Log.e(TAG, "aboutObservable_03 onError"); &#125; @Override public void onNext(Drawable drawable) &#123; mImage.setImageDrawable(drawable); &#125;&#125;); ï¼ˆä¸‰ï¼‰å˜æ¢å°†äº‹ä»¶åºåˆ—ä¸­çš„å¯¹è±¡æˆ–æ•´ä¸ªåºåˆ—è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œè½¬æ¢æˆä¸åŒçš„äº‹ä»¶æˆ–äº‹ä»¶åºåˆ—ã€‚ 1. map() : è¿”å›å€¼ä¸ºç»“æœé›†ã€‚äº‹ä»¶å¯¹è±¡çš„ç›´æ¥å˜æ¢ï¼Œæ˜¯ä¸€å¯¹ä¸€çš„è½¬åŒ–ï¼Œæ˜¯ RxJava æœ€å¸¸ç”¨çš„å˜æ¢ã€‚ é‡Šä¹‰ è¿”å›ä¸€ä¸ªObservableï¼Œå®ƒå°†ä¸€ä¸ªæŒ‡å®šçš„å‡½æ•°åº”ç”¨äºæºObservableå‘å‡ºçš„æ¯ä¸ªé¡¹ç›®ï¼Œå¹¶å‘å‡ºè¿™äº›å‡½æ•°åº”ç”¨ç¨‹åºçš„ç»“æœã€‚ Func1()ï¼ŒåŒ…è£…çš„æ˜¯æœ‰è¿”å›å€¼çš„æ–¹æ³•ã€‚ 12345678910111213Observable.just("images/logo.png") // è¾“å…¥ç±»å‹ String .map(new Func1&lt;String, Bitmap&gt;() &#123; @Override public Bitmap call(String filePath) &#123; // å‚æ•°ç±»å‹ String return getBitmapFromPath(filePath); // è¿”å›ç±»å‹ Bitmap &#125; &#125;) .subscribe(new Action1&lt;Bitmap&gt;() &#123; @Override public void call(Bitmap bitmap) &#123; // å‚æ•°ç±»å‹ Bitmap showBitmap(bitmap); &#125; &#125;); 2. flatMap() : æ— é¡ºåºã€‚åµŒå¥—æ“ä½œã€‚è¿”å›å€¼ä¸º Observable å¯¹è±¡ã€‚flaté“ºå¹³ã€‚æ˜¯ä¸€å¯¹å¤šçš„è½¬åŒ–ã€‚ é‡Šä¹‰ å¯¹Observableå‘å°„çš„æ•°æ®éƒ½åº”ç”¨(apply)ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªObservableï¼Œç„¶ååˆå¹¶è¿™äº›Observablesï¼Œå¹¶ä¸”å‘é€ï¼ˆemitï¼‰åˆå¹¶çš„ç»“æœã€‚ flatMapå’Œmapæ“ä½œç¬¦å¾ˆç›¸åƒï¼ŒflatMapå‘é€çš„æ˜¯åˆå¹¶åçš„Observablesï¼Œmapæ“ä½œç¬¦å‘é€çš„æ˜¯åº”ç”¨å‡½æ•°åè¿”å›çš„ç»“æœé›† åŸç†ï¼š åµŒå¥— ï¼šä½¿ç”¨ä¼ å…¥çš„äº‹ä»¶å¯¹è±¡åˆ›å»ºä¸€ä¸ª Observable å¯¹è±¡ï¼Œæ­¤å¤„åµŒå¥—Observableæ“ä½œï¼› å¹¶ä¸å‘é€è¿™ä¸ª Observable, è€Œæ˜¯å°†å®ƒæ¿€æ´»ï¼ˆObservableæ‰§è¡Œ â€œäº§ç”Ÿæ•°æ®â€çš„è¿‡ç¨‹ï¼Œæ­¤æ—¶ï¼Œæ¯ä¸€ä¸ªäº‹ä»¶äº§ç”Ÿè‹¥å¹²ä¸ªç»“æœé›†åˆï¼‰ï¼Œä½†æ˜¯ä¸å‘é€ç»“æœé›†åˆï¼› åˆå¹¶(merge)æ“ä½œ â€”â€” äº‹ä»¶ä¼ å…¥é¡ºåº != ä¼ å‡ºé¡ºåº -&gt; é¡ºåºæ··ä¹±ï¼šæ¯ä¸€ä¸ªåˆ›å»ºå‡ºæ¥çš„ Observable å‘é€çš„äº‹ä»¶ï¼Œéƒ½è¢«æ±‡å…¥åŒä¸€ä¸ª Observable ï¼Œè€Œè¿™ä¸ª Observable è´Ÿè´£å°†è¿™äº›äº‹ä»¶ï¼ˆç»“æœé›†çš„é›†åˆï¼‰**ç»Ÿä¸€**äº¤ç»™ Subscriber çš„å›è°ƒæ–¹æ³•ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738List&lt;Course&gt; list1 = new ArrayList&lt;Course&gt;();list1.add(new Course("three - Android", 1));list1.add(new Course("three - JSP", 3));List&lt;Course&gt; list2 = new ArrayList&lt;Course&gt;();list2.add(new Course("three - Object-C", 1));list2.add(new Course("three - HTML 5", 2));StudentInCourse[] students = new StudentInCourse[]&#123; new StudentInCourse("å¼ ä¸‰", "ç”·", 10, list1), new StudentInCourse("å¼µå°ç›’", "å¥³", 20, list2),&#125;; Observable.from(students). flatMap(new Func1&lt;StudentInCourse, Observable&lt;Course&gt;&gt;() &#123; @Override public Observable&lt;Course&gt; call(StudentInCourse studentInCourse) &#123; return Observable.from(studentInCourse.getList()); &#125; &#125;).subscribe(new Subscriber&lt;Course&gt;() &#123; @Override public void onCompleted() &#123;&#125; @Override public void onError(Throwable e) &#123;&#125; @Override public void onNext(Course course) &#123; Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; onNext : " + course.toString()); &#125;&#125;);/** * Course&#123;name='three - Android', id=1&#125; * Course&#123;name='three - JSP', id=3&#125; * Course&#123;name='three - Object-C', id=1&#125; * Course&#123;name='three - HTML 5', id=2&#125; */ è¯¦ç»†è¯´æ˜ï¼šå›¾ç‰‡æ¥è‡ªç½‘ç»œï¼šhttps://www.jianshu.com/p/52cd2d514528 123ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºStudent1ã€Student2ç»è¿‡flatMapåï¼ŒæŒ‰é¡ºåºä¾æ¬¡ç»å†äº†Observable1ã€Observable2ï¼Œåˆ†åˆ«è½¬åŒ–ä¸ºCourseã€‚æœ€åæŒ‰é¡ºåºå¾—åˆ°Course1ã€Course2ã€Course3ã€Course4ã€Course5ã€Course6ï¼Œå…¶ä¸­1-3ç”±Student1å¾—åˆ°ï¼Œ4-6ç”±Student2å¾—åˆ°ã€‚ æˆ‘ä¸ªäººæ˜¯åœ¨çœ‹åˆ°å¦‚ä¸Šçš„é…å›¾+æ–‡å­—è¯´æ˜åï¼Œæ‰æç„¶å¤§æ‚Ÿçš„ã€‚ 3. concatMap() ï¼šæœ‰é¡ºåºæ€§ã€‚åŒflatMap()ç›¸ä¼¼ 4.1 concat() : å¤šä¸ªæ•°æ®æºå»ºç«‹è”ç³»ï¼Œone by one å‚è€ƒï¼šhttps://www.jianshu.com/p/94c433057440 å®˜æ–¹å›¾ ç½‘ç»œå›¾ï¼šå¤šä¸ªæ•°æ®æºä¸€ä¸ªæ¥ä¸€ä¸ªçš„è¿æ¥æˆä¸ºä¸€ä¸ªæ•°æ®æº æ³¨æ„ï¼š åœ¨ä½¿ç”¨æ­¤æ–¹æ³•æ—¶ï¼Œéœ€è¦æ­é…onComplete() æˆ–è€… onError()ã€‚å¦åˆ™ï¼Œæœ€ç»ˆè¿”å›çš„ç»“æœåªèƒ½æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®è¯·æ±‚å¾—åˆ°çš„ç»“æœã€‚ ä½¿ç”¨åœºæ™¯ï¼š 4.1 éœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªæ•°æ®è¯·æ±‚ï¼Œæœ€ç»ˆéœ€è¦å°†å…¶ä½œä¸ºä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®è¿›è¡Œè¿”å›ã€‚ 4.2 ä¾æ¬¡æ£€æŸ¥memoryã€diskå’Œnetworkä¸­æ˜¯å¦å­˜åœ¨æ•°æ®ï¼Œä»»ä½•ä¸€æ­¥ä¸€æ—¦å‘ç°æ•°æ®åé¢çš„æ“ä½œéƒ½ä¸æ‰§è¡Œã€‚ æ­é…ä½¿ç”¨ï¼š first() : è¯·æ±‚å¤šæ•°æ®æºæ—¶ï¼Œåªè¦æœ‰ä¸€ä¸ªè¯·æ±‚åˆ°æ•°æ®ï¼ˆæ»¡è¶³éœ€æ±‚ï¼‰ï¼Œå³åœæ­¢å…¶ä»–è¯·æ±‚ï¼ŒåŠ¨ä½œã€‚ takeFirst() : å½“è¯·æ±‚å¤šæ•°æ®æºæ—¶ï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½æ²¡æœ‰æ•°æ®æ—¶ï¼Œä¸ºnullæ—¶ï¼Œä¸ä¼šæŠ¥å¼‚å¸¸ã€‚ ç¤ºä¾‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758// ä¿¡æ¯1Observable&lt;Object&gt; oneOb = Observable.create(new Observable.OnSubscribe&lt;Object&gt;() &#123; @Override public void call(Subscriber&lt;? super Object&gt; subscriber) &#123; String one = "å•†å“ä¿¡æ¯1"; subscriber.onNext(one); subscriber.onCompleted(); &#125;&#125;).subscribeOn(Schedulers.io());// ä¿¡æ¯2Observable&lt;Object&gt; twoOb = Observable.create(new Observable.OnSubscribe&lt;Object&gt;() &#123; @Override public void call(Subscriber&lt;? super Object&gt; subscriber) &#123; String one = "è¿™æ˜¯è‰ºæœ¯å®¶çš„ä¿¡æ¯"; subscriber.onNext(one); subscriber.onCompleted(); &#125;&#125;).subscribeOn(Schedulers.io());// ä¿¡æ¯3Observable&lt;Object&gt; threeOb = Observable.create(new Observable.OnSubscribe&lt;Object&gt;() &#123; @Override public void call(Subscriber&lt;? super Object&gt; subscriber) &#123; Integer one = 123; subscriber.onNext(one); subscriber.onCompleted(); &#125;&#125;).subscribeOn(Schedulers.io());// ä¿¡æ¯æ±‡æ€»Observable.concat(oneOb, twoOb, threeOb).observeOn(AndroidSchedulers.mainThread()).subscribe(new Action1&lt;Object&gt;() &#123; @Override public void call(Object o) &#123; Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; call : " + o.toString()); &#125;&#125;);/** * å•†å“ä¿¡æ¯1 * è¿™æ˜¯è‰ºæœ¯å®¶çš„ä¿¡æ¯ * 123 */ // åªéœ€è¦å…¶ä¸­ä¸€ä¸ªæ•°æ®æºæœ‰æ•°æ®å³å¯ï¼Œå³åœæ­¢å½“å‰æ•°æ®è¯·æ±‚ Observable.concat(oneOb, twoOb, threeOb) // first()å‡½æ•°çš„ä½¿ç”¨ .first() .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Action1&lt;Object&gt;() &#123; @Override public void call(Object o) &#123; Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; call : " + o.toString()); &#125;&#125;);/** * å•†å“ä¿¡æ¯1 */ 4.2 merge() åˆå¹¶ 4.3 compose() ç»„åˆ5. zip() : åˆå¹¶å¤šä¸ªæ•°æ®æµï¼Œç„¶åå‘é€æœ€ç»ˆåˆå¹¶çš„æ•°æ®ã€‚ å‚è€ƒï¼šhttp://blog.csdn.net/johnny901114/article/details/51614927 ä½¿ç”¨åœºæ™¯ï¼š åœ¨å¾ˆå¤šappç§éƒ½ä¼šæœ‰å›¾ç‰‡ä¸Šä¼ çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å•†å“çš„è¯„ä»·ï¼Œå®¢æˆ·ç«¯å…è®¸ç”¨æˆ·æ‹ç…§ä¸Šä¼ (å¯èƒ½å¤šå¼ )ï¼ŒæŠŠå›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶åè·å–å›¾ç‰‡çš„urlï¼Œå†æŠŠå›¾ç‰‡çš„ä¿¡æ¯ï¼ˆå›¾ç‰‡urlï¼Œå›¾ç‰‡å¤§å°ï¼‰å‘é€ç»™æœåŠ¡å™¨ã€‚ å‚è€ƒä»£ç ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * 1,å…ˆæŠŠæ‰€æœ‰çš„å›¾ç‰‡ä¸Šä¼ åˆ°åˆæ‹äº‘ï¼ˆæ¯”å¦‚3å¼ å›¾ç‰‡ï¼‰ * 2,è·å–å›¾ç‰‡çš„urlè·¯å¾„ï¼Œå›¾ç‰‡å¤§å°ç­‰ * 3,æœ€åæŠŠæ•°æ®å…¨éƒ¨æäº¤ç»™æœåŠ¡å™¨ *///éœ€è¦ä¸Šä¼ çš„å›¾ç‰‡Picture[] ps = xxx;Observable.zip( Observable.from(ps), getUpYunAddress(ps.length),//è·å–ä¸Šä¼ çš„url new Func2&lt;Picture, UpYunAddress, Picture&gt;() &#123; @Override public Picture call(Picture picture, UpYunAddress upYunAddress) &#123; //å¦‚æœè¯¥å›¾ç‰‡å·²ç»ä¸Šä¼ åˆ™ä¸åº”è¯¥ä¸Šä¼  if (TextUtils.isEmpty(picture.getSource())) &#123; try &#123; //ä½¿ç”¨åˆæ‹äº‘æä¾›çš„å·¥å…·ç±»ï¼Œä¸Šä¼ å›¾ç‰‡ String path = UpYunUtil.uploadImage(upYunAddress, picture.getLocalUrl()); //è·å–æœ€ç»ˆçš„url String finalUrl = upYunAddress.getPrefix() + path; picture.setSource(finalUrl); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; return picture; &#125; &#125;) .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) //ä¸Šä¼ æˆåŠŸåè·å–å›¾ç‰‡å¤§å° .flatMap(new Func1&lt;Picture, Observable&lt;Picture&gt;&gt;() &#123; @Override public Observable&lt;Picture&gt; call(Picture picture) &#123; if (TextUtils.isEmpty(picture.getHeight()) || TextUtils.isEmpty(picture.getWidth())) &#123; BitmapFactory.Options options; if (!TextUtils.isEmpty(picture.getLocalUrl())) &#123; options = ImageUtil.getBitmapOptions(picture.getLocalUrl()); picture.setLocalUrl(null); &#125; else &#123; options = ImageUtil.getBitmapOptions(picture.getSource()); &#125; picture.setWidth(String.valueOf(options.outWidth)); picture.setHeight(String.valueOf(options.outHeight)); &#125; return Observable.just(picture); &#125; &#125;); //æœ€åå¤„ç†æœ€ç»ˆçš„æ•°æ®ã€‚ 4. filter() ï¼šé›†åˆè¿›è¡Œè¿‡æ»¤5. each() ï¼šéå†é›†åˆ6. take() ï¼šå–å‡ºé›†åˆä¸­çš„å‰å‡ ä¸ª7. skip() ï¼šè·³è¿‡å‰å‡ ä¸ªå…ƒç´ 9.]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰‹åŠ¿åŠ¨ç”»å¤„ç†]]></title>
    <url>%2F%E6%89%8B%E5%8A%BF%E5%8A%A8%E7%94%BB%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttps://developer.android.com/reference/android/view/MotionEvent.html ç›¸å…³çš„ç±» MotionEventç±»ï¼šå­˜å‚¨è§¦æ‘¸äº‹ä»¶çš„ä¿¡æ¯ VelocityTrackerç±»ï¼šé€Ÿåº¦è¿½è¸ªç±» Gandroid.view.GestureDetector : æ‰‹åŠ¿æ“ä½œçš„è¯†åˆ«ç±»ï¼Œé€šè¿‡ä»–æ¥ä½¿ç”¨ä¸‹é¢çš„è¯†åˆ«æ¥å£ã€‚ android.view.GestureDetector.SimpleOnGestureListener : æ‰‹åŠ¿è¯†åˆ«çš„æ¥å£ç±»ï¼Œä½¿ç”¨ä»–å¯ä»¥æŒ‰éœ€é‡è½½è‡ªå·±æƒ³è¦çš„æ–¹æ³•ï¼Œæ–¹æ³•å¤š android.view.GestureDetector.OnGestureListener : æ‰‹åŠ¿è¯†åˆ«çš„ç±»ï¼ŒSimpleOnGestureListeneræ¥å£çš„çˆ¶ç±»ã€‚ä½¿ç”¨ä»–éœ€è¦å®ç°ä»–æ‰€æœ‰çš„æ–¹æ³•ã€‚ Androidäº‹ä»¶å“åº”æœºåˆ¶View.java 12public boolean dispatchTouchEvent(MotionEvent event)public boolean onTouchEvent(MotionEvent event) ViewGroup.java 123public boolean dispatchTouchEvent(MotionEvent event)public boolean onTouchEvent(MotionEvent event) public boolean onInterceptTouchEvent(MotionEvent event) onTouchEventæ˜¯çœŸæ­£ç”¨æ¥è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†çš„åœ°æ–¹ï¼Œè¿”å›trueè¡¨ç¤ºå·²ç»å°†è¯¥äº‹ä»¶æ¶ˆè´¹ï¼Œè¿”å›falseè¡¨æ˜äº‹ä»¶ç»§ç»­ä¼ é€’ã€‚ onInterceptTouchEventæ˜¯ç”¨æ¥è¿›è¡Œåˆ¤æ–­æ˜¯å¦éœ€è¦å¯¹äº‹ä»¶è¿›è¡Œæ‹¦æˆªä»è€Œé˜»æ­¢å…¶ç»§ç»­å¾€å­ç»„ä»¶ä¼ é€’çš„ï¼Œè¿”å›falseè¡¨ç¤ºæ— éœ€æ‹¦æˆªï¼Œåˆ™é€’å½’çš„è°ƒç”¨å­ç»„ä»¶çš„dispatchTouchEventæ–¹æ³•ï¼›è¿”å›trueè¡¨ç¤ºéœ€è¦æ‹¦æˆªï¼Œåˆ™ç›´æ¥è°ƒç”¨æœ¬ç»„ä»¶çš„onTouchEventæ–¹æ³•è¿›è¡Œå¤„ç†ã€‚ ä¸€èˆ¬æˆ‘ä»¬æ˜¯åœ¨Viewçš„onTouchEventæ–¹æ³•ä¸­å¤„ç†MotionEventå¯¹è±¡çš„. 1public boolean onTouchEvent(MotionEvent event) 1. æ¦‚è¿°ï¼šMotionEvent ç”¨äºæŠ¥å‘Šç§»åŠ¨äº‹ä»¶å¯¹è±¡ é€šè¿‡â€œåŠ¨ä½œä»£ç â€ + â€œä¸€ç»„è½´å€¼â€æ¥æè¿°è¿åŠ¨ã€‚ åŠ¨ä½œä»£ç  ï¼šå‘ç”Ÿçš„çŠ¶æ€å˜åŒ–ï¼Œå¦‚æŒ‡é’ˆå‘ä¸‹æˆ–å‘ä¸Šä¸€æ—è½´å€¼ ï¼šæè¿°ä½ç½®å’Œå…¶ä»–è¿åŠ¨å±æ€§ ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è§¦æ‘¸å±å¹•æ—¶ï¼Œç³»ç»ŸViewé€šè¿‡åŠ¨ä½œä»£ç ACTION_DOWN å’Œä¸€ç»„åŒ…å«è§¦æ‘¸çš„Xå’ŒYåæ ‡çš„è½´å€¼ä»¥åŠå…³äºè§¦æ‘¸çš„å‹åŠ›ï¼Œå¤§å°å’Œæ–¹å‘çš„ä¿¡æ¯æ¥è§¦é¢ç§¯ã€‚ è¿åŠ¨äº‹ä»¶ ä¸ æŒ‡é’ˆ æœ‰äº›è®¾å¤‡å¯ä»¥åŒæ—¶æŠ¥å‘Šå¤šä¸ªç§»åŠ¨è½¨è¿¹ã€‚å¤šç‚¹è§¦æ‘¸å±ä¸ºæ¯ä¸ªæ‰‹æŒ‡å‘å‡ºä¸€ä¸ªè¿åŠ¨è½¨è¿¹ã€‚äº§ç”Ÿè¿åŠ¨è½¨è¿¹çš„å„ä¸ªæ‰‹æŒ‡æˆ–å…¶ä»–ç‰©ä½“è¢«ç§°ä¸ºæŒ‡é’ˆã€‚è¿åŠ¨äº‹ä»¶åŒ…å«æœ‰å…³å½“å‰æ´»åŠ¨çš„æ‰€æœ‰æŒ‡é’ˆçš„ä¿¡æ¯ï¼Œå³ä½¿å…¶ä¸­ä¸€äº›æŒ‡é’ˆè‡ªä»ä¸Šæ¬¡äº‹ä»¶å‘é€ä»¥æ¥å°šæœªç§»åŠ¨ã€‚é™¤éæ‰‹åŠ¿è¢«å–æ¶ˆï¼Œå¦åˆ™æŒ‡é’ˆçš„æ•°ç›®åªä¼šéšç€å•ä¸ªæŒ‡é’ˆçš„ä¸Šä¸‹è€Œæ”¹å˜ã€‚ æŒ‡é’ˆ â€œIDâ€ ä¸ â€œç´¢å¼•â€ æ¯ä¸ªæŒ‡é’ˆéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ï¼Œå½“å®ƒç¬¬ä¸€æ¬¡å‡ºç°æ—¶è¢«åˆ†é…ï¼ˆç”¨ACTION_DOWNor è¡¨ç¤ºACTION_POINTER_DOWNï¼‰ã€‚æŒ‡é’ˆIDä¿æŒæœ‰æ•ˆï¼Œç›´åˆ°æŒ‡é’ˆæœ€ç»ˆä¸Šå‡ï¼ˆç”±ACTION_UP æˆ–æŒ‡ç¤ºACTION_POINTER_UPï¼‰æˆ–æ‰‹åŠ¿è¢«å–æ¶ˆï¼ˆç”±æŒ‡ç¤º ACTION_CANCELï¼‰ã€‚ æ‰€è¿°MotionEventç±»æä¾›è®¸å¤šæ–¹æ³•æ¥æŸ¥è¯¢ä½ç½®å’ŒæŒ‡é’ˆï¼Œå¦‚å…¶ä»–æ€§è´¨getX(int)ï¼ŒgetY(int)ï¼ŒgetAxisValue(int)ï¼Œ getPointerId(int)ï¼ŒgetToolType(int)ï¼Œå’Œè®¸å¤šå…¶ä»–ã€‚å¤§å¤šæ•°è¿™äº›æ–¹æ³•æ¥å—æŒ‡é’ˆç´¢å¼•ä½œä¸ºå‚æ•°ï¼Œè€Œä¸æ˜¯æŒ‡é’ˆIDã€‚äº‹ä»¶ä¸­æ¯ä¸ªæŒ‡é’ˆçš„æŒ‡é’ˆç´¢å¼•çš„èŒƒå›´ä»0åˆ°1å°äºè¿”å›çš„å€¼getPointerCount()ã€‚ å•ä¸ªæŒ‡é’ˆåœ¨è¿åŠ¨äº‹ä»¶ä¸­å‡ºç°çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚å› æ­¤ï¼ŒæŒ‡é’ˆçš„æŒ‡é’ˆç´¢å¼•å¯ä»¥ä»ä¸€ä¸ªäº‹ä»¶æ”¹å˜åˆ°ä¸‹ä¸€ä¸ªï¼Œä½†æ˜¯åªè¦æŒ‡é’ˆä¿æŒæ´»åŠ¨çŠ¶æ€ï¼ŒæŒ‡é’ˆçš„æŒ‡é’ˆIDå°±ä¿è¯ä¿æŒä¸å˜ã€‚ä½¿ç”¨è¯¥getPointerId(int)æ–¹æ³•è·å–æŒ‡é’ˆçš„æŒ‡é’ˆIDï¼Œä»¥åœ¨æ‰‹åŠ¿ä¸­çš„æ‰€æœ‰åç»­è¿åŠ¨äº‹ä»¶ä¸­è·Ÿè¸ªæŒ‡é’ˆã€‚ç„¶åå¯¹äºè¿ç»­è¿åŠ¨äº‹ä»¶ï¼Œä½¿ç”¨è¯¥findPointerIndex(int)æ–¹æ³•è·å–è¯¥è¿åŠ¨äº‹ä»¶ä¸­ç»™å®šæŒ‡é’ˆæ ‡è¯†çš„æŒ‡é’ˆç´¢å¼•ã€‚ åæ ‡ ä½¿ç”¨æœ€æ–°çš„æŒ‡é’ˆåæ ‡ ï¼šä½¿ç”¨getX(int)å’Œå¯ä»¥getY(int)ã€‚ä½¿ç”¨è¾ƒæ—©åæ ‡ ï¼š ä½¿ç”¨ getHistoricalX(int, int)å’Œè®¿é—®æ‰¹æ¬¡å†…çš„getHistoricalY(int, int)ã€‚åæ ‡æ˜¯â€œå†å²çš„â€ï¼Œåªè¦å®ƒä»¬æ¯”æ‰¹ä¸­çš„å½“å‰åæ ‡æ›´æ—©; ç„¶è€Œï¼Œå®ƒä»¬ä»ç„¶ä¸åŒäºä¹‹å‰çš„åŠ¨ä½œäº‹ä»¶ä¸­æŠ¥å‘Šçš„ä»»ä½•å…¶ä»–åæ ‡ã€‚è¦æŒ‰æ—¶é—´é¡ºåºå¤„ç†æ‰¹æ¬¡ä¸­çš„æ‰€æœ‰åæ ‡ï¼Œè¯·å…ˆæ¶ˆè€—å†å²åæ ‡ï¼Œç„¶åæ¶ˆè€—å½“å‰åæ ‡ã€‚ è®¾å¤‡ç±»å‹ MotionEventå†…å®¹çš„è§£é‡Šæ ¹æ®è®¾å¤‡çš„æºç±»åˆ«è€Œæœ‰å¾ˆå¤§çš„ä¸åŒã€‚ ä¸€è‡´æ€§ä¿è¯ è¿åŠ¨äº‹ä»¶å§‹ç»ˆä½œä¸ºäº‹ä»¶çš„ä¸€è‡´æ€§æµä¼ é€’ç»™è§†å›¾ã€‚ä»€ä¹ˆæ„æˆä¸€ä¸ªä¸€è‡´çš„æµå–å†³äºè®¾å¤‡çš„ç±»å‹ã€‚å¯¹äºè§¦æ‘¸äº‹ä»¶æ¥è¯´ï¼Œä¸€è‡´æ€§æ„å‘³ç€æŒ‡é’ˆä¸€æ¬¡ä¸€ä¸ªåœ°ä¸‹ç§»ï¼Œä¸€ä¸ªä¸€ä¸ªåœ°ç§»åŠ¨ï¼Œç„¶åä¸€æ¬¡ä¸€ä¸ªåœ°ç§»åŠ¨æˆ–å–æ¶ˆã€‚ 2. é™æ€å†…éƒ¨ç±»MotionEvent.PointerCoords ï¼šä¼ é€’å¯¹è±¡çš„æŒ‡é’ˆåæ ‡ã€‚3. é™æ€å†…éƒ¨ç±»MotionEvent.PointerProperties ï¼šä¼ é€’å¯¹è±¡çš„æŒ‡é’ˆå±æ€§ã€‚4. ä¸»è¦å¸¸é‡ACTION_MASK : ä½œä¸ºåŠ¨ä½œæœ¬èº«çš„åŠ¨ä½œä»£ç éƒ¨åˆ†çš„ä½æ©ç  å¸¸é‡ getActionMasked() éè§¦æ‘¸äº‹ä»¶ï¼Œæ‰€ä»¥å®ƒè¢«ä¼ é€’ç»™ onGenericMotionEvent(MotionEvent) ACTION_BUTTON_PRESS æŒ‰é’®å·²è¢«æŒ‰ä¸‹ã€‚å¸¸é‡å€¼ï¼š11ï¼ˆ0x0000000bï¼‰ ACTION_BUTTON_RELEASE ä¸€ä¸ªæŒ‰é’®å·²è¢«é‡Šæ”¾ã€‚å¸¸é‡å€¼ï¼š12ï¼ˆ0x0000000cï¼‰ ACTION_HOVER_ENTER æŒ‡é’ˆæœªå…³é—­ï¼Œä½†å·²ç»è¿›å…¥çª—å£æˆ–è§†å›¾çš„è¾¹ç•Œã€‚å¸¸é‡å€¼ï¼š9ï¼ˆ0x00000009ï¼‰ ACTION_HOVER_EXIT æŒ‡é’ˆæ²¡æœ‰å…³é—­ï¼Œä½†å·²ç»é€€å‡ºäº†çª—å£æˆ–è§†å›¾çš„è¾¹ç•Œã€‚å¸¸é‡å€¼ï¼š10ï¼ˆ0x0000000aï¼‰ ACTION_HOVER_MOVE å‘ç”Ÿäº†æ”¹å˜ï¼Œä½†æŒ‡é’ˆæ²¡æœ‰ä¸‹é™ï¼ˆä¸åƒACTION_MOVEï¼‰å¸¸é‡å€¼ï¼š7ï¼ˆ0x00000007ï¼‰ ACTION_SCROLL è¿åŠ¨äº‹ä»¶åŒ…å«ç›¸å¯¹å‚ç›´å’Œ/æˆ–æ°´å¹³æ»šåŠ¨åç§»ã€‚å¸¸é‡å€¼ï¼š8ï¼ˆ0x00000008ï¼‰ å¸¸é‡ getActionMasked() ä½¿ç”¨getButtonState()æ£€ç´¢æŒ‰é’®çŠ¶æ€ ACTION_DOWN æŒ‰ä¸‹çš„æ‰‹åŠ¿å·²ç»å¼€å§‹ï¼Œè¿åŠ¨åŒ…å«åˆå§‹èµ·å§‹ä½ç½®ã€‚å¸¸é‡å€¼ï¼š0ï¼ˆ0x00000000ï¼‰ ACTION_MOVE åœ¨æŒ‰ä¸‹æ‰‹åŠ¿æœŸé—´ï¼ˆåœ¨ACTION_DOWNå’Œä¹‹é—´ACTION_UPï¼‰å‘ç”Ÿæ”¹å˜ã€‚å¸¸æ•°å€¼ï¼š2ï¼ˆ0x00000002ï¼‰ ACTION_UP æŒ‰ä¸‹çš„æ‰‹åŠ¿å·²ç»å®Œæˆï¼Œå¸¸æ•°å€¼ : 1 (0x00000001) ACTION_CANCEL å½“å‰æ‰‹åŠ¿å·²è¢«ä¸­æ­¢ã€‚å¦‚æœçˆ¶è§†å›¾å¸Œæœ›æ‹¦æˆªå…¶ä¸­çš„ä¸€äº›äº‹ä»¶ï¼Œä¸å†ç»§ç»­è½¬å‘äº‹ä»¶ç»™è¿™ä¸ªå­è§†å›¾çš„è¯ï¼Œé‚£ä¹ˆå°±éœ€è¦ç»™å­è§†å›¾ä¸€ä¸ªACTION_CANCELäº‹ä»¶ã€‚å¸¸æ•°å€¼ : 3 (0x00000003) ACTION_OUTSIDE ç§»åŠ¨å‘ç”Ÿåœ¨UIå…ƒç´ çš„æ­£å¸¸ç•Œé™ä¹‹å¤–ã€‚æ³¨æ„ï¼šç”±äºä»»ä½•äº‹ä»¶çš„ä½ç½®éƒ½å°†è¶…å‡ºè§†å›¾å±‚æ¬¡ç»“æ„çš„èŒƒå›´ï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šå°†å…¶åˆ†æ´¾ç»™ViewGroupçš„ä»»ä½•å­é¡¹ã€‚å› æ­¤ï¼ŒACTION_OUTSIDEçš„ç§»åŠ¨åº”è¯¥ä»¥æ ¹Viewæˆ–é€‚å½“çš„æ–¹å¼Window.Callback ï¼ˆä¾‹å¦‚Activityæˆ–Dialogï¼‰æ¥å¤„ç†ã€‚å¸¸é‡å€¼ï¼š4ï¼ˆ0x00000004ï¼‰ ACTION_POINTER_DOWN éä¸»æŒ‡é’ˆå·²å…³é—­ ACTION_POINTER_UP éä¸»æŒ‡é’ˆå·²ç»ä¸Šå‡ã€‚ ACTION_POINTER_INDEX_MASK ä»£è¡¨æŒ‡é’ˆç´¢å¼•çš„åŠ¨ä½œä»£ç ä¸­çš„ä½ï¼Œä¸ ACTION_POINTER_DOWNå’Œä¸€èµ·ä½¿ç”¨ ACTION_POINTER_UPã€‚ éä¸»æŒ‡é’ˆå·²ç»ä¸Šå‡ã€‚å¸¸é‡å€¼ï¼š1ï¼ˆ0x00000001ï¼‰ ACTION_POINTER_INDEX_SHIFT æŒ‰ç…§å®šä¹‰ï¼Œä¿å­˜æŒ‡é’ˆç´¢å¼•çš„åŠ¨ä½œä½çš„ä½ç§»ACTION_POINTER_INDEX_MASK 5. ä¸»è¦å…¬å…±æ–¹æ³• å…¬å…±æ–¹æ³• è¯´æ˜ getAction() è¿”å›æ­£åœ¨æ‰§è¡Œçš„æ“ä½œã€‚ getActionButton() è·å–åœ¨æŒ‰ä¸‹æˆ–é‡Šæ”¾æ“ä½œæœŸé—´å“ªä¸ªæŒ‰é’®å·²è¢«ä¿®æ”¹ã€‚ findPointerIndex(int pointerId) ç»™å®šä¸€ä¸ªæŒ‡é’ˆæ ‡è¯†ç¬¦ï¼Œåœ¨äº‹ä»¶ä¸­æ‰¾åˆ°å®ƒçš„æ•°æ®ç´¢å¼• getActionIndex() å¯¹äºACTION_POINTER_DOWNæˆ–ACTION_POINTER_UP ä½œä¸ºè¿”å›getActionMasked()ï¼Œè¿™å°†è¿”å›å…³è”çš„æŒ‡é’ˆç´¢å¼•ã€‚ getActionMasked() è¿”å›æ­£åœ¨æ‰§è¡Œçš„è¢«å±è”½çš„æ“ä½œï¼Œæ²¡æœ‰æŒ‡é’ˆç´¢å¼•ä¿¡æ¯ã€‚ getDeviceId() è·å–æ­¤äº‹ä»¶æ¥è‡ªçš„è®¾å¤‡çš„IDã€‚ getDownTime() è¿”å›ç”¨æˆ·æœ€åˆæŒ‰ä¸‹æ—¶å¯åŠ¨ä½ç½®äº‹ä»¶æµçš„æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚ getFlags() è·å–è¿åŠ¨äº‹ä»¶æ ‡å¿—ã€‚ getHistoricalEventTime(int pos) è¿”å›åœ¨æ­¤äº‹ä»¶å’Œä¸Šä¸€ä¸ªäº‹ä»¶ä¹‹é—´å‘ç”Ÿå†å²ç§»åŠ¨çš„uptimeMillis()æ—¶é—´ã€‚ getHistoricalOrientation(int pointerIndex, int pos) æ ¹æ®getOrientation(int)åœ¨æ­¤äº‹ä»¶ä¸ç»™å®šæŒ‡é’ˆçš„ä¸Šä¸€ä¸ªäº‹ä»¶ä¹‹é—´å‘ç”Ÿçš„å†å²æ–¹å‘åæ ‡è¿”å›å†å²æ–¹å‘åæ ‡ã€‚ setSource(int source) ä¿®æ”¹äº‹ä»¶çš„æ¥æºã€‚ setLocation(float x, float y) è®¾ç½®è¿™ä¸ªäº‹ä»¶çš„ä½ç½®ã€‚ offsetLocation(float deltaX, float deltaY) è°ƒæ•´æ­¤äº‹ä»¶çš„ä½ç½®ã€‚ setAction(int action) è®¾ç½®æ­¤äº‹ä»¶çš„æ“ä½œã€‚ recycle() å›æ”¶MotionEventï¼Œä»¥ä¾›ç¨åè°ƒç”¨è€…é‡æ–°ä½¿ç”¨ã€‚ getYPrecision() è¿”å›æ­£åœ¨æŠ¥å‘Šçš„Yåæ ‡çš„ç²¾åº¦ã€‚ getY(int pointerIndex) è¿”å›ç»™å®šæŒ‡é’ˆç´¢å¼•çš„æ­¤äº‹ä»¶çš„Yåæ ‡ ï¼ˆç”¨äºgetPointerId(int)æŸ¥æ‰¾æ­¤ç´¢å¼•çš„æŒ‡é’ˆæ ‡è¯†ç¬¦ï¼‰ã€‚ getY() getY(int) ä¸ºç¬¬ä¸€ä¸ªæŒ‡é’ˆç´¢å¼•ï¼ˆå¯èƒ½æ˜¯ä¸€ä¸ªä»»æ„çš„æŒ‡é’ˆæ ‡è¯†ç¬¦ï¼‰ã€‚ getRawY() è¿”å›æ­¤äº‹ä»¶çš„åŸå§‹Yåæ ‡ã€‚ getPressure(int pointerIndex) è¿”å›ç»™å®šæŒ‡é’ˆç´¢å¼•çš„æ­¤äº‹ä»¶çš„å½“å‰å‹åŠ› ï¼ˆç”¨äºgetPointerId(int)æŸ¥æ‰¾æ­¤ç´¢å¼•çš„æŒ‡é’ˆæ ‡è¯†ç¬¦ï¼‰ã€‚ getSize(int pointerIndex) è¿”å›ç»™å®šæŒ‡é’ˆç´¢å¼•çš„è¿‘ä¼¼å¤§å°çš„ç¼©æ”¾å€¼ ï¼ˆç”¨äºgetPointerId(int)æŸ¥æ‰¾æ­¤ç´¢å¼•çš„æŒ‡é’ˆæ ‡è¯†ç¬¦ï¼‰ã€‚ getPointerCount() åŒ…å«åœ¨è¿™ä¸ªäº‹ä»¶ä¸­çš„æ•°æ®æŒ‡é’ˆçš„æ•°é‡ã€‚ getOrientation(int pointerIndex) è¿”å›ç»™å®šæŒ‡é’ˆç´¢å¼•ï¼ˆç”¨äºgetPointerId(int)æŸ¥æ‰¾æ­¤ç´¢å¼•çš„æŒ‡é’ˆæ ‡è¯†ç¬¦ï¼‰çš„è§¦æ‘¸åŒºåŸŸå’Œå·¥å…·åŒºåŸŸçš„æ–¹å‘ï¼Œä»å‚ç›´æ–¹å‘é¡ºæ—¶é’ˆæ—‹è½¬å¼§åº¦ã€‚ getSource() è·å–äº‹ä»¶çš„æ¥æºã€‚ 6. äº‹ä»¶åæ ‡çš„å«ä¹‰ getX()å’ŒgetY()ï¼šç”±è¿™ä¸¤ä¸ªå‡½æ•°è·å¾—çš„x,yå€¼æ˜¯ç›¸å¯¹çš„åæ ‡å€¼ï¼Œç›¸å¯¹äºæ¶ˆè´¹è¿™ä¸ªäº‹ä»¶çš„è§†å›¾çš„å·¦ä¸Šç‚¹çš„åæ ‡ã€‚ getRawX()å’ŒgetRawY():æœ‰è¿™ä¸¤ä¸ªå‡½æ•°è·å¾—çš„x,yå€¼æ˜¯ç»å¯¹åæ ‡ï¼Œæ˜¯ç›¸å¯¹äºå±å¹•çš„ã€‚ ç›¸å¯¹åæ ‡ä¸ç»å¯¹åæ ‡ 7. äº‹ä»¶ç±»å‹123456789int action = MotionEventCompat.getActionMasked(event); switch(action) &#123; case MotionEvent.ACTION_DOWN: break; case MotionEvent.ACTION_MOVE: break; case MotionEvent.ACTION_UP: break; &#125; 8. Pointerä¸ºäº†å¯ä»¥è¡¨ç¤ºå¤šä¸ªè§¦æ‘¸ç‚¹çš„åŠ¨ä½œï¼ŒMotionEventä¸­å¼•å…¥äº†Pointerçš„æ¦‚å¿µï¼Œä¸€ä¸ªpointerå°±ä»£è¡¨ä¸€ä¸ªè§¦æ‘¸ç‚¹ï¼Œæ¯ä¸ªpointeréƒ½æœ‰è‡ªå·±çš„äº‹ä»¶ç±»å‹ï¼Œä¹Ÿæœ‰è‡ªå·±çš„æ¨ªè½´åæ ‡å€¼ã€‚ä¸€ä¸ªMotionEventå¯¹è±¡ä¸­å¯èƒ½ä¼šå­˜å‚¨å¤šä¸ªpointerçš„ç›¸å…³ä¿¡æ¯ï¼Œæ¯ä¸ªpointeréƒ½ä¼šæœ‰ä¸€ä¸ªè‡ªå·±çš„idå’Œindexã€‚pointerçš„idåœ¨æ•´ä¸ªäº‹ä»¶æµä¸­æ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ï¼Œä½†æ˜¯indexä¼šå‘ç”Ÿå˜åŒ–ã€‚ MotionEventç±»ä¸­çš„å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯å¯ä»¥ä¼ å…¥ä¸€ä¸ªintå€¼ä½œä¸ºå‚æ•°çš„ï¼Œå…¶å®ä¼ å…¥çš„å°±æ˜¯pointerçš„indexå€¼ã€‚æ¯”å¦‚getX(pointerIndex)å’ŒgetY(pointerIndex)ï¼Œæ­¤æ—¶ï¼Œå®ƒä»¬è¿”å›çš„å°±æ˜¯indexæ‰€ä»£è¡¨çš„è§¦æ‘¸ç‚¹ç›¸å…³äº‹ä»¶åæ ‡å€¼ã€‚ ç”±äºpointerçš„indexå€¼åœ¨ä¸åŒçš„MotionEventå¯¹è±¡ä¸­ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯idå€¼å´ä¸ä¼šå˜åŒ–ã€‚æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬è¦è®°å½•ä¸€ä¸ªè§¦æ‘¸ç‚¹çš„äº‹ä»¶æµæ—¶ï¼Œå°±åªéœ€è¦ä¿å­˜å…¶id,ç„¶åä½¿ç”¨findPointerIndex(int)æ¥è·å¾—å…¶indexå€¼ï¼Œç„¶åå†è·å¾—å…¶ä»–ä¿¡æ¯ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243private final static int INVALID_ID = -1; private int mActivePointerId = INVALID_ID; private int mSecondaryPointerId = INVALID_ID; private float mPrimaryLastX = -1; private float mPrimaryLastY = -1; private float mSecondaryLastX = -1; private float mSecondaryLastY = -1; public boolean onTouchEvent(MotionEvent event) &#123; int action = MotionEventCompat.getActionMasked(event); switch (action) &#123; case MotionEvent.ACTION_DOWN: int index = event.getActionIndex(); mActivePointerId = event.getPointerId(index); mPrimaryLastX = MotionEventCompat.getX(event,index); mPrimaryLastY = MotionEventCompat.getY(event,index); break; case MotionEvent.ACTION_POINTER_DOWN: int index = event.getActionIndex(); mSecondaryPointerId = event.getPointerId(index); mSecondaryLastX = event.getX(index); mSecondaryLastY = event.getY(index); break; case MotionEvent.ACTION_MOVE: int index = event.findPointerIndex(mActivePointerId); int secondaryIndex = MotionEventCompat.findPointerIndex(event,mSecondaryPointerId); final float x = MotionEventCompat.getX(event,index); final float y = MotionEventCompat.getY(event,index); final float secondX = MotionEventCompat.getX(event,secondaryIndex); final float secondY = MotionEventCompat.getY(event,secondaryIndex); break; case MotionEvent.ACTION_POINTER_UP: xxxxxx(æ¶‰åŠpointer idçš„è½¬æ¢ï¼Œä¹‹åçš„æ–‡ç« ä¼šè®²è§£) break; case MotionEvent.ACTION_UP: case MotionEvent.ACTION_CANCEL: mActivePointerId = INVALID_ID; mPrimaryLastX =-1; mPrimaryLastY = -1; break; &#125; return true; &#125; é™¤äº†pointerçš„æ¦‚å¿µï¼ŒMotionEventè¿˜å¼•å…¥äº†ä¸¤ä¸ªäº‹ä»¶ç±»å‹ï¼š ACTION_POINTER_DOWN:ä»£è¡¨ç”¨æˆ·åˆä½¿ç”¨ä¸€ä¸ªæ‰‹æŒ‡è§¦æ‘¸åˆ°å±å¹•ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å·²ç»æœ‰ä¸€ä¸ªè§¦æ‘¸ç‚¹çš„æƒ…å†µä¸‹ï¼Œæœ‰æ–°å‡ºç°äº†ä¸€ä¸ªè§¦æ‘¸ç‚¹ã€‚ ACTION_POINTER_UP:ä»£è¡¨ç”¨æˆ·çš„ä¸€ä¸ªæ‰‹æŒ‡ç¦»å¼€äº†è§¦æ‘¸å±ï¼Œä½†æ˜¯è¿˜æœ‰å…¶ä»–æ‰‹æŒ‡è¿˜åœ¨è§¦æ‘¸å±ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¤šä¸ªè§¦æ‘¸ç‚¹å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œå…¶ä¸­ä¸€ä¸ªè§¦æ‘¸ç‚¹æ¶ˆå¤±äº†ã€‚å®ƒä¸ACTION_UPçš„åŒºåˆ«å°±æ˜¯ï¼Œå®ƒæ˜¯åœ¨å¤šä¸ªè§¦æ‘¸ç‚¹ä¸­çš„ä¸€ä¸ªè§¦æ‘¸ç‚¹æ¶ˆå¤±æ—¶ï¼ˆæ­¤æ—¶ï¼Œè¿˜æœ‰è§¦æ‘¸ç‚¹å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·è¿˜æœ‰æ‰‹æŒ‡è§¦æ‘¸å±å¹•ï¼‰äº§ç”Ÿï¼Œè€ŒACTION_UPå¯ä»¥è¯´æ˜¯æœ€åä¸€ä¸ªè§¦æ‘¸ç‚¹æ¶ˆå¤±æ—¶äº§ç”Ÿã€‚ é‚£ä¹ˆï¼Œç”¨æˆ·å…ˆä¸¤ä¸ªæ‰‹æŒ‡å…ˆåæ¥è§¦å±å¹•ï¼ŒåŒæ—¶æ»‘åŠ¨ï¼Œç„¶ååœ¨å…ˆåç¦»å¼€è¿™ä¸€å¥—åŠ¨ä½œæ‰€äº§ç”Ÿçš„äº‹ä»¶æµæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿå®ƒæ‰€äº§ç”Ÿçš„äº‹ä»¶æµå¦‚ä¸‹ï¼š å…ˆäº§ç”Ÿä¸€ä¸ªACTION_DOWNäº‹ä»¶ï¼Œä»£è¡¨ç”¨æˆ·çš„ç¬¬ä¸€ä¸ªæ‰‹æŒ‡æ¥è§¦åˆ°äº†å±å¹•ã€‚ å†äº§ç”Ÿä¸€ä¸ªACTION_POINTER_DOWNäº‹ä»¶ï¼Œä»£è¡¨ç”¨æˆ·çš„ç¬¬äºŒä¸ªæ‰‹æŒ‡æ¥è§¦åˆ°äº†å±å¹•ã€‚å¾ˆå¤šçš„ACTION_MOVEäº‹ä»¶ï¼Œä½†æ˜¯åœ¨è¿™äº›MotionEventå¯¹è±¡ä¸­ï¼Œéƒ½ä¿å­˜ç€ä¸¤ä¸ªè§¦æ‘¸ç‚¹æ»‘åŠ¨çš„ä¿¡æ¯ ä¸€ä¸ªACTION_POINTER_UPäº‹ä»¶ï¼Œä»£è¡¨ç”¨æˆ·çš„ä¸€ä¸ªæ‰‹æŒ‡ç¦»å¼€äº†å±å¹•ã€‚å¦‚æœç”¨æˆ·å‰©ä¸‹çš„æ‰‹æŒ‡è¿˜åœ¨æ»‘åŠ¨æ—¶ï¼Œå°±ä¼šäº§ç”Ÿå¾ˆå¤šACTION_MOVEäº‹ä»¶ã€‚ ä¸€ä¸ªACTION_UPäº‹ä»¶ï¼Œä»£è¡¨ç”¨æˆ·çš„æœ€åä¸€ä¸ªæ‰‹æŒ‡ç¦»å¼€äº†å±å¹• 9. getAction å’Œ getActionMaskedä¸€ä¸ªMotionEventå¯¹è±¡ä¸­å¯ä»¥åŒ…å«å¤šä¸ªè§¦æ‘¸ç‚¹çš„äº‹ä»¶ã€‚å½“MotionEventå¯¹è±¡åªåŒ…å«ä¸€ä¸ªè§¦æ‘¸ç‚¹çš„äº‹ä»¶æ—¶ï¼Œä¸Šè¾¹ä¸¤ä¸ªå‡½æ•°çš„ç»“æœæ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å½“åŒ…å«å¤šä¸ªè§¦æ‘¸ç‚¹æ—¶ï¼ŒäºŒè€…çš„ç»“æœå°±ä¸åŒå•¦ã€‚getActionè·å¾—çš„intå€¼æ˜¯ç”±pointerçš„indexå€¼å’Œäº‹ä»¶ç±»å‹å€¼ç»„åˆè€Œæˆçš„ï¼Œè€ŒgetActionWithMaskedåˆ™åªè¿”å›äº‹ä»¶çš„ç±»å‹å€¼ ä¸¾ä¸ªä¾‹å­ï¼ˆæ³¨:å‡è®¾äº†intä¸­ä¸åŒä½æ‰€ä»£è¡¨çš„å«ä¹‰ï¼Œå¯èƒ½ä¸æ˜¯ä¾‹å­æ‰€ä¸­çš„å‰8ä½ä»£è¡¨id,å8ä½ä»£è¡¨äº‹ä»¶ç±»å‹ï¼‰: 123getAction() returns 0x0105.getActionMasked() will return 0x0005å…¶ä¸­0x0100å°±æ˜¯pointerçš„indexå€¼ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android ä½¿ç”¨é¢‘ç‡è¾ƒå°‘çš„æ§ä»¶]]></title>
    <url>%2FAndroid%E4%BD%BF%E7%94%A8%E9%A2%91%E7%8E%87%E8%BE%83%E5%B0%91%E7%9A%84%E6%8E%A7%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[æ§ä»¶ 1.CheckedTextView - åˆ—è¡¨æ–‡å­—é€‰æ‹© å‚è€ƒï¼šhttp://blog.csdn.net/zouchengxufei/article/details/51029489 2.QuickContactBadge - è”ç³»äººå¿«æ·æ ‡è¯†3.Space - ç”¨äºå¡«å……Viewç»„ä»¶ä¸­çš„é—´éš™ 4.SearchView - åŸç”Ÿçš„æœç´¢æ¡†æ§ä»¶ å‚è€ƒï¼šhttp://blog.csdn.net/airsaid/article/details/51087226å‚è€ƒï¼š https://www.cnblogs.com/LT5505/p/5534357.html 5.ExpandableListView - æ˜¾ç¤ºäºŒçº§èŠ‚ç‚¹çš„ListView å‚è€ƒï¼šhttps://www.cnblogs.com/hebao0514/p/4760939.html 6.Chronometer - ä¸€ä¸ªè®¡æ—¶å™¨,ç”¨æ¥è®°å½•ç”¨æˆ·è¿›è¡ŒæŸé¡¹æ“ä½œæ‰€æ¶ˆè€—çš„æ—¶é—´ å‚è€ƒï¼šhttps://www.cnblogs.com/xianfeng-zhang/p/8110053.htmlå‚è€ƒï¼šhttp://blog.csdn.net/mengweiqi33/article/details/76903986 6.2 CountDownTimer - å€’è®¡æ—¶ https://www.jianshu.com/p/3c10432a4726 7.TextClock - æ˜¾ç¤ºæ—¶é—´ å‚è€ƒï¼šhttp://blog.csdn.net/EthanCo/article/details/72829656 8.ImageSwitcher - å›¾åƒåˆ‡æ¢å™¨ å‚è€ƒï¼šhttp://blog.csdn.net/android_gjw/article/details/51759499å‚è€ƒï¼šhttps://www.cnblogs.com/scetopcsa/p/3695272.html 9.AdapterViewFlipper - æ˜¾ç¤ºä¸Šä¸€ä¸ªã€ä¸‹ä¸€ä¸ªview å‚è€ƒï¼šhttp://blog.csdn.net/yan8024/article/details/46879867 10.StackView - å¡ç‰‡å †å  å‚è€ƒï¼šhttp://blog.csdn.net/qq_16628781/article/details/49308355å‚è€ƒï¼šhttp://blog.csdn.net/Small_Lee/article/details/51544975 11.TextSwitcher - æ–‡å­—åˆ‡æ¢ å‚è€ƒï¼šhttp://blog.csdn.net/bsmmaoshenbo/article/details/61198996å‚è€ƒï¼šhttp://blog.csdn.net/u011418943/article/details/51871482 12.ViewAnimator - Viewè§†å›¾åˆ‡æ¢ å‚è€ƒï¼šhttp://www.jizhuomi.com/android/course/312.htmlå‚è€ƒï¼šhttp://blog.csdn.net/lgy64422575/article/details/50255657 13.ViewFlipper - å¾ªç¯æ»šåŠ¨çš„æ•ˆæœ å‚è€ƒï¼šhttp://blog.csdn.net/u011150924/article/details/60867499å‚è€ƒï¼šhttp://blog.csdn.net/qq_31715429/article/details/50972357 14.includeã€merge ã€ViewStub - å¸ƒå±€ä¼˜åŒ– å‚è€ƒï¼šhttp://blog.csdn.net/xyz_lmn/article/details/14524567 15.SurfaceViewä¸TextureView å‚è€ƒï¼šhttp://blog.csdn.net/hejjunlin/article/details/58582919 16.NumberPicker - æ•°å­—é€‰æ‹©å™¨ å‚è€ƒï¼šhttps://www.cnblogs.com/xiaofeixiang/p/4125560.htmlå‚è€ƒï¼šhttps://www.2cto.com/kf/201407/320686.html 17.TextInputLayout - TextViewå®¹å™¨ å‚è€ƒï¼šhttp://blog.csdn.net/q4878802/article/details/49780691å‚è€ƒï¼šhttps://segmentfault.com/a/1190000009282096 18.GridView - å®«æ ¼å¸ƒå±€ http://blog.csdn.net/sinat_25926481/article/details/70880047 18.GridLayout - ç½‘æ ¼å¸ƒå±€ï¼Œå¹³å‡åˆ†å¸ƒ å‚è€ƒï¼šhttp://blog.csdn.net/sunsteam/article/details/69486658è¡Œåˆ’åˆ†ï¼šhttp://blog.csdn.net/huangxiaominglipeng/article/details/17448045 å…·ä½“ç¤ºä¾‹ï¼šhttp://blog.csdn.net/yisizhu/article/details/51753003ä¸»ä½“ã€cellå…ƒç´ ï¼šhttp://blog.csdn.net/k316378085/article/details/52316633 åŒºåˆ† GridView ä¸ GridLayout å‚è€ƒï¼šhttp://blog.csdn.net/studyboyjlu4/article/details/18192677 GridViewæ˜¯ä¸€ç§é€‚é…å™¨å¸ƒå±€,å®ƒçš„ç»§æ‰¿å…³ç³»æ˜¯ViewGroupâ€“&gt;AdapterViewâ€“&gt;AbsListViewâ€“&gt;GridViewï¼Œä»–æ˜¯ä»ä¸€ä¸ªadapterä¸­å–å‡ºå†…å®¹å¡«å……åˆ°GridViewä¸­çš„æ¯ä¸€ä¸ªå­Viewã€‚ GridLayoutæ˜¯ä¸€ä¸ªå¸ƒå±€ï¼Œå®ƒå¤§å¤§ç®€åŒ–äº†å¯¹å¤æ‚å¸ƒå±€çš„å¤„ç†ï¼Œæé«˜äº†æ€§èƒ½ã€‚ä»–ç›´æ¥ç»§æ‰¿è‡ªViewGroupï¼Œå’ŒLinearLayoutè¿™ç§æ˜¯ç±»ä¼¼çš„ã€‚ åŒºåˆ† GridView ä¸ GridLayout ä¸ TableLayout å‚è€ƒï¼šhttp://blog.csdn.net/shareus/article/details/52063761]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ§ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Google ZxingåŒ… äºŒç»´ç çš„ä½¿ç”¨]]></title>
    <url>%2FGoogle%20Zxing%E5%8C%85%20%E4%BA%8C%E7%BB%B4%E7%A0%81%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[äºŒç»´ç çš„ï¼šç”Ÿæˆã€ä½¿ç”¨ é›†æˆå‚è€ƒï¼šhttp://blog.csdn.net/u012702547/article/details/51501350ZxingåŒ…åœ°å€ï¼šhttps://github.com/zxing/zxingç”ŸæˆäºŒç»´ç jaråŒ…åœ°å€ï¼šhttp://central.maven.org/maven2/com/google/zxing/core/3.2.1/core-3.2.1.jaræ“ä½œå‚è€ƒï¼šhttps://www.jianshu.com/p/b275e818de6a ZXingç®€ä»‹ï¼šhttps://github.com/zxing/zxingZXingå…¨ç§°zebra crossing,ç¿»è¯‘è¿‡æ¥å°±æ˜¯ã€æ–‘é©¬çº¿ã€çš„æ„æ€ã€‚ZXingæ˜¯ä¸€ä¸ªé‡‡ç”¨Javaå®ç°çš„ã€å¼€æºçš„ã€æ”¯æŒå¤šæ ¼å¼ï¼ˆä¸€ç»´/äºŒç»´ï¼‰çš„æ¡å½¢ç å›¾åƒå¤„ç†åº“ã€‚QRCodeï¼ˆQuick Response Codeï¼šå¿«é€Ÿå“åº”ç ï¼‰æ˜¯äºŒç»´æ¡å½¢ç ä¸­æœ€å¸¸ç”¨çš„ä¸€ç§æ ¼å¼ï¼Œæ‰€ä»¥å¾ˆå¤šäººç›´æ¥å°†QRCodeç¿»è¯‘ä¸ºäºŒç»´ç ã€‚ é›†æˆæ–¹å¼1ï¼šæ·»åŠ äºŒç»´ç ç”ŸæˆjaråŒ…åœ¨é¡¹ç›®ä¸­çš„ä½ç½®ï¼š é›†æˆæ–¹å¼2ï¼šå¼•ç”¨1234dependencies &#123; ...... compile &apos;com.google.zxing:core:3.3.0&apos;&#125; å·¥å…·ç±»ä¸­çš„è¦ç‚¹ï¼š å­—ç¬¦é›†ï¼š ZXingæºç é»˜è®¤ä½¿ç”¨çš„æ˜¯â€ISO-8859-1â€ï¼Œè€Œâ€ISO-8859-1â€æœ¬èº«æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„ã€‚ å¦‚æœurlä¸­åŒ…å«ä¸­æ–‡ï¼Œå­—ç¬¦é›†æœ€å¥½é€‰ç”¨â€UTF-8â€ã€‚ å®¹é”™çº§åˆ«ï¼š äºŒç»´ç å›¾ç‰‡æœ‰æ—¶å‡ºç°éƒ¨åˆ†ç¼ºå¤±ï¼ˆæˆ–ç ´æŸï¼‰ä¹Ÿèƒ½æ‰«ææˆåŠŸï¼›æˆ‘ä»¬è¿‘è·ç¦»æ‰«äºŒç»´ç æ—¶ï¼Œå›¾å½¢è¿˜æ²¡æ‰«å…¨å°±æç¤ºæ‰«ææˆåŠŸäº†ï¼›æœ‰äº›äºŒç»´ç ä¸­é—´è´´äº†ä¸€ä¸ªå°å›¾æ ‡ï¼Œæ‰«ç ä¹Ÿèƒ½æˆåŠŸâ€¦â€¦è¿™å…¶å®éƒ½å½’åŠŸäºäºŒç»´ç æœ‰å¾ˆå¼ºå¤§çš„å®¹é”™æ€§ã€‚ ç”Ÿæˆå·¥å…·ç±»123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189public class ZxingQRUtil &#123; /** * åˆ›å»ºäºŒç»´ç ä½å›¾ * * @param content å­—ç¬¦ä¸²å†…å®¹ * @param size ä½å›¾å®½&amp;é«˜(å•ä½:px) * @return */ @Nullable public static Bitmap createQRCodeBitmap(@Nullable String content, int size)&#123; return createQRCodeBitmap(content, size, "UTF-8", "H", "4", Color.BLACK, Color.WHITE, null, null, 0F); &#125; /** * åˆ›å»ºäºŒç»´ç ä½å›¾ (è‡ªå®šä¹‰é»‘ã€ç™½è‰²å—é¢œè‰²) * * @param content å­—ç¬¦ä¸²å†…å®¹ * @param size ä½å›¾å®½&amp;é«˜(å•ä½:px) * @param color_black é»‘è‰²è‰²å—çš„è‡ªå®šä¹‰é¢œè‰²å€¼ * @param color_white ç™½è‰²è‰²å—çš„è‡ªå®šä¹‰é¢œè‰²å€¼ * @return */ @Nullable public static Bitmap createQRCodeBitmap(@Nullable String content, int size, @ColorInt int color_black, @ColorInt int color_white)&#123; return createQRCodeBitmap(content, size, "UTF-8", "H", "4", color_black, color_white, null, null, 0F); &#125; /** * åˆ›å»ºäºŒç»´ç ä½å›¾ (å¸¦Logoå°å›¾ç‰‡) * * @param content å­—ç¬¦ä¸²å†…å®¹ * @param size ä½å›¾å®½&amp;é«˜(å•ä½:px) * @param logoBitmap logoå›¾ç‰‡ * @param logoPercent logoå°å›¾ç‰‡åœ¨äºŒç»´ç å›¾ç‰‡ä¸­çš„å æ¯”å¤§å°,èŒƒå›´[0F,1F]ã€‚è¶…å‡ºèŒƒå›´-&gt;é»˜è®¤ä½¿ç”¨0.2F * @return */ @Nullable public static Bitmap createQRCodeBitmap(String content, int size, @Nullable Bitmap logoBitmap, float logoPercent)&#123; return createQRCodeBitmap(content, size, "UTF-8", "H", "4", Color.BLACK, Color.WHITE, null, logoBitmap, logoPercent); &#125; /** * åˆ›å»ºäºŒç»´ç ä½å›¾ (Bitmapé¢œè‰²ä»£æ›¿é»‘è‰²) æ³¨æ„!!!æ³¨æ„!!!æ³¨æ„!!! é€‰ç”¨çš„Bitmapå›¾ç‰‡ä¸€å®šä¸èƒ½æœ‰ç™½è‰²è‰²å—,å¦åˆ™ä¼šè¯†åˆ«ä¸å‡ºæ¥!!! * * @param content å­—ç¬¦ä¸²å†…å®¹ * @param size ä½å›¾å®½&amp;é«˜(å•ä½:px) * @param targetBitmap ç›®æ ‡å›¾ç‰‡ (å¦‚æœtargetBitmap != null, é»‘è‰²è‰²å—å°†ä¼šè¢«è¯¥å›¾ç‰‡åƒç´ è‰²å€¼æ›¿ä»£) * @return */ @Nullable public static Bitmap createQRCodeBitmap(String content, int size, Bitmap targetBitmap)&#123; return createQRCodeBitmap(content, size, "UTF-8", "H", "4", Color.BLACK, Color.WHITE, targetBitmap, null, 0F); &#125; /** * åˆ›å»ºäºŒç»´ç ä½å›¾ (æ”¯æŒè‡ªå®šä¹‰é…ç½®å’Œè‡ªå®šä¹‰æ ·å¼) * * @param content å­—ç¬¦ä¸²å†…å®¹ * @param size ä½å›¾å®½&amp;é«˜(å•ä½:px) * @param character_set å­—ç¬¦é›†/å­—ç¬¦è½¬ç æ ¼å¼ ã€‚ä¼ nullæ—¶,zxingæºç é»˜è®¤ä½¿ç”¨ "ISO-8859-1" * @param error_correction å®¹é”™çº§åˆ« ã€‚ä¼ nullæ—¶,zxingæºç é»˜è®¤ä½¿ç”¨ "L" * @param margin ç©ºç™½è¾¹è· (å¯ä¿®æ”¹,è¦æ±‚:æ•´å‹ä¸”&gt;=0), ä¼ nullæ—¶,zxingæºç é»˜è®¤ä½¿ç”¨"4"ã€‚ * @param color_black é»‘è‰²è‰²å—çš„è‡ªå®šä¹‰é¢œè‰²å€¼ * @param color_white ç™½è‰²è‰²å—çš„è‡ªå®šä¹‰é¢œè‰²å€¼ * @param targetBitmap ç›®æ ‡å›¾ç‰‡ (å¦‚æœtargetBitmap != null, é»‘è‰²è‰²å—å°†ä¼šè¢«è¯¥å›¾ç‰‡åƒç´ è‰²å€¼æ›¿ä»£) * @param logoBitmap logoå°å›¾ç‰‡ * @param logoPercent logoå°å›¾ç‰‡åœ¨äºŒç»´ç å›¾ç‰‡ä¸­çš„å æ¯”å¤§å°,èŒƒå›´[0F,1F],è¶…å‡ºèŒƒå›´-&gt;é»˜è®¤ä½¿ç”¨0.2Fã€‚ * @return */ @Nullable public static Bitmap createQRCodeBitmap(@Nullable String content, int size, @Nullable String character_set, @Nullable String error_correction, @Nullable String margin, @ColorInt int color_black, @ColorInt int color_white, @Nullable Bitmap targetBitmap, @Nullable Bitmap logoBitmap, float logoPercent)&#123; /** 1.å‚æ•°åˆæ³•æ€§åˆ¤æ–­ */ // å­—ç¬¦ä¸²å†…å®¹åˆ¤ç©º if(TextUtils.isEmpty(content))&#123; return null; &#125; // å®½&amp;é«˜éƒ½éœ€è¦&gt;0 if(size &lt;= 0)&#123; return null; &#125; try &#123; /** 2.è®¾ç½®äºŒç»´ç ç›¸å…³é…ç½®,ç”ŸæˆBitMatrix(ä½çŸ©é˜µ)å¯¹è±¡ */ Hashtable&lt;EncodeHintType, String&gt; hints = new Hashtable&lt;&gt;(); if(!TextUtils.isEmpty(character_set)) &#123; // å­—ç¬¦è½¬ç æ ¼å¼è®¾ç½® hints.put(EncodeHintType.CHARACTER_SET, character_set); &#125; if(!TextUtils.isEmpty(error_correction))&#123; // å®¹é”™çº§åˆ«è®¾ç½® hints.put(EncodeHintType.ERROR_CORRECTION, error_correction); &#125; if(!TextUtils.isEmpty(margin))&#123; // ç©ºç™½è¾¹è·è®¾ç½® hints.put(EncodeHintType.MARGIN, margin); &#125; BitMatrix bitMatrix = new QRCodeWriter().encode(content, BarcodeFormat.QR_CODE, size, size, hints); /** 3.æ ¹æ®BitMatrix(ä½çŸ©é˜µ)å¯¹è±¡ä¸ºæ•°ç»„å…ƒç´ èµ‹é¢œè‰²å€¼ */ if(targetBitmap != null)&#123; targetBitmap = Bitmap.createScaledBitmap(targetBitmap, size, size, false); &#125; int[] pixels = new int[size * size]; for(int y = 0; y &lt; size; y++)&#123; for(int x = 0; x &lt; size; x++)&#123; if(bitMatrix.get(x, y))&#123; // é»‘è‰²è‰²å—åƒç´ è®¾ç½® if(targetBitmap != null) &#123; pixels[y * size + x] = targetBitmap.getPixel(x, y); &#125; else &#123; pixels[y * size + x] = color_black; &#125; &#125; else &#123; // ç™½è‰²è‰²å—åƒç´ è®¾ç½® pixels[y * size + x] = color_white; &#125; &#125; &#125; /** 4.åˆ›å»ºBitmapå¯¹è±¡,æ ¹æ®åƒç´ æ•°ç»„è®¾ç½®Bitmapæ¯ä¸ªåƒç´ ç‚¹çš„é¢œè‰²å€¼,ä¹‹åè¿”å›Bitmapå¯¹è±¡ */ Bitmap bitmap = Bitmap.createBitmap(size, size, Bitmap.Config.ARGB_8888); bitmap.setPixels(pixels, 0, size, 0, 0, size, size); /** 5.ä¸ºäºŒç»´ç æ·»åŠ logoå°å›¾æ ‡ */ if(logoBitmap != null)&#123; return addLogo(bitmap, logoBitmap, logoPercent); &#125; return bitmap; &#125; catch (WriterException e) &#123; e.printStackTrace(); &#125; return null; &#125; /** * å‘ä¸€å¼ å›¾ç‰‡ä¸­é—´æ·»åŠ logoå°å›¾ç‰‡(å›¾ç‰‡åˆæˆ) * * @param srcBitmap åŸå›¾ç‰‡ * @param logoBitmap logoå›¾ç‰‡ * @param logoPercent ç™¾åˆ†æ¯” (ç”¨äºè°ƒæ•´logoå›¾ç‰‡åœ¨åŸå›¾ç‰‡ä¸­çš„æ˜¾ç¤ºå¤§å°, å–å€¼èŒƒå›´[0,1], ä¼ å€¼ä¸åˆæ³•æ—¶ä½¿ç”¨0.2F) * åŸå›¾ç‰‡æ˜¯äºŒç»´ç æ—¶,å»ºè®®ä½¿ç”¨0.2F,ç™¾åˆ†æ¯”è¿‡å¤§å¯èƒ½å¯¼è‡´äºŒç»´ç æ‰«æå¤±è´¥ã€‚ * @return */ @Nullable private static Bitmap addLogo(@Nullable Bitmap srcBitmap, @Nullable Bitmap logoBitmap, float logoPercent)&#123; /** 1. å‚æ•°åˆæ³•æ€§åˆ¤æ–­ */ if(srcBitmap == null)&#123; return null; &#125; if(logoBitmap == null)&#123; return srcBitmap; &#125; if(logoPercent &lt; 0F || logoPercent &gt; 1F)&#123; logoPercent = 0.2F; &#125; /** 2. è·å–åŸå›¾ç‰‡å’ŒLogoå›¾ç‰‡å„è‡ªçš„å®½ã€é«˜å€¼ */ int srcWidth = srcBitmap.getWidth(); int srcHeight = srcBitmap.getHeight(); int logoWidth = logoBitmap.getWidth(); int logoHeight = logoBitmap.getHeight(); /** 3. è®¡ç®—ç”»å¸ƒç¼©æ”¾çš„å®½é«˜æ¯” */ float scaleWidth = srcWidth * logoPercent / logoWidth; float scaleHeight = srcHeight * logoPercent / logoHeight; /** 4. ä½¿ç”¨Canvasç»˜åˆ¶,åˆæˆå›¾ç‰‡ */ Bitmap bitmap = Bitmap.createBitmap(srcWidth, srcHeight, Bitmap.Config.ARGB_8888); Canvas canvas = new Canvas(bitmap); canvas.drawBitmap(srcBitmap, 0, 0, null); canvas.scale(scaleWidth, scaleHeight, srcWidth/2, srcHeight/2); canvas.drawBitmap(logoBitmap, srcWidth/2 - logoWidth/2, srcHeight/2 - logoHeight/2, null); return bitmap; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>äºŒç»´ç </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kit]]></title>
    <url>%2FKit%2F</url>
    <content type="text"><![CDATA[å¸¸ç”¨æ€»ç»“ 0. Androidå±å¹•é€‚é… å‚è€ƒï¼šhttps://www.jianshu.com/p/ec5a1a30694b 1. String ç±»çš„replaceæ–¹æ³•æ›¿æ¢å­—ç¬¦ä¸²â€œæ— æ•ˆâ€ã€â€œä¸èµ·ä½œç”¨â€åŸå› l å‚è€ƒï¼š http://blog.csdn.net/huqingpeng321/article/details/52915324 æ²¡æœ‰ç‰¹æ®Šå­—ç¬¦çš„è¯ï¼Œåˆ™è¿”å›çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼›è‹¥å‡ºç°ç‰¹æ®Šå­—ç¬¦ï¼Œåˆ™newä¸€ä¸ªæ–°çš„å¯¹è±¡,æ›¿æ¢ä¹‹å‰çš„å¯¹è±¡ã€‚ å®é™…ä½¿ç”¨ï¼š1234567891011121314151617// å­˜å‚¨å¾…éå†imgåœ°å€List&lt;String&gt; array = MatchHtmlValue.match(tempHtml,&quot;img&quot;, &quot;src&quot;);StringBuilder builder = new StringBuilder();// æ‰§è¡Œéå†for (int i = 0; i &lt; array.size(); i++) &#123; String oldHtmlVal = array.get(i); String newHtmlVal = MyCommon.URL_BASE_IMG + array.get(i); // ï¼ï¼ï¼ æ­¤å¤„æ‰§è¡Œæ›¿æ¢æ—¶å¿…é¡»é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„Stringä¸² builder.append(tempHtml.replace(oldHtmlVal,newHtmlVal));&#125;// å­—ç¬¦ä¸²æ‹¼æ¥html.append(&quot;è”ç³»ç”µè¯ä¸ºï¼š&quot; + tel);html.append(builder); *//*html.append(getServerInfo.getData().getDesc().replace(&quot;/public/upload/20171213/31d2fd1460e2471bd0fbbb59689c9c50.png&quot;,&quot;http://192.168.31.178:8088/public/upload/20171213/31d2fd1460e2471bd0fbbb59689c9c50.png&quot;));*//*Log.e(TAG, &quot;ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; onSuccess tel : &quot; + tel + &quot;; \n html : &quot; + html);htmlStr = html.toString();CommonWebViewSets.setHtmlCode(mServerWebView,htmlStr); 2. é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è·å–htmlæ ‡ç­¾ä¸­çš„æŒ‡å®šå±æ€§å€¼ å‚è€ƒï¼šhttp://blog.csdn.net/andybbc/article/details/50556668 1234567891011121314151617181920212223242526public class MatchHtmlElementAttrValue &#123; /** * è·å–æŒ‡å®šHTMLæ ‡ç­¾çš„æŒ‡å®šå±æ€§çš„å€¼ * @param source è¦åŒ¹é…çš„æºæ–‡æœ¬ * @param element æ ‡ç­¾åç§° * @param attr æ ‡ç­¾çš„å±æ€§åç§° * @return å±æ€§å€¼åˆ—è¡¨ */ public static List&lt;String&gt; match(String source, String element, String attr) &#123; List&lt;String&gt; result = new ArrayList&lt;String&gt;(); String reg = &quot;&lt;&quot; + element + &quot;[^&lt;&gt;]*?\\s&quot; + attr + &quot;=[&apos;\&quot;]?(.*?)[&apos;\&quot;]?\\s.*?&gt;&quot;; Matcher m = Pattern.compile(reg).matcher(source); while (m.find()) &#123; String r = m.group(1); result.add(r); &#125; return result; &#125; public static void main(String[] args) &#123; String source = &quot;&lt;a title=ä¸­å›½ä½“è‚²æŠ¥ href=&apos;&apos;&gt;aaa&lt;/a&gt;&lt;a title=&apos;åŒ—äº¬æ—¥æŠ¥&apos; href=&apos;&apos;&gt;bbb&lt;/a&gt;&quot;; List&lt;String&gt; list = match(source, &quot;a&quot;, &quot;title&quot;); System.out.println(list); &#125; &#125; 3.Android è¾“å…¥æ¡†ä¸é”®ç›˜ä¹‹é—´çš„å…³ç³»ä¸ºäº†ä¸è®©é”®ç›˜é˜»æŒ¡è¾“å…¥æ¡†ï¼Œæ·»åŠ æ­¤é…ç½® 123&lt;activity android:name="..." android:windowSoftInputMode="adjustResize" /&gt; 4. TextViewè·‘é©¬ç¯æ•ˆæœ123456789101112&lt;TextView android:id="@+id/myTextView" android:layout_width="50dp" android:layout_height="wrap_content" android:layout_centerInParent="true" android:ellipsize="marquee" android:focusable="true" android:marqueeRepeatLimit="marquee_forever" android:singleLine="true" android:text="æ–‡æœ¬åŒºåŸŸ" android:textColor="@android:color/black" &gt; &lt;/TextView&gt; 5. è´¦æˆ·ç›¸å…³å±æ€§æ­£åˆ™è¡¨è¾¾å¼123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125/** * è´¦æˆ·ç›¸å…³å±æ€§éªŒè¯å·¥å…· * */public class AccountValidatorUtil &#123; /** * æ­£åˆ™è¡¨è¾¾å¼ï¼šéªŒè¯ç”¨æˆ·å */ public static final String REGEX_USERNAME = "^[a-zA-Z]\\w&#123;5,20&#125;$"; /** * æ­£åˆ™è¡¨è¾¾å¼ï¼šéªŒè¯å¯†ç  */ public static final String REGEX_PASSWORD = "^[a-zA-Z0-9]&#123;6,20&#125;$"; /** * æ­£åˆ™è¡¨è¾¾å¼ï¼šéªŒè¯æ‰‹æœºå· */ public static final String REGEX_MOBILE = "^((17[0-9])|(14[0-9])|(13[0-9])|(15[^4,\\D])|(18[0,5-9]))\\d&#123;8&#125;$"; /** * æ­£åˆ™è¡¨è¾¾å¼ï¼šéªŒè¯é‚®ç®± */ public static final String REGEX_EMAIL = "^([a-z0-9A-Z]+[-|\\.]?)+[a-z0-9A-Z]@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\\.)+[a-zA-Z]&#123;2,&#125;$"; /** * æ­£åˆ™è¡¨è¾¾å¼ï¼šéªŒè¯æ±‰å­— */ public static final String REGEX_CHINESE = "^[\u4e00-\u9fa5],&#123;0,&#125;$"; /** * æ­£åˆ™è¡¨è¾¾å¼ï¼šéªŒè¯èº«ä»½è¯ */ public static final String REGEX_ID_CARD = "(^\\d&#123;18&#125;$)|(^\\d&#123;15&#125;$)"; /** * æ­£åˆ™è¡¨è¾¾å¼ï¼šéªŒè¯URL */ public static final String REGEX_URL = "http(s)?://([\\w-]+\\.)+[\\w-]+(/[\\w- ./?%&amp;=]*)?"; /** * æ­£åˆ™è¡¨è¾¾å¼ï¼šéªŒè¯IPåœ°å€ */ public static final String REGEX_IP_ADDR = "(25[0-5]|2[0-4]\\d|[0-1]\\d&#123;2&#125;|[1-9]?\\d)"; /** * æ ¡éªŒç”¨æˆ·å * * @param username * @return æ ¡éªŒé€šè¿‡è¿”å›trueï¼Œå¦åˆ™è¿”å›false */ public static boolean isUsername(String username) &#123; return Pattern.matches(REGEX_USERNAME, username); &#125; /** * æ ¡éªŒå¯†ç  * * @param password * @return æ ¡éªŒé€šè¿‡è¿”å›trueï¼Œå¦åˆ™è¿”å›false */ public static boolean isPassword(String password) &#123; return Pattern.matches(REGEX_PASSWORD, password); &#125; /** * æ ¡éªŒæ‰‹æœºå· * * @param mobile * @return æ ¡éªŒé€šè¿‡è¿”å›trueï¼Œå¦åˆ™è¿”å›false */ public static boolean isMobile(String mobile) &#123; return Pattern.matches(REGEX_MOBILE, mobile); &#125; /** * æ ¡éªŒé‚®ç®± * * @param email * @return æ ¡éªŒé€šè¿‡è¿”å›trueï¼Œå¦åˆ™è¿”å›false */ public static boolean isEmail(String email) &#123; return Pattern.matches(REGEX_EMAIL, email); &#125; /** * æ ¡éªŒæ±‰å­— * * @param chinese * @return æ ¡éªŒé€šè¿‡è¿”å›trueï¼Œå¦åˆ™è¿”å›false */ public static boolean isChinese(String chinese) &#123; return Pattern.matches(REGEX_CHINESE, chinese); &#125; /** * æ ¡éªŒèº«ä»½è¯ * * @param idCard * @return æ ¡éªŒé€šè¿‡è¿”å›trueï¼Œå¦åˆ™è¿”å›false */ public static boolean isIDCard(String idCard) &#123; return Pattern.matches(REGEX_ID_CARD, idCard); &#125; /** * æ ¡éªŒURL * * @param url * @return æ ¡éªŒé€šè¿‡è¿”å›trueï¼Œå¦åˆ™è¿”å›false */ public static boolean isUrl(String url) &#123; return Pattern.matches(REGEX_URL, url); &#125; /** * æ ¡éªŒIPåœ°å€ * * @param ipAddr * @return */ public static boolean isIPAddr(String ipAddr) &#123; return Pattern.matches(REGEX_IP_ADDR, ipAddr); &#125;&#125; 6. å°†å¤šæ¬¡Toastå¼¹å‡ºæ”¹ä¸ºä¸€æ¬¡å¼¹å‡º1234567891011121314151617public class Util &#123; private static Toast toast; public static void showToast(Context context, String content) &#123; if (toast == null) &#123; toast = Toast.makeText(context, content, Toast.LENGTH_SHORT); &#125; else &#123; toast.setText(content); &#125; toast.show(); &#125;&#125; è°ƒç”¨çš„ï¼š 1Util.showToast(context, "things happened"); 7. æ•°æ® è½¬ json123//ç”ŸæˆJsonå¯¹è±¡Gson gson = new Gson();String valueDateJson = gson.toJson(dataBean.getData()); 7. å…³äº æ—¶é—´ ä¸ æ—¶é—´æˆ³7.1 jsä¸­æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¶é—´ å‚è€ƒï¼šhttps://www.cnblogs.com/sufei/archive/2012/12/03/2799480.htmlå‚è€ƒï¼šhttps://www.cnblogs.com/mr-wuxiansheng/p/6296646.html 12345678910111213function getLocalTime(nS) &#123; return new Date(parseInt(nS) * 1000);&#125;function formatDate(now) &#123; var year = now.getFullYear(), month = now.getMonth() + 1, date = now.getDate(); return year + "-" + month + "-" + date;&#125;console.log(formatDate(getLocalTime(strData[i].addtime))); åŸå§‹æ—¶é—´æˆ³ï¼ˆç¤ºä¾‹ï¼‰ï¼š1516165200è½¬æ¢ä¸ºæ—¶é—´ï¼ˆç¤ºä¾‹ï¼‰ï¼š2018-01-17 7.2 å¤„ç†åçš„æ—¶é—´è½¬æ¢ä¸ºæ—¶é—´æˆ³12345678strNew[0] = year + "-" + month + "-" + day;Date date = null;try &#123; date = new SimpleDateFormat("yyyy-MM-dd").parse(strNew[0]);&#125; catch (ParseException e) &#123; e.printStackTrace();&#125;unixTimestamp = date.getTime() / 1000; å…³é”®ï¼š parse() å¾—åˆ°çš„æ—¶é—´ï¼š2018-01-17å¤„ç†åçš„æ—¶é—´æˆ³1ï¼šWed Jan 17 00:00:00 GMT-05:00 2018å¤„ç†åçš„æ—¶é—´æˆ³2ï¼š1516165200 7.3 javaä¸­æ—¶é—´æˆ³ä¸æ—¶é—´æ ¼å¼çš„è½¬æ¢1234567891011/* * å°†æ—¶é—´è½¬æ¢ä¸ºæ—¶é—´æˆ³ */ public static String dateToStamp(String s) throws ParseException&#123; String res; SimpleDateFormat simpleDateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"); Date date = simpleDateFormat.parse(s); long ts = date.getTime(); res = String.valueOf(ts); return res;&#125; 1234567891011/* * å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¶é—´ */public static String stampToDate(String s)&#123; String res; SimpleDateFormat simpleDateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"); long lt = new Long(s); Date date = new Date(lt); res = simpleDateFormat.format(date); return res;&#125; 8. Java - Collections é›†åˆæ“ä½œçš„é™æ€å¤šæ€æ–¹æ³•ï¼Œæ˜¯ä¸€ä¸ªå·¥å…·ç±»ã€‚ å‚è€ƒï¼šhttp://blog.csdn.net/qq924862077/article/details/48022135]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Kit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WebViewçš„ä½¿ç”¨]]></title>
    <url>%2FWebView%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Webç›¸å…³ä»£ç å— 1. WebVIewçš„ Setting ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191/** * CommonWebViewSets WebViewè®¾ç½®å·¥å…·ç±» * * @author wenjia.Cheng cwj1714@163.com * @date 2017/12/29 */public class CommonWebViewSets &#123; /** * è®¾ç½®URL * * @param webView æ§ä»¶ * @param url urlåœ°å€ */ public static void setUrl(WebView webView, String url,ProgressBar mProgressBar) &#123; initWeb(webView,mProgressBar); webView.loadUrl(url); &#125; /** * è®¾ç½®htmlæºä»£ç ï¼Œæ— base Url * * @param webView æ§ä»¶ * @param html htmlæºä»£ç  */ public static void setHtmlCode(WebView webView, String html,ProgressBar mProgressBar) &#123; initWeb(webView,mProgressBar); webView.loadDataWithBaseURL(&quot;æˆ‘çš„æœåŠ¡å•†&quot;, html, &quot;text/html&quot;, &quot;utf-8&quot;, null); &#125; /** * è®¾ç½®htmlæºä»£ç ï¼Œæœ‰base Url * * @param webView æ§ä»¶ * @param baseUrl baseUrl * @param html htmlæºä»£ç  */ public static void setHtmlCodeBaseUrl(WebView webView, String baseUrl, String html,ProgressBar mProgressBar) &#123; initWeb(webView,mProgressBar); webView.loadDataWithBaseURL(baseUrl, html, &quot;text/html&quot;, &quot;utf-8&quot;, null); &#125; /** * @param webView æ§ä»¶ */ @SuppressLint(&quot;SetJavaScriptEnabled&quot;) public static void initWeb(WebView webView, final ProgressBar mProgressBar) &#123; // è·å–webviewè®¾ç½®å±æ€§ WebSettings settings = webView.getSettings(); // è®¾ç½®ç¼–ç æ ¼å¼ settings.setDefaultTextEncodingName(&quot;utf-8&quot;); // è¿›è¡Œå±å¹•é€‚é…è®¾ç½® settings.setUseWideViewPort(true); settings.setLoadWithOverviewMode(true); // è®¾ç½®æ”¯æŒJavaScript settings.setJavaScriptEnabled(true); // è¿™ä¸ªæ˜¯ç»™å›¾ç‰‡è®¾ç½®ç‚¹å‡»ç›‘å¬çš„ï¼Œå¦‚æœä½ é¡¹ç›®éœ€è¦webviewä¸­å›¾ç‰‡ï¼Œç‚¹å‡»æŸ¥çœ‹å¤§å›¾åŠŸèƒ½ï¼Œå¯ä»¥è¿™ä¹ˆæ·»åŠ  // webView.addJavascriptInterface(new JavaScriptInterface(this), &quot;imagelistner&quot;); settings.setAllowContentAccess(false); settings.setAllowFileAccessFromFileURLs(false); settings.setAllowUniversalAccessFromFileURLs(false); settings.setAllowFileAccess(false); // æŠŠhtmlä¸­çš„å†…å®¹æ”¾å¤§webviewç­‰å®½çš„ä¸€åˆ—ä¸­ settings.setLayoutAlgorithm(WebSettings.LayoutAlgorithm.SINGLE_COLUMN); //settings.setDefaultFontSize(44); // è®¾ç½®å¯ä»¥æ”¯æŒç¼©æ”¾ //webView.getSettings().setSupportZoom(true); // è®¾ç½®å‡ºç°ç¼©æ”¾å·¥å…· //webView.getSettings().setBuiltInZoomControls(true); //webView.getSettings().setDisplayZoomControls(true); //å¦‚æœä¸è®¾ç½®WebViewClientï¼Œè¯·æ±‚ä¼šè·³è½¬ç³»ç»Ÿæµè§ˆå™¨ webView.setWebViewClient(new WebViewClient() &#123; @Override public boolean shouldOverrideUrlLoading(WebView view, String url) &#123; //è¯¥æ–¹æ³•åœ¨Build.VERSION_CODES.LOLLIPOPä»¥å‰æœ‰æ•ˆï¼Œä»Build.VERSION_CODES.LOLLIPOPèµ·ï¼Œå»ºè®®ä½¿ç”¨shouldOverrideUrlLoading(WebView, WebResourceRequest)&#125; instead //è¿”å›falseï¼Œæ„å‘³ç€è¯·æ±‚è¿‡ç¨‹é‡Œï¼Œä¸ç®¡æœ‰å¤šå°‘æ¬¡çš„è·³è½¬è¯·æ±‚ï¼ˆå³æ–°çš„è¯·æ±‚åœ°å€ï¼‰ï¼Œå‡äº¤ç»™webViewè‡ªå·±å¤„ç†ï¼Œè¿™ä¹Ÿæ˜¯æ­¤æ–¹æ³•çš„é»˜è®¤å¤„ç† //è¿”å›trueï¼Œè¯´æ˜ä½ è‡ªå·±æƒ³æ ¹æ®urlï¼Œåšæ–°çš„è·³è½¬ï¼Œæ¯”å¦‚åœ¨åˆ¤æ–­urlç¬¦åˆæ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œæˆ‘æƒ³è®©webViewåŠ è½½http://ask.csdn.net/questions/178242 /*if (url.toString().contains(&quot;sina.cn&quot;))&#123; view.loadUrl(&quot;http://ask.csdn.net/questions/178242&quot;); return true; &#125;*/ return false; &#125; @Override public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) &#123; //è¿”å›falseï¼Œæ„å‘³ç€è¯·æ±‚è¿‡ç¨‹é‡Œï¼Œä¸ç®¡æœ‰å¤šå°‘æ¬¡çš„è·³è½¬è¯·æ±‚ï¼ˆå³æ–°çš„è¯·æ±‚åœ°å€ï¼‰ï¼Œå‡äº¤ç»™webViewè‡ªå·±å¤„ç†ï¼Œè¿™ä¹Ÿæ˜¯æ­¤æ–¹æ³•çš„é»˜è®¤å¤„ç† //è¿”å›trueï¼Œè¯´æ˜ä½ è‡ªå·±æƒ³æ ¹æ®urlï¼Œåšæ–°çš„è·³è½¬ï¼Œæ¯”å¦‚åœ¨åˆ¤æ–­urlç¬¦åˆæ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œæˆ‘æƒ³è®©webViewåŠ è½½http://ask.csdn.net/questions/178242 /*if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) &#123; if (request.getUrl().toString().contains(&quot;sina.cn&quot;))&#123; view.loadUrl(&quot;http://ask.csdn.net/questions/178242&quot;); return true; &#125; &#125;*/ return false; &#125; @Override public void onPageFinished(WebView view, String url) &#123; super.onPageFinished(view, url); //imgReset(view);//é‡ç½®webviewä¸­imgæ ‡ç­¾çš„å›¾ç‰‡å¤§å° // htmlåŠ è½½å®Œæˆä¹‹åï¼Œæ·»åŠ ç›‘å¬å›¾ç‰‡çš„ç‚¹å‡»jså‡½æ•° //addImageClickListner(view); &#125; &#125;); if (mProgressBar == null) &#123; &#125; else &#123; webView.setWebChromeClient(new WebChromeClient()&#123; @Override public void onProgressChanged(WebView view, int newProgress) &#123; // TODO è‡ªåŠ¨ç”Ÿæˆçš„æ–¹æ³•å­˜æ ¹ if(newProgress==100)&#123; mProgressBar.setVisibility(View.GONE);//åŠ è½½å®Œç½‘é¡µè¿›åº¦æ¡æ¶ˆå¤± &#125; else&#123; mProgressBar.setVisibility(View.VISIBLE);//å¼€å§‹åŠ è½½ç½‘é¡µæ—¶æ˜¾ç¤ºè¿›åº¦æ¡ mProgressBar.setProgress(newProgress);//è®¾ç½®è¿›åº¦å€¼ &#125; &#125; &#125;); &#125; &#125; /** * è¿™æ®µjså‡½æ•°çš„åŠŸèƒ½å°±æ˜¯ï¼Œéå†æ‰€æœ‰çš„imgèŠ‚ç‚¹ï¼Œå¹¶æ·»åŠ onclickå‡½æ•°ï¼Œå‡½æ•°çš„åŠŸèƒ½æ˜¯åœ¨å›¾ç‰‡ç‚¹å‡»çš„æ—¶å€™è°ƒç”¨æœ¬åœ°javaæ¥å£å¹¶ä¼ é€’urlè¿‡å» * * @param view view */ private static void addImageClickListner(WebView view) &#123; view.loadUrl(&quot;javascript:(function()&#123;&quot; + &quot;var objs = document.getElementsByTagName(\&quot;img\&quot;); &quot; + &quot;for(var i=0;i&lt;objs.length;i++) &quot; + &quot;&#123;&quot; + &quot; objs[i].onclick=function() &quot; + &quot; &#123; &quot; + &quot; window.imagelistner.openImage(this.src); &quot; + &quot; &#125; &quot; + &quot;&#125;&quot; + &quot;&#125;)()&quot;); &#125; /** * å¯¹å›¾ç‰‡è¿›è¡Œé‡ç½®å¤§å°ï¼Œå®½åº¦å°±æ˜¯æ‰‹æœºå±å¹•å®½åº¦ï¼Œé«˜åº¦æ ¹æ®å®½åº¦æ¯”ä¾¿è‡ªåŠ¨ç¼©æ”¾ **/ private static void imgReset(WebView view) &#123; view.loadUrl(&quot;javascript:(function()&#123;&quot; + &quot;var objs = document.getElementsByTagName(\&quot;img\&quot;); &quot; + &quot;for(var i=0;i&lt;objs.length;i++) &quot; + &quot;&#123;&quot; + &quot;var img = objs[i]; &quot; + &quot; img.style.maxWidth = &apos;100%&apos;; img.style.height = &apos;auto&apos;; &quot; + &quot;&#125;&quot; + &quot;&#125;)()&quot;); &#125; private static class JavaScriptInterface &#123; private Context context; public JavaScriptInterface(Context context) &#123; this.context = context; &#125; //ç‚¹å‡»å›¾ç‰‡å›è°ƒæ–¹æ³• //å¿…é¡»æ·»åŠ æ³¨è§£,å¦åˆ™æ— æ³•å“åº” @JavascriptInterface public void openImage(String img) &#123; Log.i(&quot;TAG&quot;, &quot;å“åº”ç‚¹å‡»äº‹ä»¶!&quot;); Intent intent = new Intent(); intent.putExtra(&quot;image&quot;, img); // BigImageActivityæŸ¥çœ‹å¤§å›¾çš„ç±»ï¼Œè‡ªå·±å®šä¹‰å°±å¥½ // intent.setClass(context, BigImageActivity.class); context.startActivity(intent); &#125; &#125;&#125; 2. WebView ä¸ä»…å¯ä»¥é€šè¿‡ URL è£…è½½ç½‘é¡µï¼Œä¹Ÿå¯ä»¥ç›´æ¥è£…è½½ HTML ä»£ç ï¼ŒWebView ç±»æœ‰ä¸¤ä¸ªæ–¹æ³•å¯ä»¥è£…è½½ HTML ä»£ç :1loadData(String data, String mimeType, String encoding) æ­¤æ–¹æ³•åœ¨è£…è½½åŒ…å«ä¸­æ–‡çš„ HTML ä»£ç æ—¶ä¼šæœ‰ä¹±ç  ä¸ 1loadDataWithBaseURL(String baseUrl, String data, String mimeType, String encoding, String historyUrl) æ­¤æ–¹æ³•ä¸ä¼šæœ‰ä¹±ç  å‚æ•°ï¼š baseUrl: è·å¾—ç›¸å¯¹è·¯å¾„çš„æ ¹ URL, å¦‚æœè®¾ä¸ºnull, é»˜è®¤å€¼ä¸º about:blank historyUrl: å¦‚æœHTMLä»£ç è£…è½½å¤±è´¥æˆ–ä¸º null, WebView ç»„ä»¶ä¼šè£…è½½è¿™ä¸ªå‚æ•°æŒ‡å®šçš„URL. data : HTMLä»£ç  mimeType: Mimeç±»å‹ï¼Œ ä¸€èˆ¬ä¸º text/html encoding: HTMLä»£ç çš„ç¼–ç ï¼Œ ä¾‹å¦‚ï¼š GBK, uft-8 3. åœ¨HTMLæ–‡æ¡£ä¸­è®¾ç½®è‡ªé€‚åº”å±å¹•ï¼ˆæ–‡å­—ï¼‰1&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt; 4. åœ¨Androidçš„WebViewä¸­ç‚¹å‡»â€œè¿”å›æŒ‰é’®â€æ—¶çš„æ“ä½œ123456789101112131415161718192021/** * webViewç›‘å¬è¿”å›æŒ‰é’® * * @param keyCode æŒ‰é’®ç  * @param event äº‹ä»¶ * @return ã€‚ */@Overridepublic boolean onKeyDown(int keyCode, KeyEvent event) &#123; if ((keyCode == KeyEvent.KEYCODE_BACK)) &#123; if (web_act_view.canGoBack()) &#123; //goBack()è¡¨ç¤ºè¿”å›WebViewçš„ä¸Šä¸€é¡µé¢ web_act_view.goBack(); return true; &#125; else &#123; finish(); return true; &#125; &#125; return false;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android 8.1 æ–°ç‰¹æ€§]]></title>
    <url>%2FAndroid%208.1%20%E6%96%B0%E7%89%B9%E6%80%A7%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttps://developer.android.com/about/versions/oreo/android-8.1.html#go 1. Android Oreo (Go edition)2. Neural Networks API3. Autofill framework updates4. Notifications5. EditText update6. Programmatic Safe Browsing actions7. Video thumbnail extractor8. Shared memory API9. WallpaperColors API10. Fingerprint updates11. Cryptography updates]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Androidç‰ˆæœ¬æ–°ç‰¹æ€§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android 8.0/8.1 è‡ªåŠ¨å¡«å†™]]></title>
    <url>%2FAndroid%208.0%3A8.1%20%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%86%99%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Androidç‰ˆæœ¬æ–°ç‰¹æ€§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android 8.0/8.1 Notificationçš„ä½¿ç”¨]]></title>
    <url>%2FAndroid%208.0%208.1%20Notification%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://blog.csdn.net/rentee/article/details/78303532éå¸¸å…¨é¢çš„å‚è€ƒï¼šhttps://www.jianshu.com/p/d2051a785309 èµ·å›  - è®¾ç½®â€œNotificationâ€åï¼ŒçŠ¶æ€æ å¹¶æ²¡æœ‰ä»»ä½•æç¤ºæœ€è¿‘é¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨åˆ°â€œNotificationâ€ï¼Œè¿™ä¸ªåŸæœ¬åœ¨androidä¸­éå¸¸ç®€å•å°±èƒ½å®ç°çš„åŠŸèƒ½ï¼Œå¦‚ä»Šæˆ‘å´æ€ä¹ˆè®¾ç½®éƒ½ä¸æˆåŠŸï¼Œè¿™è®©æˆ‘é¢‡ä¸ºéƒé—·ã€‚ ç„¶åå¼€å§‹æŸ¥çœ‹åˆ«äººæ˜¯æ€ä¹ˆå†™çš„ï¼Œä½†æ˜¯åŒæ ·å¹¶æ²¡æœ‰ä»»ä½•æ•ˆæœã€‚ç„¶åæˆ‘æ„è¯†åˆ°æˆ‘çš„ç³»ç»Ÿç‰ˆæœ¬æ—¶Android 8.1ã€‚è®¾ç½®æ–¹å¼å·²ç»å˜äº†ã€‚ ä¸€ä¸ªå‰ç‰ˆæœ¬çš„ä¾‹å­ï¼š 1234567891011Notification.Builder builder = new Notification.Builder(this); Intent intent = new Intent(this, TraceActivity.class); Bitmap icon = BitmapFactory.decodeResource(this.getResources(), R.drawable.ic_person_pin_circle_cyan_700_24dp); //è®¾ç½®pendingIntent builder.setContentIntent(PendingIntent.getActivity(this, 0, intent, 0)) .setLargeIcon(icon) .setContentTitle(&quot;é¢†é˜Ÿå®šä½&quot;) .setSmallIcon(R.drawable.ic_person_pin_circle_white_18dp) .setContentText(&quot;å®šä½æœåŠ¡æ­£åœ¨è¿è¡Œä¸­â€¦â€¦&quot;); NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE); manager.notify(1, builder.build()); è¿™æ ·çš„å†™æ³•è¿è¡Œåœ¨Android 8.0ä¹‹ä¸Šæ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ã€‚ Android 8.0 Notificationæ³¨æ„ï¼š ä»£ç ä¸­æ·»åŠ äº†ï¼šNotificationChannelè¿™ä¸ªç±»ã€‚è¿™æ˜¯Android Oæ–°å¢çš„é€šçŸ¥æ¸ é“ï¼Œå…¶å…è®¸æ‚¨ä¸ºè¦æ˜¾ç¤ºçš„æ¯ç§é€šçŸ¥ç±»å‹åˆ›å»ºç”¨æˆ·å¯è‡ªå®šä¹‰çš„æ¸ é“ã€‚ç”¨æˆ·ç•Œé¢å°†é€šçŸ¥æ¸ é“ç§°ä¹‹ä¸ºé€šçŸ¥ç±»åˆ«ã€‚ NotificationChannelæ˜¯Android Oæ–°å¢çš„ç‰¹æ€§ï¼Œä¸ºäº†å…¼å®¹è€ä»£ç ï¼Œå¦‚æœchannelIdä¸ºnullçš„è¯ï¼ŒAndroid Oä¼šæŠŠé€šçŸ¥å½’åˆ°â€œOther Channelâ€ä¸Šã€‚PSï¼šå°†targetSdkVersionæåˆ°26ä»¥ä¸Šçš„è¯ï¼Œå°±å¿…é¡»è®¾ç½®channeläº†ï¼Œä¸èƒ½ä¸ºnullã€‚ ä½¿ç”¨åˆ°çš„ç±»1. NotificationChannelå®˜æ–¹è§£é‡Šä¸ºï¼šé€‚ç”¨äºç±»ä¼¼ä¸»é¢˜é€šçŸ¥çš„é›†åˆçš„è®¾ç½®çš„è¡¨ç¤ºå½¢å¼ã€‚ä½¿ç”¨æ–¹å¼ä¸ºï¼š 123456// åˆ›å»ºè‡ªå·±çš„çš„NotificationChannel å‚æ•°1ï¼šidï¼šchanneIdï¼›å‚æ•°2ï¼šnameï¼šè‡ªå®šä¹‰ç±»åˆ«çš„åå­—ï¼Œåœ¨&quot;è®¾ç½®ç•Œé¢&quot;çš„ç±»åˆ«æ ä¸‹å›æ˜¾ç¤º nameï¼›å‚æ•°3ï¼šé‡è¦ç­‰çº§NotificationChannel channel = new NotificationChannel(&quot;10&quot;,&quot;æ™®é€šé€šçŸ¥&quot;,NotificationManager.IMPORTANCE_DEFAULT);// NotificationManagerç®¡ç†å™¨NotificationManager mNotifyMgr = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);// ä½¿ç”¨channelå¯¹è±¡mNotifyMgr.createNotificationChannel(channel); 2. NotificationManagerå®˜æ–¹è§£é‡Šä¸ºï¼šé€šçŸ¥ç”¨æˆ·å‘ç”Ÿäº‹ä»¶çš„ç±»ã€‚ è¿™æ˜¯å¦‚ä½•å‘Šè¯‰ç”¨æˆ·åœ¨åå°å‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…ã€‚ 123NotificationManager mNotifyMgr = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);// å‘å‡ºé€šçŸ¥mNotifyMgr.notify(10, notification); 3. Notification.Builderå®˜æ–¹è§£é‡Šï¼šä¸€ä¸ªç±»ï¼Œå®ƒè¡¨ç¤ºå¦‚ä½•ä½¿ç”¨ä¸€ä¸ªæŒä¹…åŒ–é€šçŸ¥å‘ˆç°ç»™ç”¨æˆ· åˆæ­¥ä½¿ç”¨å®ä¾‹çš„å›¾è§£è¾ƒä¸ºå®Œæ•´çš„é€šçŸ¥ç¤ºä¾‹å›¾è§£ é€šçŸ¥é¢‘é“çš„åç§°ï¼šnew NotificationChannel(â€œ10â€,â€æ™®é€šé€šçŸ¥â€,NotificationManager.IMPORTANCE_DEFAULT); æœªè®¾ç½®é¢œè‰²çš„æ ·å¼ï¼š æ·»åŠ è‡ªå®šä¹‰æé†’12345678910111213// æ·»åŠ è‡ªå®šä¹‰å£°éŸ³æé†’builder.setSound(Uri.parse("path/to/sound"));// æ·»åŠ è‡ªå®šä¹‰éœ‡åŠ¨æé†’// å»¶è¿Ÿ200msåéœ‡åŠ¨300msï¼Œå†å»¶è¿Ÿ400msåéœ‡åŠ¨500mslong[] pattern = new long[]&#123;200,300,400,500&#125;; builder.setVibrate(pattern);// æ·»åŠ è‡ªå®šä¹‰å‘¼å¸ç¯æé†’ï¼Œè‡ªåŠ¨æ·»åŠ FLAG_SHOW_LIGHTSint argb = 0xffff0000; // ledç¯å…‰é¢œè‰²int onMs = 300; // ledäº®ç¯æŒç»­æ—¶é—´int offMs = 100; // ledç†„ç¯æŒç»­æ—¶é—´builder.setLights(argb, onMs, offMs); ä¸€ä¸ªå®Œæ•´çš„Notification åˆæ­¥ä½¿ç”¨ å®ä¾‹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556/** * android 8.0 æ–°çš„Notification */@RequiresApi(api = Build.VERSION_CODES.O)private void initNotification() &#123; Bitmap bitmap = BitmapFactory.decodeResource(getResources(),R.drawable.ic_map_cyan_700_48dp); // åˆ›å»ºè‡ªå·±çš„çš„NotificationChannel å‚æ•°1ï¼šidï¼šchanneIdï¼›å‚æ•°2ï¼šnameï¼šè‡ªå®šä¹‰ç±»åˆ«çš„åå­—ï¼Œåœ¨&quot;è®¾ç½®ç•Œé¢&quot;çš„ç±»åˆ«æ ä¸‹å›æ˜¾ç¤º nameï¼›å‚æ•°3ï¼šé‡è¦ç­‰çº§ NotificationChannel channel = new NotificationChannel(&quot;10&quot;,&quot;æ™®é€šé€šçŸ¥&quot;,NotificationManager.IMPORTANCE_DEFAULT); channel.enableLights(true); channel.setLightColor(Color.RED); channel.setShowBadge(true); channel.setDescription(&quot;description&quot;); // NotificationManagerç®¡ç†å™¨ NotificationManager mNotifyMgr = (NotificationManager) getSystemService(NOTIFICATION_SERVICE); // ä½¿ç”¨channelå¯¹è±¡ mNotifyMgr.createNotificationChannel(channel); // ç‚¹å‡»é€šçŸ¥ä¹‹åçš„æ„å›¾ PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, TraceActivity.class), 0); PendingIntent pendingIntent2 = PendingIntent.getActivity(this, 0, new Intent(this, ChangePwdActivity.class), 0); Notification notification = new Notification.Builder(this,&quot;10&quot;) // è®¾ç½®é€šçŸ¥ å³ä¾§ å¤§å›¾æ ‡ .setLargeIcon(bitmap) // è®¾ç½®é€šçŸ¥çš„å›¾æ ‡ã€appæ–‡å­—åç§°ï¼Œè‹¥ä¸è®¾ç½®åˆ™æ•´ä¸ªé€šçŸ¥å‡ä¸ºé»‘ç°è‰² .setColor(getResources().getColor(R.color.Deep_Orange_700)) // æ— éšœç¢æœåŠ¡æ‰€éœ€æ–‡å­— .setTicker(&quot;è¿™æ˜¯ä»€ä¹ˆç©æ„ï¼Ÿ- å›½æ—…&quot;) // å°å›¾æ ‡ .setSmallIcon(R.drawable.ic_person_pin_circle_cyan_700_24dp) // æ ‡é¢˜æ–‡æœ¬ .setContentTitle(&quot;Notification Title&quot;) // è§£é‡Šå†…å®¹ - å­æ–‡æœ¬ .setContentText(&quot;Text &amp; Text&quot;) // åœ¨é¡¹ç›®appåç§°å³ä¾§æ˜¾ç¤ºçš„å†…å®¹æ–‡å­— .setSubText(&quot;Sub_tex&quot;) // è®¾ç½®é€šçŸ¥çš„åŠ¨ä½œæ•°ç»„ .setActions(new Notification.Action[]&#123;new Notification.Action(R.drawable.contact_me,&quot;è¿›å…¥Map&quot;,pendingIntent),new Notification.Action(R.drawable.contact_me,&quot;ä¿®æ”¹å¯†ç &quot;,pendingIntent2)&#125;) // è®¾ç½®å•ä¸ªåŠ¨ä½œ //.setActions(new Notification.Action(R.drawable.contact_me,&quot;ä¿®æ”¹å¯†ç &quot;,pendingIntent2)) // ä»…å½“ é…åˆ&quot;setContentIntent(pendingIntent)&quot;ä½¿ç”¨æ—¶ï¼Œç‚¹å‡»é€šçŸ¥ä¼šè‡ªåŠ¨æ¶ˆå¤± .setAutoCancel(true) // ä¸ºé€šçŸ¥è®¾ç½®æ„å›¾ //.setContentIntent(pendingIntent) // åŒæ—¶å®ç°ï¼šé“ƒå£°/æŒ¯åŠ¨/ç¯å‘¼å¸ ä¸‰ç§æé†’æ–¹å¼ .setDefaults(Notification.DEFAULT_ALL) .setWhen(0) .setNumber(3) .build(); // getNotification() deprecated in API level 16 // å‘å‡ºé€šçŸ¥ mNotifyMgr.notify(10, notification);&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Androidç‰ˆæœ¬æ–°ç‰¹æ€§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¬¬ä¸‰æ–¹åº“]]></title>
    <url>%2F%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%2F</url>
    <content type="text"><![CDATA[1. SwipeToLoadLayoutæ»‘åŠ¨åŠ è½½å¸ƒå±€ï¼Œå¯ä»¥å®ç°ä¸‹æ‹‰åˆ·æ–°ä¸ä¸Šæ‹‰åŠ è½½æ›´å¤šã€‚è¯¥åº“æ”¯æŒå¯¹ListViewï¼ŒGridViewï¼ŒRecyclerViewï¼ŒWebViewï¼ŒScrollViewç­‰æ»‘åŠ¨è§†å›¾çš„ä¸‹è½½åˆ·æ–°ä¸ä¸Šæ‹‰åŠ è½½æ›´å¤šã€‚ 1.1 é…ç½® é¦–å…ˆåœ¨å·¥ç¨‹çš„build.gradleä¸Šé¢æ·»åŠ JitPackä»“åº“ 123456allprojects &#123; repositories &#123; ... maven &#123; url &quot;https://jitpack.io&quot; &#125; &#125;&#125; åœ¨æ¨¡å—çš„build.gradleä¸Šé¢æ·»åŠ ä¾èµ– 123dependencies &#123; compile &apos;com.github.Aspsine:SwipeToLoadLayout:1.0.3&apos;&#125; 1.2 åŸºæœ¬ä½¿ç”¨SwipeToLoadLayoutä¸‹é¢å®šä¹‰ä¸‰ä¸ªå­è§†å›¾: SwipeRefreshHeaderLayout : ä»£è¡¨ä¸‹æ‹‰åˆ·æ–°çš„å¤´éƒ¨ RecyclerView: ä»£è¡¨æ»‘åŠ¨è§†å›¾ä¸»ä½“ SwipeLoadMoreFooterLayout: ä»£è¡¨ä¸Šæ‹‰åŠ è½½æ›´å¤šçš„å°¾éƒ¨ 1234567891011121314151617181920212223&lt;com.aspsine.swipetoloadlayout.SwipeToLoadLayout android:id=&quot;@+id/swipeToLoadLayout&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;com.aspsine.swipetoloadlayout.SwipeRefreshHeaderLayout android:id=&quot;@id/swipe_refresh_header&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;100dp&quot; android:gravity=&quot;center&quot;/&gt; &lt;android.support.v7.widget.RecyclerView android:id=&quot;@+id/swipe_target&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;/android.support.v7.widget.RecyclerView&gt; &lt;com.aspsine.swipetoloadlayout.SwipeLoadMoreFooterLayout android:id=&quot;@id/swipe_load_more_footer&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;100dp&quot; android:gravity=&quot;center&quot; /&gt;&lt;/com.aspsine.swipetoloadlayout.SwipeToLoadLayout&gt; è¿™ä¸‰ä¸ªå­è§†å›¾çš„idå¿…é¡»æ˜¯ä¸Šé¢æ‰€å†™çš„ï¼Œå¦åˆ™ä¼šå‡ºé”™ 1.3 å¸¸ç”¨å±æ€§ app:refresh_enabledï¼šè®¾ç½®æ˜¯å¦å¯ä»¥ä¸‹æ‹‰åˆ·æ–° app:load_more_enabledï¼šè®¾ç½®æ˜¯å¦å¯ä»¥ä¸Šæ‹‰åŠ è½½æ›´å¤š app:swipe_styleï¼šè®¾ç½®ä¸‹æ‹‰åˆ·æ–°ä¸ä¸Šæ‹‰åŠ è½½çš„æ ·å¼ï¼Œå…¶å€¼ä¸ºclassicï¼Œaboveï¼Œblewæˆ–scale app:refresh_trigger_offsetï¼šè§¦å‘ä¸‹æ‹‰åˆ·æ–°çš„åç§»é‡ï¼Œé»˜è®¤å€¼æ˜¯ä¸‹æ‹‰åˆ·æ–°å¤´éƒ¨çš„é«˜åº¦ app:load_more_trigger_offsetï¼šè§¦å‘ä¸Šæ‹‰åŠ è½½æ›´å¤šçš„åç§»é‡ï¼Œé»˜è®¤å€¼æ˜¯ä¸Šæ‹‰åŠ è½½æ›´å¤šçš„é«˜åº¦ app:refresh_final_drag_offsetï¼šä¸‹æ‹‰åˆ·æ–°æœ€å¤§å¯ä»¥æ‹–åŠ¨çš„åç§»é‡ app:load_more_final_drag_offsetï¼šä¸Šæ‹‰åŠ è½½æ›´å¤šæœ€å¤§å¯ä»¥æ‹–åŠ¨çš„åç§»é‡ app:release_to_refreshing_scrolling_durationï¼šé‡Šæ”¾ä¸‹æ‹‰åˆ·æ–°æŒç»­æ»šåŠ¨çš„æ—¶é—´ app:release_to_loading_more_scrolling_durationï¼šé‡Šæ”¾ä¸Šæ‹‰åŠ è½½æ›´å¤šæŒç»­æ»šåŠ¨çš„æ—¶é—´ app:refresh_complete_delay_durationï¼šä¸‹æ‹‰åˆ·æ–°å®Œæˆå»¶è¿Ÿçš„æŒç»­æ—¶é—´ app:load_more_complete_delay_durationï¼šä¸Šæ‹‰åŠ è½½æ›´å¤šå®Œæˆå»¶è¿Ÿçš„æŒç»­æ—¶é—´ app:refresh_complete_to_default_scrolling_durationï¼šé»˜è®¤å®Œæˆä¸‹æ‹‰åˆ·æ–°æŒç»­æ»šåŠ¨æ—¶é—´ app:load_more_complete_to_default_scrolling_durationï¼š é»˜è®¤å®Œæˆä¸Šæ‹‰åŠ è½½æ›´å¤šæŒç»­æ»šåŠ¨æ—¶é—´ app:default_to_refreshing_scrolling_durationï¼šé»˜è®¤ä¸‹æ‹‰åˆ·æ–°æ»šåŠ¨æ—¶é—´ app:default_to_loading_more_scrolling_durationï¼šé»˜è®¤ä¸Šæ‹‰åŠ è½½æ›´å¤šæ»šåŠ¨æ—¶é—´ 1.4 è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°å¤´éƒ¨ä¸ä¸Šæ‹‰åŠ è½½æ›´å¤šå°¾éƒ¨ å®šä¹‰ä¸‹æ‹‰åˆ·æ–°å¤´éƒ¨è§†å›¾åªéœ€è¦å®ç°SwipeRefreshTrigger, SwipeTriggerä¸¤ä¸ªæ¥å£å°±è¡Œ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647public class RefreshHeaderView extends TextView implements SwipeRefreshTrigger, SwipeTrigger &#123; public RefreshHeaderView(Context context) &#123; super(context); &#125; public RefreshHeaderView(Context context, AttributeSet attrs) &#123; super(context, attrs); &#125; @Override public void onRefresh() &#123; setText("REFRESHING"); &#125; @Override public void onPrepare() &#123; setText(""); &#125; @Override public void onMove(int yScrolled, boolean isComplete, boolean automatic) &#123; if (!isComplete) &#123; if (yScrolled &gt;= getHeight()) &#123; setText("RELEASE TO REFRESH"); &#125; else &#123; setText("SWIPE TO REFRESH"); &#125; &#125; else &#123; setText("REFRESH RETURNING"); &#125; &#125; @Override public void onRelease() &#123; &#125; @Override public void onComplete() &#123; setText("COMPLETE"); &#125; @Override public void onReset() &#123; setText(""); &#125;&#125; å®šä¹‰ä¸Šæ‹‰åŠ è½½æ›´å¤šå°¾éƒ¨è§†å›¾åªéœ€è¦å®ç°SwipeLoadMoreTrigger, SwipeTriggerä¸¤ä¸ªæ¥å£å°±è¡Œ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647public class LoadMoreFooterView extends TextView implements SwipeTrigger, SwipeLoadMoreTrigger &#123; public LoadMoreFooterView(Context context) &#123; super(context); &#125; public LoadMoreFooterView(Context context, AttributeSet attrs) &#123; super(context, attrs); &#125; @Override public void onLoadMore() &#123; setText("LOADING MORE"); &#125; @Override public void onPrepare() &#123; setText(""); &#125; @Override public void onMove(int yScrolled, boolean isComplete, boolean automatic) &#123; if (!isComplete) &#123; if (yScrolled &lt;= -getHeight()) &#123; setText("RELEASE TO LOAD MORE"); &#125; else &#123; setText("SWIPE TO LOAD MORE"); &#125; &#125; else &#123; setText("LOAD MORE RETURNING"); &#125; &#125; @Override public void onRelease() &#123; setText("LOADING MORE"); &#125; @Override public void onComplete() &#123; setText("COMPLETE"); &#125; @Override public void onReset() &#123; setText(""); &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ç¬¬ä¸‰æ–¹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç™¾åº¦åœ°å›¾å¼€å‘-åŸºç¡€åœ°å›¾]]></title>
    <url>%2F%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E5%BC%80%E5%8F%91-%E5%9F%BA%E7%A1%80%E5%9C%B0%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[è‹¥æ˜¯åœ¨åŒä¸€ä¸ªAPPä¸­æ—¢ä½¿ç”¨åŸºç¡€åœ°å›¾ä¹Ÿä½¿ç”¨é¹°çœ¼è½¨è¿¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªAKå€¼ã€‚ ç™¾åº¦åŸºç¡€åœ°å›¾ä½¿ç”¨ å‚è€ƒï¼šhttp://lbsyun.baidu.com/index.php?title=androidsdk/guide/create-project/androidstudio å¼€å‘åŒ…çš„ä¸‹è½½ å‚è€ƒï¼šhttp://lbsyun.baidu.com/index.php?title=sdk/download&amp;action#selected=mapsdk_basicmap,mapsdk_searchfunction,mapsdk_lbscloudsearch,mapsdk_calculationtool,mapsdk_radar]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>åœ°å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Macä¸‹åœ¨Androidstudioä¸­è·å–æ•°å­—ç­¾åè¯ä¹¦çš„SHA1å€¼]]></title>
    <url>%2FMac%E4%B8%8B%E5%9C%A8Androidstudio%E4%B8%AD%E8%8E%B7%E5%8F%96%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6%E7%9A%84SHA1%E5%80%BC%2F</url>
    <content type="text"><![CDATA[è·å–æ­¥éª¤ AndroidStudioåˆ‡æ¢åˆ°Terminal è¾“å…¥å‘½ä»¤ï¼šcd ~/.android è¾“å…¥å‘½ä»¤ï¼škeytool -list -v -keystore debug.keystore è¾“å…¥å¯†é’¥åº“å£ä»¤: android æˆ–è€… å›è½¦ å¾—åˆ°çš„ç»“æœä¸ºï¼š 1234567891011121314151617181920212223242526272829***************** WARNING WARNING WARNING ****************** å­˜å‚¨åœ¨æ‚¨çš„å¯†é’¥åº“ä¸­çš„ä¿¡æ¯çš„å®Œæ•´æ€§ ** å°šæœªç»è¿‡éªŒè¯! ä¸ºäº†éªŒè¯å…¶å®Œæ•´æ€§, ** å¿…é¡»æä¾›å¯†é’¥åº“å£ä»¤ã€‚ ****************** WARNING WARNING WARNING *****************å¯†é’¥åº“ç±»å‹: JKSå¯†é’¥åº“æä¾›æ–¹: SUNæ‚¨çš„å¯†é’¥åº“åŒ…å« 1 ä¸ªæ¡ç›®åˆ«å: androiddebugkeyåˆ›å»ºæ—¥æœŸ: 2017-6-24æ¡ç›®ç±»å‹: PrivateKeyEntryè¯ä¹¦é“¾é•¿åº¦: 1è¯ä¹¦[1]:æ‰€æœ‰è€…: C=US, O=Android, CN=Android Debugå‘å¸ƒè€…: C=US, O=Android, CN=Android Debugåºåˆ—å·: 1æœ‰æ•ˆæœŸå¼€å§‹æ—¥æœŸ: Sat Jun 24 22:49:12 CST 2017, æˆªæ­¢æ—¥æœŸ: Mon Jun 17 22:49:12 CST 2047è¯ä¹¦æŒ‡çº¹: MD5: â€¦â€¦ SHA1: â€¦â€¦ SHA256: â€¦â€¦ ç­¾åç®—æ³•åç§°: SHA1withRSA ç‰ˆæœ¬: 1*******************************************]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>åœ°å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç™¾åº¦åœ°å›¾å¼€å‘-é¹°çœ¼è½¨è¿¹]]></title>
    <url>%2F%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E5%BC%80%E5%8F%91-%E9%B9%B0%E7%9C%BC%E8%BD%A8%E8%BF%B9%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://www.jianshu.com/p/29ccac3e1e42 å­˜åœ¨é—®é¢˜1. åå°serviceæ˜¯å¦å­˜æ´»2. ç”µé‡ä¸æµé‡æç¤º3. åæ ‡ç³»è¯´æ˜ éœ€æ±‚æ¦‚è§ˆ å›´æ ï¼šåˆ°è¾¾æŒ‡å®šä½ç½®ä¹‹åé€šçŸ¥ é¹°çœ¼è½¨è¿¹ï¼šæ ¹æ®è¡Œè¸ªç»˜åˆ¶è½¨è¿¹ ä½ç½®æé†’ï¼šåˆ°è¾¾æŒ‡å®šä½ç½®åæé†’ã€‚ ä¸€ã€å®šä½æ–¹å¼gpså®šä½ã€wifiå®šä½ã€åŸºç«™ï¼ˆSIMå¡ï¼‰å®šä½ ç‰¹ç‚¹ï¼š1. gpså®šä½ï¼šå«æ˜Ÿå®šä½ï¼Œåˆ©ç”¨æ‰‹æœºgpsç¡¬ä»¶å®šä½ï¼Œå®ç°ç®€å•ï¼Œæ‰‹æœºæœ¬åœ°å°±èƒ½å®ç°å®šä½ï¼Œä¸éœ€è¦å’ŒæœåŠ¡ç«¯è¿›è¡Œäº¤äº’ã€‚åœ¨å®¤å†…æˆ–è€…æœ‰é®è”½ç‰©çš„åœ°ç‚¹æ— æ³•æ¥æ”¶åˆ°gpsä¿¡å·ã€‚æ­¤æ—¶åˆ©ç”¨wifiå®šä½ã€‚ gpså®šä½ç²¾åº¦å¾ˆé«˜ï¼Œå‡ ç±³åˆ°åå‡ ç±³ï¼Œä½†æ˜¯è€—ç”µä¸¥é‡ã€‚ 2. wifiå®šä½ï¼šåœ¨å®¤å¤–æ—¢èƒ½æ¥æ”¶gpsä¿¡å·ï¼Œä¹Ÿèƒ½æ¥æ”¶wifiä¿¡å·ã€‚wifiå®šä½çš„åŸç†æ˜¯ï¼Œæˆ‘ä»¬åœ¨å®¤å¤–çš„æ—¶å€™ï¼Œæ‰‹æœºèƒ½æ¥æ”¶åˆ°gpsä½ç½®ä¿¡æ¯ï¼Œä¹Ÿèƒ½æ‰«æåˆ°WiFiï¼Œå½“æ‰‹æœºæŠŠgpsä½ç½®å’ŒWiFiä¼ åˆ°åç«¯æœåŠ¡å™¨ï¼ŒWiFiå’Œgpsä½ç½®å°±å»ºç«‹äº†æ˜ å°„å…³ç³»ï¼Œå½“æ‰‹æœºåœ¨å®¤å†…æ— æ³•æ¥æ”¶åˆ°gpsæ—¶ï¼Œå´èƒ½æ‰«æWiFiï¼Œæ‰‹æœºæŠŠWiFiä¼ åˆ°æœåŠ¡å™¨æŸ¥è¯¢å‡ºå¯¹åº”çš„gpsä½ç½®ï¼Œç„¶åè¿›è¡Œè®¡ç®—å¯ä»¥å¾—åˆ°ä½ç½®ç»“æœï¼ˆç»çº¬åº¦ï¼‰ï¼Œå…¶ä¸­æ˜ å°„å’Œè®¡ç®—æ˜¯å¾ˆå¤æ‚çš„è¿‡ç¨‹ã€‚ WiFiå®šä½ç²¾åº¦ç›¸å¯¹äºgpså·®ä¸€ç‚¹ï¼Œä½†æ˜¯ä¹Ÿèƒ½åˆ°åå‡ ç±³ã€å‡ åç±³ï¼Œä¹Ÿæœ‰ä¸Šç™¾ç±³çš„è¯¯å·®çš„ï¼Œä½è€—ç”µã€‚ 3. åŸºç«™å®šä½ï¼šå½“æ‰‹æœºæ— æ³•æ‰«æåˆ°WiFiæ—¶ï¼Œåªè¦è£…äº†simå¡ï¼Œå°±èƒ½è¿æ¥ç§»åŠ¨æˆ–è”é€šç­‰åŸºç«™ï¼Œå³å¯ç”¨åŸºç«™å®šä½ï¼Œå®šä½åŸç†å’ŒWiFiå¤§è‡´ç›¸åŒã€‚åŸºç«™å®šä½éœ€è¦è£…äº†simå¡ï¼Œå¹¶ä¸”æ‰‹æœºèƒ½ä¸Šç½‘ã€‚ wifiå®šä½ä¸åŸºç«™å®šä½ç»Ÿç§°ä¸ºç½‘ç»œå®šä½ã€‚ åŸºç«™å®šä½ç²¾åº¦å¾ˆå·®ï¼Œä¸€èˆ¬éƒ½æœ‰å‡ ç™¾ç±³ï¼Œä¸Šåƒç±³çš„è¯¯å·®ã€‚ è¯¯å·®å…¶å®å’Œwifiã€åŸºç«™çš„ä¿¡å·è¦†ç›–åŠå¾„æœ‰å…³ï¼Œwifiè¦†ç›–åŠå¾„å¤§æ¦‚100må·¦å³ï¼Œè€ŒåŸºç«™çš„è¦†ç›–åŠå¾„å°±åˆ°kmçº§åˆ«äº†ã€‚ äºŒã€ç™¾åº¦åœ°å›¾é¹°çœ¼è®¤è¯è®¤è¯ä¸ä¸è®¤è¯ï¼š æƒé™åŠé…é¢è¯´æ˜ï¼š http://lbsyun.baidu.com/index.php?title=android-yingyan/guide/quota ä¸‰ã€ç™¾åº¦åœ°å›¾ é¹°çœ¼è½¨è¿¹æœåŠ¡ çš„ä½¿ç”¨ å‚è€ƒï¼šhttp://lbsyun.baidu.com/index.php?title=android-yingyan/guide/buildproject 0. å‡†å¤‡æ¡ä»¶01. è·å– è´¦å·ç§˜é’¥è´¦å·ç§˜é’¥ ï¼š http://lbsyun.baidu.com/apiconsole/key 02. åˆ›å»º é¹°çœ¼æœåŠ¡æœåŠ¡é¹°çœ¼æœåŠ¡ ï¼šhttp://lbsyun.baidu.com/trace/admin/service 1. ä¸‹è½½ç›¸å…³æ–‡ä»¶http://lbsyun.baidu.com/index.php?title=android-yingyan/sdkandev-download 2. å¯¼å…¥åº“æ–‡ä»¶ å€’åº“å‚è€ƒï¼šhttps://www.cnblogs.com/jiy-for-you/p/6093199.html æ³¨æ„ï¼šä½¿ç”¨AndroidStudio è·¯å¾„ å°†jaræ–‡ä»¶æ‹·è´åˆ°å·¥ç¨‹çš„libsç›®å½•ä¸‹ï¼Œè‹¥ä½¿ç”¨é¹°çœ¼çš„å›¾åƒå­˜å‚¨åŠŸèƒ½ï¼Œéœ€å¯¼å…¥bos-android-sdk-1.0.2.jarã€‚ æ³¨æ„ï¼šç™¾åº¦é¹°çœ¼åŒ…ä¸­æœ‰okhttpï¼Œè€Œæˆ‘çš„æœ¬åœ°é¡¹ç›®ä¸­ä¹Ÿæœ‰okhttpï¼Œæ‰€ä»¥å†²çªï¼Œæ— æ³•æ„å»ºã€‚æ­¤å¤„æ³¨æ„ä¿ç•™ä¸€å¤„å³å¯ã€‚ å¯¼å…¥soæ–‡ä»¶æ–¹å¼ï¼š 1. å°†soæ–‡ä»¶å¯¼å…¥åˆ°src/main/jniLibsç›®å½•ä¸‹ã€‚ 2. å°†soæ–‡ä»¶å¯¼å…¥åˆ°libsç›®å½•ä¸‹ã€‚ï¼Œç„¶ååœ¨build.gradleæ–‡ä»¶ä¸­æ·»åŠ ï¼š 12345sourceSets &#123; main &#123; jniLibs.srcDir &apos;libs&apos; &#125;&#125; jaråŒ…æ·»åŠ å®Œæ¯•ä¹‹åï¼Œéœ€è¦åœ¨gradleæ–‡ä»¶ä¸­è¿›è¡Œæ·»åŠ ï¼š 3. é…ç½®AndroidManifest.xmlæ–‡ä»¶3.1 å£°æ˜ä½¿ç”¨æƒé™1234567891011121314151617181920212223242526&lt;!-- è¿™ä¸ªæƒé™ç”¨äºè¿›è¡Œç½‘ç»œå®šä½--&gt; &lt;uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/&gt; &lt;!-- ç”¨äºåŠ å¿«GPSé¦–æ¬¡å®šä½--&gt; &lt;uses-permission android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS"/&gt; &lt;!-- è¿™ä¸ªæƒé™ç”¨äºè®¿é—®GPSå®šä½--&gt; &lt;uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/&gt; &lt;!-- ç”¨äºè®¿é—®wifiç½‘ç»œä¿¡æ¯ï¼Œwifiä¿¡æ¯ä¼šç”¨äºè¿›è¡Œç½‘ç»œå®šä½--&gt; &lt;uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/&gt; &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt; &lt;!-- è¿™ä¸ªæƒé™ç”¨äºè·å–wifiçš„è·å–æƒé™ï¼Œwifiä¿¡æ¯ä¼šç”¨æ¥è¿›è¡Œç½‘ç»œå®šä½--&gt; &lt;uses-permission android:name="android.permission.CHANGE_WIFI_STATE"/&gt; &lt;!-- ç”¨äºè¯»å–æ‰‹æœºå½“å‰çš„çŠ¶æ€--&gt; &lt;uses-permission android:name="android.permission.READ_PHONE_STATE"/&gt; &lt;!-- å†™å…¥æ‰©å±•å­˜å‚¨ï¼Œå‘æ‰©å±•å¡å†™å…¥æ•°æ®ï¼Œç”¨äºå†™å…¥å¯¹è±¡å­˜å‚¨BOSæ•°æ®--&gt; &lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/&gt; &lt;!-- è®¿é—®ç½‘ç»œï¼Œç½‘ç»œå®šä½éœ€è¦ä¸Šç½‘--&gt; &lt;uses-permission android:name="android.permission.INTERNET"/&gt; &lt;!-- SDå¡è¯»å–æƒé™ï¼Œç”¨äºå†™å…¥å¯¹è±¡å­˜å‚¨BOSæ•°æ®--&gt; &lt;uses-permission android:name="android.permission.MOUNT_UNMOUNT_FILESYSTEMS"/&gt; &lt;uses-permission android:name="android.permission.READ_LOGS"/&gt; &lt;uses-permission android:name="android.permission.VIBRATE"/&gt; &lt;uses-permission android:name="android.permission.WAKE_LOCK"/&gt; &lt;uses-permission android:name="android.permission.WRITE_SETTINGS"/&gt; &lt;uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/&gt; &lt;!-- ç”¨äºAndroid MåŠä»¥ä¸Šç³»ç»Ÿï¼Œç”³è¯·åŠ å…¥å¿½ç•¥ç”µæ± ä¼˜åŒ–ç™½åå•--&gt; &lt;uses-permission android:name="android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS"/&gt; 3.2 å£°æ˜&lt;service&gt;ç»„ä»¶12345&lt;service android:name="com.baidu.trace.LBSTraceService" android:enabled="true" android:exported="true" android:process=":remote" /&gt; 3.3 è®¾ç½® AccessKey1234567&lt;application â€¦â€¦ &lt;meta-data android:name=&quot;com.baidu.lbsapi.API_KEY&quot; android:value=&quot;AK&quot; /&gt; //key:å¼€å‘è€…ç”³è¯·çš„Key]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>åœ°å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯¹å·²æœ‰æ–‡å­—å¤„ç†]]></title>
    <url>%2FSpannableString%20%E5%AF%B9%E5%B7%B2%E6%9C%89%E6%96%87%E5%AD%97%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://blog.csdn.net/fan7983377/article/details/51776782å‚è€ƒï¼šhttp://www.jianshu.com/p/84067ad289d2 å…³é”®ç±»ï¼šSpannableString ä¸€ã€ä¸€ä¸ªå®ä¾‹1. æ›´æ”¹é¢œè‰²12345SpannableString mSpanStartTitle = new SpannableString("ç‚¹å‡»çº¢è‰²æŒ‰é’®å¼€å§‹å½•éŸ³");//å¤„ç† æç¤ºæ–‡å­—çš„ é¢œè‰² æ ·å¼ForegroundColorSpan colorSpan = new ForegroundColorSpan(Color.parseColor("#C62828"));mSpanStartTitle.setSpan(colorSpan, 2, 4, Spanned.SPAN_INCLUSIVE_INCLUSIVE);mNoticeStartTitle.setText(mSpanStartTitle); æ ·å¼ç»“æœ 2. æ›´æ”¹å­—ä½“å¤§å°123456789//ä»£æ“ä½œâ€¦â€¦SpannableString mSpanNoticeTitle = new SpannableString("æ­£åœ¨å½•éŸ³ä¸­â€¦â€¦" + "\n" + "ç‚¹å‡»åœæ­¢å½•éŸ³");//å¤„ç† æç¤ºæ–‡å­—çš„ å¤§å° æ ·å¼RelativeSizeSpan sizeSpan01 = new RelativeSizeSpan(0.7f);mSpanNoticeTitle.setSpan(sizeSpan01,7,mSpanNoticeTitle.length(),Spanned.SPAN_INCLUSIVE_INCLUSIVE);//å¤„ç† æç¤ºæ–‡å­—çš„ ä¸‹æ ‡ æ ·å¼SubscriptSpan subscriptSpan = new SubscriptSpan();mSpanNoticeTitle.setSpan(subscriptSpan, 7, mSpanNoticeTitle.length(), Spanned.SPAN_INCLUSIVE_EXCLUSIVE);mNoticeRecordingTitle.setText(mSpanNoticeTitle); æ ·å¼ç»“æœ äºŒã€SpannableStringSpannableStringå’ŒStringä¸€æ ·ï¼Œéƒ½æ˜¯ä¸€ç§å­—ç¬¦ä¸²ç±»å‹ï¼ŒåŒæ ·TextViewä¹Ÿå¯ä»¥ç›´æ¥è®¾ç½®SpannableStringä½œä¸ºæ˜¾ç¤ºæ–‡æœ¬ï¼Œä¸åŒçš„æ˜¯SpannableStringå¯ä»¥é€šè¿‡ä½¿ç”¨å…¶æ–¹æ³•setSpan()æ–¹æ³•å®ç°å­—ç¬¦ä¸²å„ç§å½¢å¼é£æ ¼çš„æ˜¾ç¤º,é‡è¦çš„æ˜¯å¯ä»¥æŒ‡å®šè®¾ç½®çš„åŒºé—´ï¼Œä¹Ÿå°±æ˜¯ä¸ºå­—ç¬¦ä¸²æŒ‡å®šä¸‹æ ‡åŒºé—´å†…çš„å­å­—ç¬¦ä¸²è®¾ç½®æ ¼å¼ã€‚ ä¸‰ã€SpannableStringBuilderåº”è¯¥æœ‰ä¸å°‘å¼€å‘çš„å°ä¼™ä¼´çŸ¥é“StringBuilderï¼Œå¯ä»¥ä½¿ç”¨append()æ–¹æ³•å®ç°å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œéå¸¸æ–¹ä¾¿ã€‚åŒæ ·ï¼ŒSpannableStringä¸­ä¹Ÿæœ‰SpannableStringBuilderï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å®ç°å¯¹ï¼ŒSpannableStringçš„ä¸€ä¸ªæ‹¼æ¥æ•ˆæœï¼ŒåŒæ ·æ˜¯append()æ–¹æ³•ï¼Œå¯ä»¥å®ç°å„ç§é£æ ¼æ•ˆæœçš„SpannableStringæ‹¼æ¥ï¼Œéå¸¸å®ç”¨ã€‚ å››ã€é‡è¦æ–¹æ³• - setSpan()setSpan(Object what, int start, int end, int flags) what ï¼šè®¾ç½®çš„æ ¼å¼æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥æ˜¯å‰æ™¯è‰²ã€èƒŒæ™¯è‰²ä¹Ÿå¯ä»¥æ˜¯å¯ç‚¹å‡»çš„æ–‡æœ¬ç­‰ç­‰ï¼›startè¡¨ç¤ºéœ€è¦è®¾ç½®æ ¼å¼çš„å­å­—ç¬¦ä¸²çš„èµ·å§‹ä¸‹æ ‡endè¡¨ç¤ºç»ˆäº†ä¸‹æ ‡flagså±æ€§å°±æœ‰æ„æ€äº†ï¼Œå…±æœ‰å››ç§å±æ€§ï¼š Spanned.SPAN_INCLUSIVE_EXCLUSIVE ä»èµ·å§‹ä¸‹æ ‡åˆ°ç»ˆäº†ä¸‹æ ‡ï¼ŒåŒ…æ‹¬èµ·å§‹ä¸‹æ ‡ Spanned.SPAN_INCLUSIVE_INCLUSIVE ä»èµ·å§‹ä¸‹æ ‡åˆ°ç»ˆäº†ä¸‹æ ‡ï¼ŒåŒæ—¶åŒ…æ‹¬èµ·å§‹ä¸‹æ ‡å’Œç»ˆäº†ä¸‹æ ‡ Spanned.SPAN_EXCLUSIVE_EXCLUSIVE ä»èµ·å§‹ä¸‹æ ‡åˆ°ç»ˆäº†ä¸‹æ ‡ï¼Œä½†éƒ½ä¸åŒ…æ‹¬èµ·å§‹ä¸‹æ ‡å’Œç»ˆäº†ä¸‹æ ‡ Spanned.SPAN_EXCLUSIVE_INCLUSIVE ä»èµ·å§‹ä¸‹æ ‡åˆ°ç»ˆäº†ä¸‹æ ‡ï¼ŒåŒ…æ‹¬ç»ˆäº†ä¸‹æ ‡ äº”ã€Spanå¸¸ç”¨æ ¼å¼1. ForegroundColorSpanï¼Œä¸ºæ–‡æœ¬è®¾ç½®å‰æ™¯è‰²ï¼Œæ•ˆæœå’ŒTextViewçš„setTextColor()ç±»ä¼¼2. BackgroundColorSpanï¼Œä¸ºæ–‡æœ¬è®¾ç½®èƒŒæ™¯è‰²ï¼Œæ•ˆæœå’ŒTextViewçš„setBackground()ç±»3. RelativeSizeSpanï¼Œè®¾ç½®æ–‡å­—ç›¸å¯¹å¤§å°ï¼Œåœ¨TextViewåŸæœ‰çš„æ–‡å­—å¤§å°çš„åŸºç¡€ä¸Šï¼Œç›¸å¯¹è®¾ç½®æ–‡å­—å¤§å°SpannableString spannableString = new SpannableString(&quot;ä¸‡ä¸ˆé«˜æ¥¼å¹³åœ°èµ·&quot;); RelativeSizeSpan sizeSpan04 = new RelativeSizeSpan(1.8f); spannableString.setSpan(sizeSpan04, 3, 4, Spanned.SPAN_INCLUSIVE_EXCLUSIVE); textView.setText(spannableString); 4. StrikethroughSpanï¼Œä¸ºæ–‡æœ¬è®¾ç½®ä¸­åˆ’çº¿ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„åˆ é™¤çº¿SpannableString spannableString = new SpannableString(&quot;ä¸ºæ–‡å­—è®¾ç½®åˆ é™¤çº¿&quot;); StrikethroughSpan strikethroughSpan = new StrikethroughSpan(); spannableString.setSpan(strikethroughSpan, 5, spannableString.length(), Spanned.SPAN_INCLUSIVE_EXCLUSIVE); textView.setText(spannableString); 5. UnderlineSpanï¼Œä¸ºæ–‡æœ¬è®¾ç½®ä¸‹åˆ’çº¿ï¼Œå…·ä½“å®ç°æ–¹æ³•å¦‚ä¸‹ï¼šSpannableString spannableString = new SpannableString(&quot;ä¸ºæ–‡å­—è®¾ç½®ä¸‹åˆ’çº¿&quot;); UnderlineSpan underlineSpan = new UnderlineSpan(); spannableString.setSpan(underlineSpan, 5, spannableString.length(), Spanned.SPAN_INCLUSIVE_EXCLUSIVE); textView.setText(spannableString); 6. SuperscriptSpanï¼Œè®¾ç½®ä¸Šæ ‡ï¼Œå…·ä½“å®ç°æ–¹æ³•å¦‚ä¸‹ï¼šSpannableString spannableString = new SpannableString(&quot;ä¸ºæ–‡å­—è®¾ç½®ä¸Šæ ‡&quot;); SuperscriptSpan superscriptSpan = new SuperscriptSpan(); spannableString.setSpan(superscriptSpan, 5, spannableString.length(), Spanned.SPAN_INCLUSIVE_EXCLUSIVE); textView.setText(spannableString); 7. SubscriptSpanï¼Œè®¾ç½®ä¸‹æ ‡ï¼Œå…·ä½“å®ç°æ–¹æ³•å¦‚ä¸‹ï¼šSpannableString spannableString = new SpannableString(&quot;ä¸ºæ–‡å­—è®¾ç½®ä¸‹æ ‡&quot;); SubscriptSpan subscriptSpan = new SubscriptSpan(); spannableString.setSpan(subscriptSpan, 5, spannableString.length(), Spanned.SPAN_INCLUSIVE_EXCLUSIVE); textView.setText(spannableString); #### 8. StyleSpanï¼Œä¸ºæ–‡å­—è®¾ç½®é£æ ¼ï¼ˆç²—ä½“ã€æ–œä½“ï¼‰ï¼Œå’ŒTextViewå±æ€§textStyleç±»ä¼¼ï¼Œå®ç°æ–¹æ³•å¦‚ä¸‹ï¼š 8. SpannableString spannableString = new SpannableString(â€œä¸ºæ–‡å­—è®¾ç½®ç²—ä½“ã€æ–œä½“é£æ ¼â€);StyleSpan styleSpan_B = new StyleSpan(Typeface.BOLD); StyleSpan styleSpan_I = new StyleSpan(Typeface.ITALIC); spannableString.setSpan(styleSpan_B, 5, 7, Spanned.SPAN_INCLUSIVE_EXCLUSIVE); spannableString.setSpan(styleSpan_I, 8, 10, Spanned.SPAN_INCLUSIVE_EXCLUSIVE); textView.setHighlightColor(Color.parseColor(&quot;#36969696&quot;)); textView.setText(spannableString); 9. ImageSpanï¼Œè®¾ç½®æ–‡æœ¬å›¾ç‰‡SpannableString spannableString = new SpannableString(&quot;åœ¨æ–‡æœ¬ä¸­æ·»åŠ è¡¨æƒ…ï¼ˆè¡¨æƒ…ï¼‰&quot;); Drawable drawable = getResources().getDrawable(R.mipmap.a9c); drawable.setBounds(0, 0, 42, 42); ImageSpan imageSpan = new ImageSpan(drawable); spannableString.setSpan(imageSpan, 6, 8, Spanned.SPAN_INCLUSIVE_EXCLUSIVE); textView.setText(spannableString); 10. ClickableSpanï¼Œè®¾ç½®å¯ç‚¹å‡»çš„æ–‡æœ¬ï¼Œè®¾ç½®è¿™ä¸ªå±æ€§çš„æ–‡æœ¬å¯ä»¥ç›¸åº”ç”¨æˆ·ç‚¹å‡»äº‹ä»¶ï¼Œè‡³äºç‚¹å‡»äº‹ä»¶ç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰æ³¨æ„ï¼š ä½¿ç”¨ClickableSpançš„æ–‡æœ¬å¦‚æœæƒ³çœŸæ­£å®ç°ç‚¹å‡»ä½œç”¨ï¼Œå¿…é¡»ä¸ºTextViewè®¾ç½®setMovementMethod()æ–¹æ³•ï¼Œå¦åˆ™æ²¡æœ‰ç‚¹å‡»ç›¸åº”ï¼Œè‡³äºsetHighlightColoræ–¹æ³•åˆ™æ˜¯æ§åˆ¶ç‚¹å‡»æ˜¯çš„èƒŒæ™¯è‰²ã€‚ SpannableString spannableString = new SpannableString(&quot;ä¸ºæ–‡å­—è®¾ç½®ç‚¹å‡»äº‹ä»¶&quot;); MyClickableSpan clickableSpan = new MyClickableSpan(&quot;http://www.jianshu.com/users/dbae9ac95c78&quot;); spannableString.setSpan(clickableSpan, 5, spannableString.length(), Spanned.SPAN_INCLUSIVE_EXCLUSIVE); textView.setMovementMethod(LinkMovementMethod.getInstance()); textView.setHighlightColor(Color.parseColor(&quot;#36969696&quot;)); textView.setText(spannableString); // è‡ªå®šä¹‰ç‚¹å‡»äº‹ä»¶ class MyClickableSpan extends ClickableSpan { private String content; public MyClickableSpan(String content) { this.content = content; } @Override public void updateDrawState(TextPaint ds) { ds.setUnderlineText(false); } @Override public void onClick(View widget) { Intent intent = new Intent(MainActivity.this, OtherActivity.class); Bundle bundle = new Bundle(); bundle.putString(&quot;content&quot;, content); intent.putExtra(&quot;bundle&quot;, bundle); startActivity(intent); } } 11. URLSpanï¼Œè®¾ç½®è¶…é“¾æ¥æ–‡æœ¬URLSpanå°±æ˜¯ç»§æ‰¿è‡ªClickableSpanï¼Œå°±æ˜¯é‡å†™äº†çˆ¶ç±»çš„onClickäº‹ä»¶ï¼Œç”¨ç³»ç»Ÿè‡ªå¸¦æµè§ˆå™¨æ‰“å¼€é“¾æ¥ã€‚ SpannableString spannableString = new SpannableString(&quot;ä¸ºæ–‡å­—è®¾ç½®è¶…é“¾æ¥&quot;); URLSpan urlSpan = new URLSpan(&quot;http://www.jianshu.com/users/dbae9ac95c78&quot;); spannableString.setSpan(urlSpan, 5, spannableString.length(), Spanned.SPAN_INCLUSIVE_EXCLUSIVE); textView.setMovementMethod(LinkMovementMethod.getInstance()); textView.setHighlightColor(Color.parseColor(&quot;#36969696&quot;)); textView.setText(spannableString);]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æ–‡å­—å¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜å¥]]></title>
    <url>%2F%E6%91%98%E5%8F%A5%2F</url>
    <content type="text"><![CDATA[1å°†æƒ³æ³•ä»˜è¯¸äºå®è·µï¼Œå€Ÿæ­¤æ¥å½±å“ä»–äººæ˜¯ä¸€ä¸ªäººå­˜åœ¨çš„çœŸæ­£ä»·å€¼ã€‚ 2 3å¤±è´¥æ˜¯ä»€ä¹ˆï¼Ÿæ²¡æœ‰ä»€ä¹ˆï¼Œåªæ˜¯æ›´èµ°è¿‘æˆåŠŸä¸€æ­¥ï¼›æˆåŠŸæ˜¯ä»€ä¹ˆï¼Ÿå°±æ˜¯èµ°è¿‡äº†æ‰€æœ‰é€šå‘å¤±è´¥çš„è·¯ï¼Œåªå‰©ä¸‹ä¸€æ¡è·¯ï¼Œé‚£å°±æ˜¯æˆåŠŸçš„è·¯ã€‚ 4æ¯å½“ä½ åœ¨æ„Ÿå¹ å¦‚æœæœ‰è¿™æ ·ä¸€ä¸ªä¸œè¥¿å°±å¥½äº†çš„æ—¶å€™ è¯·æ³¨æ„ å…¶å®è¿™æ˜¯ä½ çš„æœºä¼š 5ç›®æ ‡èµ‹äºˆæˆ‘ä»¬ç”Ÿå‘½çš„æ„ä¹‰å’Œç›®çš„ã€‚æœ‰äº†ç›®æ ‡ï¼Œæˆ‘ä»¬æ‰ä¼šæŠŠæ³¨æ„åŠ›é›†ä¸­åœ¨è¿½æ±‚å–œæ‚¦ï¼Œè€Œä¸æ˜¯åœ¨é¿å…ç—›è‹¦ä¸Šã€‚ 6æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æ´»å¾—å¾ˆç´¯ï¼Œå¹¶éç”Ÿæ´»è¿‡äºåˆ»è–„ï¼Œè€Œæ˜¯æˆ‘ä»¬å¤ªå®¹æ˜“è¢«å¤–ç•Œçš„æ°›å›´æ‰€æ„ŸæŸ“ï¼Œè¢«ä»–äººçš„æƒ…ç»ªæ‰€å·¦å³ã€‚è¡Œèµ°åœ¨äººç¾¤ä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯æ„Ÿè§‰æœ‰æ— æ•°ç©¿å¿ƒæ è‚ºçš„ç›®å…‰ï¼Œæœ‰å¾ˆå¤šé£çŸ­æµé•¿çš„å†·è¨€ï¼Œæœ€ç»ˆä¹±äº†å¿ƒç¥ï¼Œæ¸æ¸è¢«ç¼šäºè‡ªå·±ç¼–ç»‡çš„ä¸€å›¢ä¹±éº»ä¸­ã€‚ 7 8ç”Ÿæ´»çš„æ‚²æ¬¢ç¦»åˆæ°¸è¿œåœ¨åœ°å¹³çº¿ä»¥å¤–ï¼Œè€Œçœºæœ›æ˜¯ä¸€ç§é’æ˜¥çš„å§¿æ€â€¦]]></content>
      <categories>
        <category>æ‘˜å¥</category>
      </categories>
      <tags>
        <tag>æ‘˜å¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼ - ç”Ÿæˆå™¨(Builder)æ¨¡å¼]]></title>
    <url>%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E5%BB%BA%E9%80%A0%E8%80%85(Builder)%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ä¸€ä¸ªå»ºé€ è€…ï¼ˆBuilderï¼‰æ¨¡å¼çš„éª¨æ¶1. åº”ç”¨åœºæ™¯ï¼šæ˜¯ç”¨äºæ„å»ºå¤æ‚å¯¹è±¡çš„ä¸€ç§æ¨¡å¼ã€‚ä¸€ä¸ªç±»æ‹¥æœ‰å¤šä¸ªæ„é€ å‡½æ•°ã€‚ 2. å»ºé€ è€…æ¨¡å¼è¦ç‚¹: åœ¨ç›®æ ‡ç±»ä¸­æœ‰ä¸€ä¸ªé™æ€ç±»Builder ç›®æ ‡ç±»ä¸é™æ€ç±»Builderæ‹¥æœ‰åŒæ ·çš„å˜é‡ 3. éª¨æ¶1234567891011121314151617181920212223242526272829303132333435363738public class Person &#123; /* å£°æ˜å˜é‡ */ String name; String address; int age; int sex; String job; int phoneNumber; int QQNumber; /** * æ„é€ å‡½æ•°ç§æœ‰åŒ– */ private Person()&#123; &#125; /** * å£°æ˜ä¸€ä¸ª é™æ€ç±» Builder */ public static class Builder &#123; /* å£°æ˜åŒ personç±» ä¸€æ ·çš„å˜é‡ */ String name; String address; int age; int sex; String job; int phoneNumber; int QQNumber; &#125;&#125; 4. ä¸€ä¸ªå®Œæ•´å«æœ‰å»ºé€ è€…ï¼ˆBuilderï¼‰æ¨¡å¼çš„ç±»æ­¤æ¨¡å¼çš„ä¸»è¦å®ç°æ˜¯åœ¨â€éª¨æ¶â€çš„åŸºç¡€ä¸Šè¿›è¡Œå¡«å……ã€‚ 4.1 å®ç°å…³é”® - 1 ï¼šç±»çš„ç§æœ‰æ„å»ºæ–¹æ³•1234private Person(Builder builder)&#123; //Â·Â·Â· this.sex = builder.sex; &#125; 4.2 å®ç°å…³é”® - 2 ï¼šé™æ€ç±»Builderä¸­çš„æ–¹æ³•è¿”å›å€¼ + build()æ–¹æ³•ã€‚12345678910111213public static class Builder &#123; //Â·Â·Â· public Builder name(String name)&#123; this.name = name; return this; &#125; public Person build()&#123; return new Person(this); &#125;&#125; 4.3 å®Œæ•´çš„å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160public class Person &#123; /* å£°æ˜å˜é‡ */ String name; String address; int age; int sex; String job; int phoneNumber; int QQNumber; /** * æ„é€ å‡½æ•°ç§æœ‰åŒ–ï¼Œé€šè¿‡è¿™ä¸€ç‚¹ç¡®ä¿ä½¿ç”¨ Builder å®ç°åŠ¨æ€æ„å»ºï¼ˆç»„åˆå®ç°ï¼‰å½“å‰ç±»çš„å®ä¾‹åŒ–ã€‚ */ private Person(Builder builder)&#123; this.address = builder.address; this.age = builder.age; this.job = builder.job; this.name = builder.name; this.phoneNumber = builder.phoneNumber; this.QQNumber = builder.QQNumber; this.sex = builder.sex; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getAddress() &#123; return address; &#125; public void setAddress(String address) &#123; this.address = address; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125; public int getSex() &#123; return sex; &#125; public void setSex(int sex) &#123; this.sex = sex; &#125; public String getJob() &#123; return job; &#125; public void setJob(String job) &#123; this.job = job; &#125; public int getPhoneNumber() &#123; return phoneNumber; &#125; public void setPhoneNumber(int phoneNumber) &#123; this.phoneNumber = phoneNumber; &#125; public int getQQNumber() &#123; return QQNumber; &#125; public void setQQNumber(int QQNumber) &#123; this.QQNumber = QQNumber; &#125; @Override public String toString() &#123; return "Person&#123;" + "name='" + name + '\'' + ", address='" + address + '\'' + ", age=" + age + ", sex=" + sex + ", job='" + job + '\'' + ", phoneNumber=" + phoneNumber + ", QQNumber=" + QQNumber + '&#125;'; &#125; /** * å£°æ˜ä¸€ä¸ª é™æ€ç±» Builder * * é€šè¿‡è¿™ä¸ªBuilderç±»ï¼ŒåŠ¨æ€çš„æ„å»ºï¼ˆç»„åˆå®ç°ï¼‰å½“å‰å¯¹è±¡çš„å„ä¸ªå±æ€§ã€‚ * ç‰¹ç‚¹ï¼š * ä¸éœ€è¦ç¼–å†™å¤šä¸ªæ„é€ å‡½æ•°ã€‚ */ public static class Builder &#123; /* å£°æ˜åŒ personç±» ä¸€æ ·çš„å˜é‡ */ String name; String address; int age; int sex; String job; int phoneNumber; int QQNumber; public Builder name(String name)&#123; this.name = name; return this; &#125; public Builder address(String address)&#123; this.address = address; return this; &#125; public Builder age(int age)&#123; this.age = age; return this; &#125; public Builder sex(int sex)&#123; this.sex = sex; return this; &#125; public Builder job(String job)&#123; this.job = job; return this; &#125; public Builder phoneNumber(int phoneNumber)&#123; this.phoneNumber = phoneNumber; return this; &#125; public Builder QQNumber(int QQNumber)&#123; this.QQNumber = QQNumber; return this; &#125; /** * è¿”å›æœ¬ç±»çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œæ­¤æ–¹æ³•ä¹ŸçœŸæ­£å®ç°å½“å‰ç±»çš„å®ä¾‹åŒ–ã€‚ * @return å½“å‰å¯¹è±¡ */ public Person build()&#123; return new Person(this); &#125; &#125;&#125; 5. ä½¿ç”¨å»ºé€ è€…ï¼ˆBuilderï¼‰æ¨¡å¼1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public class MainPerson &#123; public static void main(String[] aegs)&#123; // æ„é€ æ–¹å¼1 Person person = new Person.Builder() .name("å¼ ä¸‰") .sex(1) .age(24) .build(); System.out.println(person.toString()); // æ„é€ æ–¹å¼2 Person person2 = new Person.Builder() .name("æ—ºæ—º") .sex(1) .age(12) .address("å¹¿ä¸œ") .phoneNumber(122343423) .build(); System.out.println(person2.toString()); // æ„é€ æ–¹å¼3 Person person3 = new Person.Builder() .name("åˆ˜è´¤") .sex(0) .age(72) .address("HK") .phoneNumber(8989345) .QQNumber(11112232) .job("å¸æœº") .build(); System.out.println(person3.toString()); // æ„é€ æ–¹å¼4 Person person4 = new Person.Builder() .name("å¼ å€©") .sex(0) .age(22) .address("JP") .phoneNumber(0220330) .QQNumber(1233424) .job("Student") .build(); System.out.println(person4.toString()); &#125; /** * Person&#123;name='å¼ ä¸‰', address='null', age=24, sex=1, job='null', phoneNumber=0, QQNumber=0&#125; Person&#123;name='æ—ºæ—º', address='å¹¿ä¸œ', age=12, sex=1, job='null', phoneNumber=122343423, QQNumber=0&#125; Person&#123;name='åˆ˜è´¤', address='HK', age=72, sex=0, job='å¸æœº', phoneNumber=8989345, QQNumber=11112232&#125; Person&#123;name='å¼ å€©', address='JP', age=22, sex=0, job='Student', phoneNumber=73944, QQNumber=1233424&#125; */&#125;]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰View-8 TypedArray]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89View-8%20TypedArray%2F</url>
    <content type="text"><![CDATA[è‡ªå®šä¹‰Viewä¸­çš„ attrs.xml æ–‡ä»¶è®¾ç½® 1. æ–‡ä»¶ä½ç½®ï¼š 2. æ–‡ä»¶å†…å®¹ï¼ˆä»…ä¾›å‚è€ƒï¼‰ï¼š1234567891011&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;resources&gt; &lt;declare-styleable name="MyViewGroup"&gt; &lt;attr name="textOneTitle" format="string"/&gt; &lt;attr name="textOneSize" format="integer"/&gt; &lt;attr name="imageSrc" format="reference"/&gt; &lt;attr name="textTwoTitle" format="string"/&gt; &lt;attr name="textTwoSize" format="integer"/&gt; &lt;attr name="textOneVisible" format="boolean"/&gt; &lt;/declare-styleable&gt;&lt;/resources&gt; 3. å±æ€§æ–‡ä»¶ä¸­å‚æ•°å±æ€§çš„åˆ†ç±»ï¼š 4. attrs.xml æ–‡ä»¶ä¸­ format å–å€¼ç±»å‹1. referenceï¼šå‚è€ƒæŸä¸€èµ„æºIDã€‚ å±æ€§çš„å®šä¹‰ 1&lt;attr name="imageSrc" format="reference"/&gt; å±æ€§çš„ä½¿ç”¨ 1cwj:imageSrc="@drawable/maps" åœ¨javaä¸­è·å–æ•°å€¼ï¼ˆ2ç§æ–¹å¼ï¼‰ 12345Drawable imgSrc = array.getDrawable(R.styleable.MyViewGroup_imageSrc);mImageView.setBackground(imgSrc);int imgSrc = array.getResourceId(R.styleable.MyViewGroup_imageSrc,R.drawable.ic_launcher_background);mImageView.setBackgroundResource(imgSrc); 2. colorï¼šé¢œè‰²å€¼ã€‚ å±æ€§çš„å®šä¹‰ 1&lt;attr name="textOneColor" format="color"/&gt; å±æ€§çš„ä½¿ç”¨ 1cwj:textOneColor="#ff0000" åœ¨javaä¸­è·å– 123int textOneColor = array.getColor(R.styleable.MyViewGroup_textOneColor, Color.BLACK);mTextView2.setTextColor(textOneColor); 3. booleanï¼šå¸ƒå°”å€¼ã€‚ å±æ€§çš„å®šä¹‰ 1&lt;attr name="textOneVisible" format="boolean"/&gt; å±æ€§çš„ä½¿ç”¨ 1cwj:textOneVisible="false" åœ¨javaä¸­è·å– 1234567boolean oneIsShow = array.getBoolean(R.styleable.MyViewGroup_textOneVisible,true);if (oneIsShow) &#123; mTextView1.setVisibility(VISIBLE);&#125; else &#123; mTextView1.setVisibility(INVISIBLE);&#125; 4. dimensionï¼šå°ºå¯¸å€¼ã€‚ å±æ€§çš„å®šä¹‰ 1&lt;attr name="textOneSize" format="dimension"/&gt; å±æ€§çš„ä½¿ç”¨ 1cwj:textTwoSize="@dimen/textOneSize2" åœ¨javaä¸­è·å– 123float textOneSize = array.getDimension(R.styleable.MyViewGroup_textOneSize,10);mTextView1.setTextSize(textOneSize); 5. floatï¼šæµ®ç‚¹å€¼ã€‚ å±æ€§çš„å®šä¹‰ 1&lt;attr name = "fromAlpha" format = "float" /&gt; å±æ€§çš„ä½¿ç”¨ 1android:fromAlpha = "1.0" 6. integerï¼šæ•´å‹å€¼ã€‚ å±æ€§çš„å®šä¹‰ 1&lt;attr name = "frameDuration" format="integer" /&gt; å±æ€§çš„ä½¿ç”¨ 1android:frameDuration = "100" 7. stringï¼šå­—ç¬¦ä¸²ã€‚ å±æ€§çš„å®šä¹‰ 1&lt;attr name="textOneTitle" format="string"/&gt; å±æ€§çš„ä½¿ç”¨ 1cwj:textOneTitle="å¤§æ ‡é¢˜" åœ¨javaä¸­ä½¿ç”¨ 123String textOneTitle = array.getString(R.styleable.MyViewGroup_textOneTitle);mTextView1.setText(textOneTitle); 8. fractionï¼šç™¾åˆ†æ•°ã€‚ å±æ€§çš„å®šä¹‰ 1&lt;attr name = "pivotY" format = "fraction" /&gt; å±æ€§çš„ä½¿ç”¨ 1android:pivotY = "300%" 9. enumï¼šæšä¸¾å€¼ã€‚ å±æ€§çš„å®šä¹‰ 1234&lt;attr name="textTwoGravity"&gt; &lt;enum name="top" value="1"/&gt; &lt;enum name="center" value="2"/&gt;&lt;/attr&gt; å±æ€§çš„ä½¿ç”¨ 1cwj:textTwoGravity="top" åœ¨javaä¸­è·å– 1234567int gracityIndex = array.getInt(R.styleable.MyViewGroup_textTwoGravity, Gravity.CENTER);if (gracityIndex == 1) &#123; mTextView2.setGravity(Gravity.TOP);&#125; else if (gracityIndex == 2) &#123; mTextView2.setGravity(Gravity.CENTER);&#125; 10. flagï¼šä½æˆ–è¿ç®—ã€‚ å±æ€§çš„å®šä¹‰ 123456789101112&lt;attr name="windowSoftInputMode"&gt; &lt;flag name = "stateUnspecified" value = "0" /&gt; &lt;flag name = "stateUnchanged" value = "1" /&gt; &lt;flag name = "stateHidden" value = "2" /&gt; &lt;flag name = "stateAlwaysHidden" value = "3" /&gt; &lt;flag name = "stateVisible" value = "4" /&gt; &lt;flag name = "stateAlwaysVisible" value = "5" /&gt; &lt;flag name = "adjustUnspecified" value = "0x00" /&gt; &lt;flag name = "adjustResize" value = "0x10" /&gt; &lt;flag name = "adjustPan" value = "0x20" /&gt; &lt;flag name = "adjustNothing" value = "0x30" /&gt; &lt;/attr&gt; å±æ€§çš„ä½¿ç”¨ 1android:windowSoftInputMode = "stateUnspecified | stateUnchanged | stateHidden" å…¶ä»– - ç»„åˆå±æ€§è®¾ç½®ï¼š å±æ€§çš„å®šä¹‰ 1&lt;attr name = "background" format = "reference|color" /&gt; å±æ€§çš„ä½¿ç”¨ 1android:background = "@drawable/å›¾ç‰‡ID|#00FF00"]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰View-7 ViewGroup]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89View-7%20ViewGroup%2F</url>
    <content type="text"><![CDATA[è¿™æ¬¡æè¿°çš„æ˜¯è‡ªå®šä¹‰ViewGroupï¼Œè¿™å…¶ä¸­æ—¢åŒ…æ‹¬å®Œå…¨è‡ªå®šä¹‰ViewGroupå’Œç»„åˆViewGroupã€‚ è‡ªå®šä¹‰ç»„åˆViewGroup1. åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ViewGroupçš„xmlæ–‡ä»¶1234567891011121314151617181920212223242526272829303132333435363738&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;com.zhy.autolayout.AutoRelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" android:id="@+id/item_single_view" android:layout_width="match_parent" android:layout_height="210px" android:background="@color/login_txt" android:gravity="center"&gt; &lt;ImageView android:id="@+id/item_single_iv" android:layout_width="50px" android:layout_height="50px" android:layout_centerHorizontal="true" android:layout_marginTop="6px" android:src="@drawable/ic_launcher"/&gt; &lt;TextView android:id="@+id/item_single_tv_title" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_below="@+id/item_single_iv" android:layout_marginTop="16px" android:gravity="center_horizontal" android:text="ä¿¡æ¯" android:textColor="@color/button_text_color"/&gt; &lt;TextView android:id="@+id/item_single_tv_val" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_below="@id/item_single_tv_title" android:layout_marginTop="10px" android:gravity="center_horizontal" android:text="1223" android:textColor="@color/button_text_color"/&gt;&lt;/com.zhy.autolayout.AutoRelativeLayout&gt; 2. åˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ªViewGroupçš„è‡ªå®šä¹‰ç±»ã€‚2.1 ä¸€ä¸ªåŸå§‹çš„è‡ªå®šä¹‰ç±»ï¼š123456789101112131415public class MyViewGroup extends LinearLayout &#123; public MyViewGroup(Context context) &#123; super(context); &#125; public MyViewGroup(Context context, @Nullable AttributeSet attrs) &#123; super(context, attrs); &#125; public MyViewGroup(Context context, @Nullable AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); &#125;&#125; 2.2 å¯¹è‡ªå®šä¹‰ç»„åˆæ§ä»¶ä¸­çš„å­æ§ä»¶è¿›è¡Œå±æ€§è®¾ç½®ä½¿ç”¨åˆ°çš„ç±»ï¼š TypedArray ä½¿ç”¨çš„æ–‡ä»¶ï¼š attrs.xml æ–‡ä»¶ æ³¨æ„ï¼š å±æ€§çš„åˆå§‹åŒ–åº”è¯¥æ”¾åœ¨ç›¸åº”çš„æ„é€ å‡½æ•°ä¸­ï¼Œä¾‹å¦‚æœ¬è‡ªå®šä¹‰ViewGroupä¸­çš„æ„é€ è¿‡ç¨‹åº”è¯¥å†™åœ¨ç¬¬äºŒä¸ªæ„é€ å‡½æ•°ä¸­ï¼Œå†™åœ¨ç¬¬ä¸‰ä¸ªæ„é€ å‡½æ•°ä¸­åœ¨ä½¿ç”¨æ—¶åˆ™ä¸ä¼šæ˜¾ç¤ºã€‚ åœ¨è·å–Layoutå¸ƒå±€æ–‡ä»¶æ—¶ï¼Œæ³¨æ„å‚æ•°çš„è®¾ç½®ï¼š View view = LayoutInflater.from(context).inflate(R.layout.my_view_group_layout,this,true); æœ‰æ—¶ï¼Œæ­¤å¤„å‚æ•°è®¾ç½®å‡ºé”™ï¼Œè‡ªå®šä¹‰viewçš„æ§ä»¶å°†ä¸ä¼šæ˜¾ç¤ºã€‚ æ­¤æ­¥ç¼–å†™çš„æ­¥éª¤ä¸ºï¼š è·å–Layoutå¸ƒå±€æ–‡ä»¶ å£°æ˜ Layoutå¸ƒå±€æ–‡ä»¶ä¸­çš„å­æ§ä»¶ é€šè¿‡ TypedArray è·å– å­æ§ä»¶ ä¸­çš„å±æ€§å€¼ ä¸ºå„ä¸ªå­æ§ä»¶è®¾ç½®å‚æ•°å€¼ å®ä¾‹ä¸ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106public class MyViewGroup extends LinearLayout &#123; private static final String TAG = "MyViewGroup"; /* 2- å£°æ˜ xmlæ–‡ä»¶ç”¨åˆ°çš„ æ§ä»¶ */ TextView mTextView1,mTextView2; ImageView mImageView; public MyViewGroup(Context context) &#123; super(context); &#125; public MyViewGroup(Context context, @Nullable AttributeSet attrs) &#123; super(context, attrs); // 1 - è·å–è‡ªå®šä¹‰çš„ xmlæ–‡ä»¶ View view = LayoutInflater.from(context).inflate(R.layout.my_view_group_layout,this,true); // 3 - findViewById mTextView1 = view.findViewById(R.id.one_tv); mTextView2 = view.findViewById(R.id.two_tv); mImageView = view.findViewById(R.id.image); // 4 - é€šè¿‡ TypedArray è·å– attrsæ–‡ä»¶ä¸­çš„å±æ€§å€¼ @SuppressLint("Recycle") TypedArray array = context.obtainStyledAttributes(attrs,R.styleable.MyViewGroup); if (array != null) &#123; String textOneTitle = array.getString(R.styleable.MyViewGroup_textOneTitle); float textOneSize = array.getDimension(R.styleable.MyViewGroup_textOneSize,10); String textTwoTitle = array.getString(R.styleable.MyViewGroup_textTwoTitle); float textTwoSize = array.getDimension(R.styleable.MyViewGroup_textTwoSize,10); //ä¸¤ç§æ–¹å¼å‡å¯ Drawable imgSrc = array.getDrawable(R.styleable.MyViewGroup_imageSrc); //int imgSrc = array.getResourceId(R.styleable.MyViewGroup_imageSrc,R.drawable.ic_launcher_background); boolean oneIsShow = array.getBoolean(R.styleable.MyViewGroup_textOneVisible,true); int textOneColor = array.getColor(R.styleable.MyViewGroup_textOneColor, Color.BLACK); int gracityIndex = array.getInt(R.styleable.MyViewGroup_textTwoGravity, Gravity.CENTER); array.recycle(); Log.e(TAG, "ãƒ½(ï½€Ğ”Â´)ï¾‰ -&gt; MyViewGroup textOneTitle : " + textOneTitle + ", textOneSize : "+ textOneSize + ", textTwoTitle : " + textTwoTitle + ", textTwoSize : " + textTwoSize); // 5 - ä¸ºæ§ä»¶ä¸­çš„å„ä¸ªæ§ä»¶è®¾ç½®å‚æ•°å€¼ mTextView1.setText(textOneTitle); mTextView2.setText(textTwoTitle); mTextView1.setTextSize(textOneSize); mTextView2.setTextSize(textTwoSize); mTextView2.setTextColor(textOneColor); //æ§åˆ¶å­æ§ä»¶çš„æ˜¾éšæ€§ if (oneIsShow) &#123; mTextView1.setVisibility(VISIBLE); &#125; else &#123; mTextView1.setVisibility(INVISIBLE); &#125; //è®¾ç½®è‡ªå®šä¹‰å›¾ç‰‡çš„ä¸¤ç§æ–¹å¼ mImageView.setBackground(imgSrc); //mImageView.setBackgroundResource(imgSrc); if (gracityIndex == 1) &#123; mTextView2.setGravity(Gravity.TOP); &#125; else if (gracityIndex == 2) &#123; mTextView2.setGravity(Gravity.CENTER); &#125; &#125; &#125; public MyViewGroup(Context context, @Nullable AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); &#125; public void setImageView(Drawable imageViewId) &#123; mImageView.setBackground(imageViewId); &#125; public void setTextView1(String textView1Title) &#123; mTextView1.setText(textView1Title); &#125; public void setTextView2(String textView2Title) &#123; mTextView2.setText(textView2Title); &#125; public void setTextView1Size(int textView1Val) &#123; mTextView1.setTextSize(textView1Val); &#125; public void setTextView2Size(int textView2Val) &#123; mTextView2.setTextSize(textView2Val); &#125; public void setTextView2Gravity(String gravity) &#123; if ("top".equals(gravity)) &#123; mTextView2.setGravity(Gravity.TOP); &#125; else if ("center".equals(gravity)) &#123; mTextView2.setGravity(Gravity.CENTER); &#125; &#125;&#125; 3.1 åœ¨ç›¸åº”çš„xmlæ–‡ä»¶ä¸­è°ƒç”¨è‡ªå®šä¹‰çš„ViewGroupç±»ï¼Œå®ç°å¯¹æ­¤ç±»çš„è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œè¦æƒ³ä½¿ç”¨è‡ªå®šä¹‰viewçš„å±æ€§è¿›è¡Œæ•°å€¼çš„è®¾ç½®ï¼Œé¦–å…ˆè¦å£°æ˜å‘½åç©ºé—´ï¼š xmlns:cwj=&quot;http://schemas.android.com/apk/res-auto&quot; å®é™…ä¾‹å­ï¼š 1234567891011121314151617181920&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:cwj="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent" tools:context="com.yannischeng.custom_view.view_group.MyViewGroupActivity" android:orientation="vertical"&gt; &lt;com.yannischeng.custom_view.view_group.MyViewGroup cwj:textOneSize="@dimen/textOneSize1" cwj:textOneTitle="å¤§æ ‡é¢˜" cwj:textTwoSize="@dimen/textOneSize2" cwj:textTwoTitle="å…·ä½“çš„è¯¦ç»†ä¿¡æ¯" cwj:imageSrc="@drawable/maps" android:layout_width="match_parent" android:layout_height="56dp"/&gt;&lt;/LinearLayout&gt; 3.2 ä¿®æ”¹ä¹‹åå¸ƒå±€æ–‡ä»¶123456789101112&lt;com.yannischeng.custom_view.view_group.MyViewGroup android:id="@+id/my_view_group" cwj:textOneSize="@dimen/textOneSize1" cwj:textOneTitle="å¤§æ ‡é¢˜" cwj:textTwoSize="@dimen/textOneSize2" cwj:textTwoTitle="å…·ä½“çš„è¯¦ç»†ä¿¡æ¯" cwj:imageSrc="@drawable/maps" cwj:textOneVisible="false" cwj:textOneColor="#ff0000" cwj:textTwoGravity="top" android:layout_width="match_parent" android:layout_height="56dp"/&gt; è¿è¡Œç»“æœä¸ºï¼š 4. åœ¨ç›¸åº”çš„ç±»ä¸­åƒä½¿ç”¨å…¶ä»–æ§ä»¶ä¸€æ ·ä½¿ç”¨è‡ªå®šä¹‰ViewGroupç±»çš„å±æ€§ã€‚1234567891011121314@BindView(R.id.my_view_group)MyViewGroup mMyViewGroup;@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_my_view_group); ButterKnife.bind(this); mMyViewGroup.setTextView1("æ ‡é¢˜"); mMyViewGroup.setTextView1Size(14); mMyViewGroup.setTextView2("å°æ ‡é¢˜"); mMyViewGroup.setTextView2Size(10);&#125; 5. ä¸ºè‡ªå®šä¹‰æ§ä»¶æ·»åŠ å“åº”äº‹ä»¶å£°æ˜ä¸€ä¸ªå›è°ƒäº‹ä»¶æ¥å£ï¼š 123456public interface ClickListener &#123; void textOneClickListener(View view); void textTwoClickListener(View view);&#125; åœ¨è‡ªå®šä¹‰æ§ä»¶ä¸­ä½¿ç”¨ï¼š 12345678910111213141516171819202122232425262728293031323334/* ç‚¹å‡»äº‹ä»¶æ¥å£ */ClickListener mClickListener = null;/* æ„é€ æ–¹æ³• */public MyViewGroup(Context context, @Nullable AttributeSet attrs) &#123; super(context, attrs); //... mTextView1.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; mClickListener.textOneClickListener(v); &#125; &#125;); mTextView2.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; mClickListener.textTwoClickListener(v); &#125; &#125;); &#125;/** * ç‚¹å‡»æ–¹æ³•å£°æ˜ */public void setClickListener(ClickListener listener)&#123; mClickListener = listener;&#125; åœ¨Activityä¸­ä½¿ç”¨ 1234567891011mMyViewGroup.setClickListener(new ClickListener() &#123; @Override public void textOneClickListener(View view) &#123; Toast.makeText(MyViewGroupActivity.this, "this is textOneClickListener!", Toast.LENGTH_SHORT).show(); &#125; @Override public void textTwoClickListener(View view) &#123; Toast.makeText(MyViewGroupActivity.this, "this is textTwoClickListener!", Toast.LENGTH_SHORT).show(); &#125;&#125;); ç‚¹å‡»å·¦ä¾§å†™æœ‰â€œæ ‡é¢˜â€çš„æŒ‰é’®ï¼š]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æƒé™-FileProvider]]></title>
    <url>%2F%E6%9D%83%E9%99%90-FileProvider%2F</url>
    <content type="text"><![CDATA[é—®é¢˜èµ·å› ï¼šE/FileSource: Failed to open file &apos;/storage/emulated/0/DCIM/Camera/VID_20171121_203344.mp4&apos;. (Permission denied) è¿™æ˜¯å› ä¸º7.0çš„æ–°çš„æ–‡ä»¶æƒé™å¯¼è‡´çš„ã€‚æ–‡ä»¶å…±äº«è¦é‡‡ç”¨FileProvicerçš„å½¢å¼ï¼Œä¸èƒ½ä½¿ç”¨ä¹‹å‰çš„fileè·¯å¾„æ¥ç®€å•è¡¨ç¤ºã€‚ 3æ­¥è§£å†³é—®é¢˜1åœ¨res/ä¸‹åˆ›å»ºxml/æ–‡ä»¶å¤¹ï¼Œç„¶ååˆ›å»ºï¼šfile_pathsæ–‡ä»¶ã€‚ 12345&lt;resources xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;external-files-path name="root_path" path="."/&gt;&lt;/resources&gt; æ³¨æ„ï¼š&lt;paths&gt;å…ƒç´ å¯åŒ…å«å¤šä¸ªå…ƒç´ ã€‚ å…·ä½“å…ƒç´ çš„å«ä¹‰ï¼š &lt;files-path name=&quot;name&quot; path=&quot;path&quot; /&gt; ç›¸å½“äº ï¼š // /data/user/0/com.yannischeng.simplemediaplayer/files Context.getFilesDir() + /path/ &lt;cache-path name=&quot;name&quot; path=&quot;path&quot; /&gt; ç›¸å½“äº ï¼š // /data/user/0/com.yannischeng.simplemediaplayer/cache Context.getCacheDir() + /path/ &lt;external-path name=&quot;name&quot; path=&quot;path&quot; /&gt; ç›¸å½“äº ï¼š // /storage/emulated/0 Environment.getExternalStorageDirectory() + /path/ &lt;external-files-path name=&quot;name&quot; path=&quot;path&quot; /&gt; ç›¸å½“äº ï¼š // /storage/emulated/0/Android/data/com.yannischeng.simplemediaplayer/files Context.getExternalFilesDir(String) + /path/ &lt;external-cache-path name=&quot;name&quot; path=&quot;path&quot; /&gt; ç›¸å½“äº ï¼š // /storage/emulated/0/Android/data/com.yannischeng.simplemediaplayer/cache Context.getExternalCacheDir() + /path/ &lt;root-path name=&quot;name&quot; path=&quot;path&quot; /&gt; ç›¸å½“äºå¤–ç½®SDå¡è·¯å¾„ã€‚ // /system Environment.getRootDirectory().getAbsolutePath(); 2 åœ¨AndroidManifest.xmlé‡Œé¢æ³¨å†ŒFileProvider123456789101112&lt;application ... &lt;provider android:name="android.support.v4.content.FileProvider" &lt;!-- å…±äº«æ–‡ä»¶çš„æ–‡ä»¶æ ¹ç›®å½•ï¼Œåå­—å¯ä»¥è‡ªå®šä¹‰ --&gt; android:authorities="media.player" &lt;!-- è‡ªå®šä¹‰çš„æƒé™ --&gt; android:exported="false" &lt;!-- æ˜¯å¦è®¾ç½®ä¸ºç‹¬ç«‹è¿›ç¨‹ --&gt; android:grantUriPermissions="true"&gt; &lt;!-- æ˜¯å¦æ‹¥æœ‰å…±äº«æ–‡ä»¶çš„ä¸´æ—¶æƒé™ --&gt; &lt;meta-data android:name="android.support.FILE_PROVIDER_PATHS" android:resource="@xml/file_paths"/&gt; &lt;/provider&gt; &lt;/application&gt; 3åœ¨javaä»£ç ä¸­ï¼š 1Uri fileURI = FileProvider.getUriForFile(mContext,"media.player",file);]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>æƒé™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidè§†é¢‘]]></title>
    <url>%2FAndroid%E8%A7%86%E9%A2%91%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://www.jianshu.com/p/10e357946447 Markdownä¸­æµç¨‹å›¾è¯­æ³•çš„ä½¿ç”¨ï¼š 123å¼ ä¸‰-&gt;æå››:å˜¿!Note right of æå››:è¯´ï¼šæå››--&gt;å¼ ä¸‰:å¿™ï¼Œæ²¡æœ‰ã€‚ 1234å¼ ä¸‰-&gt;æå››: å˜¿!Note right of å¼ ä¸‰:å¼ ä¸‰å¿ƒè¯´ï¼šå˜¿ä¸ªé”¤å­ï¼æå››--&gt;å¼ ä¸‰: ä½ å¥½!Note right of æå››: å¥½ä½ ä¸ªé”¤å­ï¼ 1234å¼ ä¸‰ -&gt;æå››: å˜¿!Note right of å¼ ä¸‰:å¼ ä¸‰å¿ƒè¯´ï¼šå˜¿ä¸ªé”¤å­ï¼æå››--&gt;å¼ ä¸‰: ä½ å¥½!Note right of æå››: å¥½ä½ ä¸ªé”¤å­ï¼ 1234å¼ ä¸‰ -&gt;æå››: å˜¿!Note right of å¼ ä¸‰:å¼ ä¸‰å¿ƒè¯´ï¼šå˜¿ä¸ªé”¤å­ï¼æå›› --&gt;å¼ ä¸‰: ä½ å¥½!Note right of æå››: å¥½ä½ ä¸ªé”¤å­ï¼ 1234å¼ ä¸‰-&gt;æå››: å˜¿!Note right of å¼ ä¸‰:å¼ ä¸‰å¿ƒè¯´ï¼šå˜¿ä¸ªé”¤å­ï¼æå›› --&gt;å¼ ä¸‰: ä½ å¥½!Note right of æå››: å¥½ä½ ä¸ªé”¤å­ï¼ 1234å¼ ä¸‰-&gt;æå››:å˜¿!Note left of å¼ ä¸‰:å¼ ä¸‰å¿ƒè¯´ï¼šå˜¿ä¸ªé”¤å­ï¼æå››--&gt;å¼ ä¸‰: ä½ å¥½!Note right of æå››: æå››å¿ƒè¯´ï¼šå¥½ä½ ä¸ªé”¤å­ï¼ 12345678st=&gt;start: å¼€å§‹e=&gt;end: ç»“æŸop=&gt;operation: è‡ªå·±çš„æ˜¯ä¸€æ ·çš„æ“ä½œcond=&gt;condition: ç¡®è®¤ï¼Ÿst-&gt;op-&gt;condcond(yes)-&gt;econd(no)-&gt;op æ³¨æ„ï¼š ç©ºæ ¼ï¼ï¼ï¼ ä¸€ã€åŸºæœ¬æ¦‚å¿µå†™åœ¨å‰é¢ï¼šå¦‚æœåœ¨å¾ˆå¤šä¸“æœ‰åå­—ï¼Œæ¦‚å¿µéƒ½ä¸ç†Ÿæ‚‰çš„æƒ…å†µä¸‹ï¼Œæƒ³è¦å»é˜…è¯»æ’­æ”¾å™¨æºç ä¼šæ˜¯ç›¸å½“å›°éš¾çš„äº‹æƒ…ã€‚ 1. Codecç¼–ç ï¼ˆencodeï¼‰ å’Œ è§£ç (decode)ã€‚Codecå°±æ˜¯ä¸€ç§ç¨‹åºï¼Œè¿™ç§ç¨‹åºå¯ä»¥å¯¹è§†é¢‘æ–‡ä»¶è¿›è¡Œç¼–ç å’Œè§£ç ã€‚ A video codec is an electronic circuit or software that compressesï¼ˆç¼–ç ï¼Œå‹ç¼©ï¼‰ or decompressesï¼ˆè§£ç ï¼Œè§£å‹ï¼‰ digital video. It converts raw (uncompressed) digital video to a compressed format or vice versa. In the context of video compression, â€œcodecâ€ is a concatenation of â€œencoderâ€ and â€œdecoderâ€â€”a device that only compresses is typically called an encoder, and one that only decompresses is a decoder. è§†é¢‘æ–‡ä»¶çš„æœ¬è´¨å…¶å®å°±æ˜¯å›¾ç‰‡çš„é›†åˆï¼Œå½“ä¸€æ®µè¿ç»­çš„å›¾ç‰‡ä¸æ–­çš„å‡ºç°åœ¨äººçœ¼å‰(ä¸€èˆ¬ä¸€ä¸ªè¿è´¯çš„ç”µå½±æˆ–è€…åŠ¨ç”»è‡³å°‘è¦æ±‚ä¸€ç§’24å¸§ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§’å†…è¿ç»­å‡ºç°24å¼ å›¾ç‰‡)ï¼Œè‚‰çœ¼å°±ä¼šâ€œæ¬ºéª—æ€§â€çš„å‘Šè¯‰å¤§è„‘æˆ‘ä»¬åœ¨çœ‹ä¸€ä¸ªè§†é¢‘ï¼Œè€Œä¸æ˜¯å¹»ç¯ç‰‡ã€‚ å›¾ç‰‡å¤§å°è®¡ç®—ï¼š720P 1280 * 720 * 3byte = 2.7M Androidåœ¨xmlä¸­å®šä¹‰é¢œè‰²æ ¼å¼ï¼š#ffffffï¼Œä¸‰åŸè‰²ï¼š3X4X2 = 24ä½äºŒè¿›åˆ¶ä½ 24/8 = 3ã€‚ ä»…ä»…æ˜¯60sï¼ˆ1åˆ†é’Ÿï¼‰å°±æœ‰è¿™ä¹ˆå¤§ï¼Œä¸€éƒ¨ç”µå½±å²‚ä¸â€¦â€¦ï¼Ÿ æ‰€ä»¥é€šè¿‡ï¼šCodecç¨‹åºå¯¹è¿™äº›è¿ç»­çš„å›¾ç‰‡é€šè¿‡ä¸€å®šçš„ç®—æ³•å‹ç¼©æˆä½“ç§¯æ›´å°çš„æ–‡ä»¶æ ¼å¼ - ç¼–ç ï¼Œå‹ç¼©ã€‚åœ¨å±å¹•ä¸Šè¿›è¡Œæ’­æ”¾æ—¶ï¼Œéœ€è¦æ˜¾ç¤ºå›¾ç‰‡ï¼Œæ‰€ä»¥è¦å°†å›¾ç‰‡è¿›è¡Œè¿˜åŸ - è§£ç ï¼Œè§£å‹ç¼©ã€‚Codecè§£ç çš„ç¼–è§£ç æ˜¯åˆ†åˆ«é’ˆå¯¹ï¼šè§†é¢‘ï¼ˆå›¾ç‰‡ï¼‰ã€éŸ³é¢‘ï¼ˆå£°æ³¢ï¼‰ã€‚ è§†é¢‘çš„ç¼–è§£ç æ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„è¿‡ç¨‹ï¼Œä½†æ˜¯ç°åœ¨æœ‰å¾ˆå¤šçš„å·¥å…·åŠè§„èŒƒï¼š H.265/H.264/H.263 2. Container format fileï¼ˆè§†é¢‘å®¹å™¨æ–‡ä»¶ï¼‰ - ç»“æ„åŒ–çš„æ–‡ä»¶è§†é¢‘å®¹å™¨æ–‡ä»¶å³ï¼šmp4ã€rmvbã€aviã€‚å®¹å™¨ï¼šåŒ…æ‹¬äº†è§†é¢‘(video)æ•°æ®ã€(audio)éŸ³é¢‘æ•°æ®ã€æ–‡å­—(Text)æ•°æ®ã€‚ç»“æ„åŒ–ï¼šéŸ³é¢‘ã€è§†é¢‘ã€æ–‡å­—æ•°æ®å¿…é¡»æŒ‰ç…§ä¸€å®šçš„è§„èŒƒï¼Œæ”¾åœ¨æŒ‡å®šçš„åœ°æ–¹ï¼ˆæ–¹ä¾¿è§£æï¼‰ã€‚ å…ƒæ•°æ® -&gt; Codecç¨‹åº -&gt; è§†é¢‘å®¹å™¨æ–‡ä»¶ ä¸€ä¸ªå…¸å‹çš„â€œMP4â€è§†é¢‘å®¹å™¨æ–‡ä»¶ Track(è½¨é“)ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“ä¸šæœ¯è¯­ï¼Œç”¨æ¥åŒºåˆ†ä¸åŒçš„éŸ³è§†é¢‘/æ–‡å­—æ•°æ®ã€‚æœ€é‡è¦çš„å´æ˜¯è¿™ä¸ªMetaDataï¼ˆå¤´æ–‡ä»¶ï¼‰ï¼Œå®ƒåŒ…å«äº†å¾ˆå¤šå…³äºè§†é¢‘çš„åŸå§‹æ•°æ®ï¼Œæ¯”å¦‚è§†é¢‘çš„å¤§å°ï¼Œè§†é¢‘çš„æ—¶é•¿ï¼Œè¿˜æœ‰ä¸€ä¸ªç´¢å¼•è¡¨ï¼Œè¿™ä¸ªç´¢å¼•è¡¨åŒ…å«äº†ä¸åŒè½¨é“çš„èµ·å§‹ä½ç½®(ä»¥å­—èŠ‚ä¸ºå•ä½)ï¼Œåˆå› ä¸ºæ¯ä¸ªè½¨é“ä¼šè¢«åˆ†æˆè‹¥å¹²å—sample(é‡‡æ ·ï¼Œæ¯ä¸€å—é‡‡æ ·éƒ½æ˜¯å¯ä»¥å•ç‹¬è¢«æ’­æ”¾å™¨æ’­æ”¾çš„ä¸€æ®µæ•°æ®ï¼Œä»¥å¾®å¦™ä¸ºå•ä½)ï¼Œmetadataä¹Ÿä¼šç»´æŠ¤ä¸€ä¸ªç»†ç²’åº¦æ›´å°çš„ç´¢å¼•è¡¨ï¼Œè®°å½•äº†æ¯ä¸€å—sampleçš„å¤§å°ï¼Œèµ·å§‹ä½ç½®ï¼Œå¯¹åº”è§†é¢‘çš„æ—¶é—´æ˜¯å¤šå°‘(ä»¥å­—èŠ‚ä¸ºå•ä½)ç­‰ç­‰çš„ä¿¡æ¯ã€‚ 3. è§†é¢‘å¤„ç†æµç¨‹ åŸç‰‡(Raw Data) -Encode-&gt; å®¹å™¨æ–‡ä»¶(container) -process-&gt; ä¸åŒåˆ†è¾¨ç‡ -æœåŠ¡å™¨-&gt; å®¢æˆ·ç«¯ä½¿ç”¨ äºŒã€MP4 è§£æ1. Mp4æ ¼å¼æ–‡ä»¶çš„æ„æˆMP4æ˜¯ä¸€ç§æ ¼å¼çš„è§„èŒƒï¼Œæ˜¯è¢«ISOæœºæ„è®¤è¯çš„ï¼Œåªè¦ä½ é€šè¿‡Codecç”Ÿæˆäº†ä¸€ä¸ªmp4æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶çš„æ ¼å¼å¿…é¡»æ˜¯æŒ‰ç…§ISOæœºæ„çš„è§„çŸ©æ¥ã€‚è¿™ä¸ªè§„èŒƒå¾ˆå¥½ç†è§£ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªMP4æ–‡ä»¶é‡Œé¢ï¼Œå“ªäº›æ•°æ®åº”è¯¥æ”¾åœ¨ä»€ä¹ˆä½ç½®(ä»¥å­—èŠ‚ä¸ºå•ä½)ï¼Œå“ªäº›æ•°æ®çš„é•¿åº¦æ˜¯å¤šå°‘ã€‚ MP4æ ¼å¼å®šä¹‰ï¼šhttp://xhelmboyx.tripod.com/formats/mp4-layout.txt ä»»ä½•å®¹å™¨ï¼ŒåŒ…æ‹¬mp4éƒ½æ˜¯ç±»ä¼¼çš„ç»“æ„åŒ–æ–‡ä»¶ï¼Œåªä¸è¿‡ä¸åŒçš„æ ¼å¼æ–‡ä»¶ISOå¯¹å…¶æœ‰ä¸¥æ ¼çš„è¦æ±‚ï¼Œæ•°æ®çš„æ‘†æ”¾é¡ºåºã€æ’åˆ—ç­‰ç­‰ä¸åŒè€Œå·²ã€‚ 2. MP4å¤´æ–‡ä»¶æ„æˆåœ¨Meta Dataé‡Œé¢ï¼Œæ¯ä¸€ä¸ªHeaderï¼Œå¤´æ–‡ä»¶ï¼Œæˆ‘ä»¬éƒ½å«ä»–ä»¬Atom Header(ä¸çŸ¥é“å’‹ç¿»è¯‘)ã€‚Atom Headeråˆ†ä¸ºLeaf Atom å’Œ Container Atomã€‚å‰è€…ä»£è¡¨ä¸€ä¸ªè¿æ¥ç€å­—ç¬¦ä¸²ä¿¡æ¯çš„å¤´æ–‡ä»¶ï¼Œåè€…æ˜¯ä¸€ä¸ªåŒ…å«äº†è‹¥å¹²ä¸ªå­Atomçš„å¤´æ–‡ä»¶ï¼Œä»–ä»¬äº’ç›¸ä¹‹é—´æ˜¯æœ‰å±‚çº§å…³ç³»çš„(å‚è€ƒä¸Šå›¾)ã€‚æ¯æ¬¡æ’­æ”¾å™¨è·å–äº†movie atomä¹‹å(moov)ï¼Œä¼šæ ¹æ®å±‚çº§å…³ç³»ï¼Œå‘ä¸‹ï¼Œæˆ–è€…å‘ä¸‹è¯»å–ç›¸å…³çš„å…¶ä»–ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªå¤´æ–‡ä»¶éƒ½ä¼šå¯¹å®ƒçš„å­å¤´æ–‡ä»¶ä¿å­˜ä½ç½®çš„å¼•ç”¨ï¼Œæ‰€ä»¥åªè¦æ ¹æ®mp4æ–‡ä»¶çš„è§„èŒƒè·å–äº†æœ€é¡¶çº§çš„å¤´æ–‡ä»¶moov,å°±å¯ä»¥é¡ºåŠ¿å¾€ä¸‹è¯»å–å…¶ä»–å¤´æ–‡ä»¶ è‹¹æœMP4æ–‡æ¡£ï¼šhttps://developer.apple.com/library/content/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25706 mp4çš„å¤´æ–‡ä»¶ç»“æ„ï¼š æœ€é‡è¦çš„ä¿¡æ¯æ˜¯é‡‡æ ·ç´¢å¼•è¡¨(Sample Table Atoms).å¯¹åº”å›¾ä¸­â€œstbl â€è¿™ä¸ªatom headerã€‚è¿™ä¸ªç´¢å¼•è¡¨ä¿å­˜äº†mp4æ–‡ä»¶æ‰€æœ‰çš„é‡‡æ ·(sample)ä¸è§†é¢‘æ—¶é—´çš„å¯¹åº”å…³ç³»(ä¸€èˆ¬ä»¥å¾®ç§’ä¸ºå•ä½)ï¼Œè¿˜æœ‰åŒ…æ‹¬æ¯ä¸ªé‡‡æ ·çš„å¤§å°ï¼Œåœ¨mp4æ–‡ä»¶ä¸­çš„èµ·å§‹ä½ç½®(ä»¥è‡ªå·±ä¸ºå•ä½)ã€‚ 3. æ ‡å‡†æ’­æ”¾å™¨çš„å¯åŠ¨æµç¨‹3.1 æ’­æ”¾å™¨æ„æˆï¼š æ•°æ®æºï¼ˆsourceï¼‰ è¯»å–å™¨ï¼ˆextractorï¼‰ åŠ è½½æ§åˆ¶å™¨ï¼ˆload controlï¼‰ æ¸²æŸ“å™¨ï¼ˆtrackRendererï¼‰ 3.1 æ’­æ”¾å™¨æ’­æ”¾æµç¨‹ï¼šåœ¨æ’­æ”¾å™¨å¯ä»¥æŠŠæ•°æ®æäº¤ç»™æ¸²æŸ“å™¨ä¹‹å‰ï¼Œæ’­æ”¾å™¨éœ€è¦æŠŠå¿…éœ€çš„å¤´æ–‡ä»¶å…¨éƒ¨è§£æå¹¶å­˜å…¥å†…å­˜ï¼Œæ¯”å¦‚ä¹‹å‰è¯´çš„é‡‡æ ·ç´¢å¼•è¡¨ã€‚ä¸€èˆ¬æ’­æ”¾å™¨åœ¨è§£æå®Œæ¯•åï¼Œä¼šæ„å»ºä¸‰ä¸ªè¡¨ï¼š ä¸€ä¸ªå­˜æ”¾æ—¶é—´å¯¹åº”é‡‡æ ·ç´¢å¼• ä¸€ä¸ªå­˜æ”¾é‡‡æ ·ç´¢å¼•å¯¹åº”åœ¨mp4æ–‡ä»¶ä¸­çš„èµ·å§‹ä½ç½®(ä»¥å­—èŠ‚ä¸ºå•ä½) ä¸€ä¸ªå­˜æ”¾é‡‡æ ·ç´¢å¼•å¯¹åº”å¤§å°(ä»¥å­—èŠ‚ä¸ºå•ä½)ã€‚ é€šè¿‡è¡¨1ï¼Œæˆ‘ä»¬çŸ¥é“è¯¥å¾®ç§’å¯¹åº”ç¬¬1ä¸ªé‡‡æ ·ï¼ˆsampleï¼‰ï¼Œä»ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªè¡¨æˆ‘ä»¬çŸ¥é“ï¼Œç¬¬1ä¸ªé‡‡æ ·çš„æ•°æ®èŒƒå›´(åœ¨mp4æ–‡ä»¶å†…)æ˜¯ä»ç¬¬0å­—èŠ‚åˆ°300ï¼ˆ0+300ï¼‰å­—èŠ‚ï¼Œé‚£ä¹ˆæ’­æ”¾å™¨å°±ä¼šå»è¯»å–è¿™ä¸ªèŒƒå›´çš„æ•°æ®å¹¶ä¸”æ”¾å…¥æ¸²æŸ“å™¨ä¸­è¿›è¡Œæ¸²æŸ“ã€‚ åŒæ—¶ï¼ŒåŠ è½½å™¨ä¼šåŸºäºå½“å‰å·²ç»ç¼“å­˜çš„æ•°æ®ï¼Œå†³å®šæ˜¯å¦è¿˜éœ€è¦ä¸åœçš„è¯»å–æ•°æ®è¿›å…¥å†…å­˜ã€‚ä¸€èˆ¬æ¥è¯´æ¯ä¸ªæ’­æ”¾å™¨éƒ½æœ‰é»˜è®¤çš„ç¼“å­˜å€¼ï¼Œä¹Ÿä¼šæœ‰ä¸€ä¸ªåŸºå‡†çº¿ï¼Œåªæœ‰å½“ç¼“å­˜è¶³å¤Ÿæ•°æ®æ‰èƒ½æ”¾è¿›æ¸²æŸ“å™¨è¿›è¡Œæ¸²æŸ“ã€‚ æœ€ååŒç†ï¼Œå½“æˆ‘ä»¬æ‹–åŠ¨æ»‘åŠ¨æ§åˆ¶å™¨(SeekBar)æƒ³å¿«è¿›çš„æ—¶å€™ï¼Œæˆ‘ä»¬å’Œç¬¬ä¸€æ­¥ä¸€æ ·ï¼Œé€šè¿‡æˆ‘ä»¬æƒ³æ»‘åŠ¨çš„æ—¶é—´è·å–é‡‡æ ·çš„ç´¢å¼•ï¼Œå†é‡æ–°å¼€å§‹è¯»å–æ•°æ®ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œæ’­æ”¾å™¨åœ¨æ­£å¼æ’­æ”¾è§†é¢‘æ–‡ä»¶ä¹‹å‰ï¼Œå¿…é¡»è¦æŠŠå¤´æ–‡ä»¶å…¨éƒ¨è¯»å–å¹¶è§£æ(è¿™ä¼šæ˜¯ä¸€æ®µéå¸¸è€—æ—¶çš„ç¨‹åº)ï¼Œè¿™ä¹Ÿæ˜¯åœ¨çº¿è§†é¢‘æ’­æ”¾çš„ç­‰å¾…æ—¶é—´çš„ç“¶é¢ˆã€‚åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚æˆ‘ä¼šä»‹ç»è‡ªé€‚åº”è§†é¢‘æ’­æ”¾(Adaptive Streaming)ï¼Œè¿™ä¸ªæŠ€æœ¯çš„å‘æ˜ä½¿å¾—äº†åˆ†æ®µå¼mp4æ–‡ä»¶(Fragmented Mp4)æŠ€æœ¯å¾—ä»¥è¯ç”Ÿï¼Œå¤§å¤§çš„å‡å°‘äº†åœ¨çº¿è§†é¢‘æ’­æ”¾çš„ç­‰å¾…æ—¶é—´ã€‚ 4. åœ¨çº¿è§†é¢‘æ’­æ”¾çš„æŠ€æœ¯åŸºç¡€(online video streaming)åœ¨çº¿è§†é¢‘çš„æ’­æ”¾å…¶å®å’Œæ’­æ”¾æœ¬åœ°è§†é¢‘çš„åŒºåˆ«å°±æ˜¯Extractorè¯»å–çš„Sourceï¼Œæ•°æ®æºä¸ä¸€æ ·ã€‚ åœ¨çº¿æ’­æ”¾éœ€è¦ä¸‹è½½æ•°æ®åˆ°å†…å­˜ï¼Œå†äº¤ç”±Extractorè¯»å–åˆ†æã€‚ä½†æ˜¯æ—¢ç„¶æ˜¯åœ¨çº¿è§†é¢‘æ’­æ”¾ï¼Œæˆ‘ä»¬è‚¯å®šä¸èƒ½æŠŠæ•´ä¸ªå®¹å™¨æ–‡ä»¶ä¸‹è½½åˆ°å†…å­˜æˆ–è€…ç¡¬ç›˜å†å¼€å§‹è§£ææ’­æ”¾ã€‚æˆ‘ä»¬å¸Œæœ›èƒ½æ§åˆ¶ä¸‹è½½çš„è¿›åº¦ï¼Œæ¯”å¦‚æˆ‘å½“å‰åœ¨çœ‹ç¬¬10sçš„è§†é¢‘å†…å®¹ï¼Œæ‰€ä»¥æˆ‘åªæƒ³ç¼“å­˜/ä¸‹è½½è§†é¢‘å†…å®¹åˆ°ç¬¬20sçš„ä½ç½®ã€‚ æˆ‘ä»¬ä¿—ç§°çš„æ¸è¿›å¼ä¸‹è½½(Progressive Downloading)å°±è§£å†³äº†è¿™ä¸€éš¾é¢˜ã€‚ åœ¨HTTPè¯·æ±‚é‡Œé¢åŠ ä¸€ä¸ªå«RANGEçš„headerï¼Œæ”¾å…¥èµ·å§‹å­—èŠ‚å’Œç»“æŸå­—èŠ‚ï¼Œå°±å¯ä»¥åªä¸‹è½½å¯¹åº”éƒ¨åˆ†çš„æ•°æ®ï¼Œè¿™ä¸€headerçš„æ”¯æŒä¹Ÿæ˜¯å„ç§ä¸‹è½½è½¯ä»¶å®ç°æ–­ç‚¹ä¸‹è½½çš„åŸºç¡€ã€‚æ¯æ¬¡æ–­ç½‘çš„æ—¶å€™è®°å½•ä¸‹æ¥å·²ç»ä¸‹è½½çš„æ•°æ®çš„å­—èŠ‚æ•°ï¼Œä¸‹æ¬¡å†ä¸‹è½½çš„æ—¶å€™ä»å­—èŠ‚æ•°+1å¤„é‡æ–°ä¸‹è½½å¹¶ä¸”å†™å…¥åŸæœ‰æ–‡ä»¶å°±å¯ä»¥äº†ã€‚ ä¸‰ã€ Androidçš„Media API1. Androidå¹³å°è§†é¢‘æ’­æ”¾å†å²è‡ªå¸¦æ’­æ”¾å™¨ç¼ºç‚¹ï¼š å¾ˆå¤šæ ¼å¼çš„å®¹å™¨æ–‡ä»¶ä¸æ”¯æŒï¼Œä¹Ÿä¸æ”¯æŒè‡ªé€‚åº”è§†é¢‘æ’­æ”¾(Adaptive Streaming) åº”ç”¨å¼€å‘è€…å¾ˆéš¾debugæ’­æ”¾å™¨ï¼ŒMediaPlayerçš„ä»£ç å¾ˆå¤šéƒ½æ˜¯Native Methodã€‚å¹¶ä¸åœ¨Javaå±‚ã€‚ å¾ˆéš¾åšè‡ªå®šä¹‰çš„æ‹“å±•å’Œè®¾ç½®ï¼Œæ¯”å¦‚ç¼“å†²çš„å¤§å°ï¼Œä¸‹è½½è¿›åº¦ç­‰ç­‰ã€‚ å®‰å“4.3ä¹‹å release æ–°çš„ Media Codec APIç»„ï¼ŒæŠŠAPIç»„ä»¶è®¾è®¡çš„é¢å‘è§†é¢‘æ’­æ”¾çš„æ›´åº•å±‚æ¦‚å¿µã€‚ ä»ç»“æ„å›¾é‡Œçœ‹å‡ºï¼ŒåŸæ¥çš„MediaPlayeræŠŠExtractorï¼Œå’ŒCodec APIå…¨éƒ¨å°é”åœ¨äº†Frameworkå±‚ï¼Œåº”ç”¨å±‚å®Œå…¨æ¥è§¦ä¸åˆ°ã€‚åœ¨æ–°çš„APIè®¾è®¡é‡Œé¢ï¼Œè¿™äº›éƒ½æŒªåˆ°äº†åº”ç”¨å±‚(å…¶å®è™½ç„¶MediaCodec APIï¼Œå°±æ˜¯ç¼–è§£ç APIè¿˜åœ¨Frameworkï¼Œä½†æ˜¯åº”ç”¨å±‚å¯ä»¥è°ƒç”¨ä»–ä»¬) 2. Android Codec APIçš„ä½¿ç”¨åœ¨å…¨æ–°çš„Media APIé‡Œé¢ï¼Œæœ€æœ€æœ€é‡è¦çš„å°±æ˜¯MediaExtractorå’ŒMediaCodecè¿™ä¸¤ä¸ªç±»ï¼Œç¬¬ä¸€ä¸ªå¯ä»¥å¯¹å®¹å™¨æ–‡ä»¶è¿›è¡Œè¯»å–æ§åˆ¶ï¼Œç¬¬äºŒä¸ªå°±æ˜¯å¯¹æ•°æ®è¿›è¡Œç¼–è§£ç çš„APIã€‚ MediaExtractorå¯ä»¥ä»ä¸€ä¸ªURLï¼Œè·å–å®¹å™¨æ–‡ä»¶çš„è½¨é“æ•°é‡ã€è½¨é“ä¿¡æ¯(Track)ã€‚åœ¨ç¡®å®šäº†è½¨é“ä¿¡æ¯ä¹‹åï¼Œå¯ä»¥é€‰æ‹©æƒ³è¦è§£ç çš„è½¨é“(åªèƒ½é€‰æ‹©ä¸€ä¸ªï¼Œæ‰€ä»¥éŸ³è½¨å’Œè§†é¢‘è½¨é“éœ€è¦ä¸¤ä¸ªä¸åŒMediaExtractorç»™ä¸¤ä¸ªä¸åŒMediaCodecè§£ç )ï¼Œå†ä»è¯¥è½¨é“ä¸åœçš„è¯»å–æ•°æ®æ”¾å…¥MediaCodec APIè¿›è¡Œè§£ç ã€‚ MediaCodec APIåˆ™æ˜¯åˆ›å»ºçš„æ—¶å€™å°±éœ€è¦é€‰æ‹©Codecçš„ç±»å‹ã€‚ç„¶åç¼–ç çš„æ—¶å€™éœ€è¦å®‰å“å¹³å°æ˜¾ç¤ºè§†é¢‘çš„Surface ä¸€ä¸ªMediaCodecåœ¨åˆ›å»ºä¹‹åä¼šåœ¨å†…éƒ¨ç»´æŠ¤ä¸¤ä¸ªå¯¹åˆ—(Queue),ä¸€ä¸ªæ˜¯InputQueueï¼Œä¸€ä¸ªæ˜¯OutputQueueã€‚ç±»ä¼¼ç”Ÿäº§è€…æ¶ˆè´¹è€…çš„æ¨¡å¼ï¼ŒMediaCodecä¼šä¸åœçš„ä»InputQueueè·å–æ•°æ®(InputQueueçš„æ•°æ®åˆæ˜¯åˆMediaExtractoræä¾›)ï¼Œè§£ç ï¼Œå†æŠŠè§£ç ä¹‹åçš„æ•°æ®æ”¾å…¥OutputQueueï¼Œå†æä¾›ç»™Surfaceè®©å…¶è§†é¢‘å†…å®¹ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>è§†é¢‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨ç”»]]></title>
    <url>%2F%E5%8A%A8%E7%94%BB%2F</url>
    <content type="text"><![CDATA[ä¸€ã€æ¦‚è§ˆï¼š Animator :è¿™æ˜¯ä¸ºåŠ¨ç”»æä¾›åŸºæœ¬æ”¯æŒçš„ç±»çš„è¶…ç±»ï¼Œè¿™äº›åŠ¨ç”»å¯ä»¥è¢«å¯åŠ¨ã€ç»“æŸã€å¹¶æ·»åŠ AnimatorListenersã€‚ Animatorçš„å­ç±» äºŒã€åŠ¨ç”»åˆ†ç±»0. å¤æ‚å±æ€§åŠ¨ç”» ä½¿ç”¨ PropertyValuesHolder æ¥å¯¹å¤šä¸ªå±æ€§åŒæ—¶åšåŠ¨ç”»ï¼› ä½¿ç”¨ AnimatorSet æ¥åŒæ—¶ç®¡ç†è°ƒé…å¤šä¸ªåŠ¨ç”»ï¼› PropertyValuesHolder çš„è¿›é˜¶ä½¿ç”¨ï¼šä½¿ç”¨ PropertyValuesHolder.ofKeyframe() æ¥æŠŠä¸€ä¸ªå±æ€§æ‹†åˆ†æˆå¤šæ®µï¼Œæ‰§è¡Œæ›´åŠ ç²¾ç»†çš„å±æ€§åŠ¨ç”»ã€‚ 1. æœ€æ—©çš„ä¸¤ç§ é€å¸§åŠ¨ç”»(frame-by-frame animation) è¡¥é—´åŠ¨ç”»(tweened animation) 2. å±æ€§åŠ¨ç”» ï¼šValueAnimatorï¼ˆAndroid3.0ï¼‰ - æŸä¸€å±æ€§ï¼ˆå€¼ï¼‰åŠ¨ç”»å±æ€§åŠ¨ç”»çš„è¿è¡Œæœºåˆ¶æ˜¯é€šè¿‡ä¸æ–­åœ°å¯¹å€¼è¿›è¡Œæ“ä½œæ¥å®ç°çš„ï¼Œè€Œåˆå§‹å€¼å’Œç»“æŸå€¼ä¹‹é—´çš„åŠ¨ç”»è¿‡æ¸¡å°±æ˜¯ç”±ValueAnimatorè¿™ä¸ªç±»æ¥è´Ÿè´£è®¡ç®—çš„ï¼Œå³ï¼šValueAnimatoråªä¸è¿‡æ˜¯å¯¹å€¼è¿›è¡Œäº†ä¸€ä¸ªå¹³æ»‘çš„åŠ¨ç”»è¿‡æ¸¡ã€‚ å®ƒçš„å†…éƒ¨ä½¿ç”¨ä¸€ç§æ—¶é—´å¾ªç¯çš„æœºåˆ¶æ¥è®¡ç®—å€¼ä¸å€¼ä¹‹é—´çš„åŠ¨ç”»è¿‡æ¸¡ï¼Œæˆ‘ä»¬åªéœ€è¦å°†åˆå§‹å€¼å’Œç»“æŸå€¼æä¾›ç»™ValueAnimatorï¼Œå¹¶ä¸”å‘Šè¯‰å®ƒåŠ¨ç”»æ‰€éœ€è¿è¡Œçš„æ—¶é•¿ï¼Œé‚£ä¹ˆValueAnimatorå°±ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å®Œæˆä»åˆå§‹å€¼å¹³æ»‘åœ°è¿‡æ¸¡åˆ°ç»“æŸå€¼è¿™æ ·çš„æ•ˆæœã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒValueAnimatorè¿˜è´Ÿè´£ç®¡ç†åŠ¨ç”»çš„æ’­æ”¾æ¬¡æ•°ã€æ’­æ”¾æ¨¡å¼ã€ä»¥åŠå¯¹åŠ¨ç”»è®¾ç½®ç›‘å¬å™¨ç­‰ è¡¥é—´åŠ¨ç”»æ˜¯åªèƒ½å¯¹Viewå¯¹è±¡è¿›è¡ŒåŠ¨ç”»æ“ä½œçš„ã€‚è€Œå±æ€§åŠ¨ç”»å°±ä¸å†å—è¿™ä¸ªé™åˆ¶ï¼Œå®ƒå¯ä»¥å¯¹ä»»æ„å¯¹è±¡è¿›è¡ŒåŠ¨ç”»æ“ä½œã€‚ è¿™ä¸ªç±»æä¾›äº†ä¸€ä¸ªç®€å•çš„è®¡æ—¶å¼•æ“ï¼Œç”¨äºè¿è¡Œè®¡ç®—åŠ¨ç”»å€¼çš„åŠ¨ç”»å¹¶å°†å…¶è®¾ç½®åœ¨ç›®æ ‡å¯¹è±¡ä¸Šã€‚æ‰€æœ‰åŠ¨ç”»éƒ½æœ‰ä¸€ä¸ªå®šæ—¶è„‰å†²ã€‚å®ƒåœ¨è‡ªå®šä¹‰å¤„ç†ç¨‹åºä¸­è¿è¡Œï¼Œä»¥ç¡®ä¿åœ¨UIçº¿ç¨‹ä¸Šå‘ç”Ÿå±æ€§æ›´æ”¹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒValueAnimatorä½¿ç”¨éçº¿æ€§æ—¶é—´æ’å€¼ï¼Œé€šè¿‡AccelerateDecelerateInterpolatorç±»æ¥åŠ é€Ÿå’Œå‡é€ŸåŠ¨ç”»ã€‚è¿™ç§è¡Œä¸ºå¯ä»¥é€šè¿‡è°ƒç”¨{@link ValueAnimatorï¼ƒsetInterpolatorï¼ˆTimeInterpolatorï¼‰}æ¥æ”¹å˜ã€‚åŠ¨ç”»å¸ˆå¯ä»¥ä»ä»£ç æˆ–èµ„æºæ–‡ä»¶åˆ›å»ºã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªValueAnimatorèµ„æºæ–‡ä»¶çš„ä¾‹å­ï¼š {@sample development / samples / ApiDemos / res / anim / animator.xml ValueAnimatorResources} ä¹Ÿå¯ä»¥ä½¿ç”¨{@link PropertyValuesHolder}å’Œ {@link Keyframe}èµ„æºæ ‡ç­¾æ¥åˆ›å»ºä¸€ä¸ªå¤šæ­¥éª¤çš„åŠ¨ç”»ã€‚ è¯·æ³¨æ„ï¼Œæ‚¨å¯ä»¥XMindä¸ºæ¯ä¸ªå…³é”®å¸§æŒ‡å®šæ˜¾å¼å°æ•°å€¼ï¼ˆä»0åˆ°1ï¼‰ï¼Œä»¥ç¡®å®šåŠ¨ç”»åœ¨æ•´ä¸ªæŒç»­æ—¶é—´å†…ä½•æ—¶åˆ°è¾¾è¯¥å€¼ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥å…³é—­åˆ†æ•°ï¼Œå…³é”®å¸§å°†åœ¨æ€»æ—¶é•¿å†…å¹³å‡åˆ†é…ï¼š{@sample development / samples / ApiDemos / res / anim / value_animator_pvh_kf.xml ValueAnimatorKeyframeResources} ï¼ˆ1ï¼‰ObjectAnimator - ValueAnimator å­ç±»ValueAnimatorçš„è¿™ä¸ªå­ç±»ObjectAnimatorä¸ºåŠ¨ç”»ç›®æ ‡å¯¹è±¡ä¸Šçš„å±æ€§æä¾›äº†æ”¯æŒã€‚è¿™ä¸ªç±»çš„æ„é€ å‡½æ•°ä½¿ç”¨å‚æ•°æ¥å®šä¹‰å°†è¢«åŠ¨ç”»çš„ç›®æ ‡å¯¹è±¡ä»¥åŠå°†è¢«åŠ¨ç”»çš„å±æ€§åç§°ã€‚ç„¶ååœ¨å†…éƒ¨ç¡®å®šé€‚å½“çš„è®¾ç½®/è·å–å‡½æ•°ï¼ŒåŠ¨ç”»å°†æ ¹æ®éœ€è¦è°ƒç”¨è¿™äº›å‡½æ•°æ¥åŠ¨ç”»å±æ€§ã€‚ ç®€å•ä½¿ç”¨æ–¹å¼: 1234ObjectAnimator mObjectAnimator = ObjectAnimator.ofFloat(mTextView01,"rotation",0f,360f);mObjectAnimator.setDuration(2000);mObjectAnimator.setInterpolator(mInterpolator);mObjectAnimator.start(); 1.1 åŸºæœ¬ä½¿ç”¨12345ObjectAnimator animator = ObjectAnimator.ofFloat(view,"progress",0,100);// 2. ç”¨ start() æ‰§è¡ŒåŠ¨ç”»animator.setDuration(3000);animator.setInterpolator(new LinearOutSlowInInterpolator());animator.start(); åœ¨è‡ªå®šä¹‰Viewä¸­ä½¿ç”¨objectAnimatorçš„â€œå±æ€§â€ï¼šæ·»åŠ setter()/getter()123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103public class CameraFlipBoard extends View &#123; Paint mPaint = new Paint(Paint.ANTI_ALIAS_FLAG); Camera mCamera = new Camera(); Bitmap mBitmap; int degree; ObjectAnimator mAnimator = ObjectAnimator.ofInt(this,"degree",180,0); public CameraFlipBoard(Context context) &#123; super(context); &#125; public CameraFlipBoard(Context context, @Nullable AttributeSet attrs) &#123; super(context, attrs); &#125; public CameraFlipBoard(Context context, @Nullable AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); &#125; //è®¾ç½®è‡ªå®šä¹‰åŠ¨ç”» &#123; mBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.maps); mAnimator.setDuration(2000); mAnimator.setInterpolator(new FastOutLinearInInterpolator()); //æ— é™é‡å¤ mAnimator.setRepeatCount(ValueAnimator.INFINITE); &#125; @Override protected void onAttachedToWindow() &#123; super.onAttachedToWindow(); mAnimator.start(); &#125; @Override protected void onDetachedFromWindow() &#123; super.onDetachedFromWindow(); mAnimator.end(); &#125; //unusedè¿™ä¸ªå‚æ•°æ˜¯å±è”½ï¼šå®šä¹‰çš„å˜é‡åœ¨ä»£ç ä¸­å¹¶æœªä½¿ç”¨ä¸”æ— æ³•è®¿é—® @SuppressWarnings("unused") public void setDegree(int degree)&#123; this.degree = degree; //æ‰§è¡Œé‡ç»˜ invalidate(); &#125; public int getDegree() &#123; return degree; &#125; @Override protected void onDraw(Canvas canvas) &#123; super.onDraw(canvas); float centerX = getWidth() / 2; float centerY = getHeight() / 2; float cbx = centerX - mBitmap.getWidth() / 2; float cby = centerY - mBitmap.getHeight() / 2; /* æœ¬æ¬¡è¦å®ç°çš„æ˜¯ç”±å›¾ç‰‡çš„ä¸­é—´å¼€å§‹ï¼Œä¸ŠåŠéƒ¨åˆ†ä¸åŠ¨ï¼Œä¸‹åŠéƒ¨åˆ†ç”±ä¸Šå¾€ä¸‹ç¿»180åº¦ã€‚ æ‰€ä»¥ï¼Œä¸€å¼ å›¾ç‰‡è¦è¢«åˆ†æˆ2éƒ¨åˆ†ï¼š ä¸ŠåŠéƒ¨åˆ†ç»˜åˆ¶å®Œæˆä¹‹åä¸åŠ¨ ä¸‹åŠéƒ¨åˆ†åˆ™æ˜¯åå‘è½¬åŠ¨180åº¦ */ //ä¸ŠåŠéƒ¨åˆ† canvas.save(); canvas.clipRect(0,0,getWidth(),centerY); canvas.drawBitmap(mBitmap, cbx,cby, mPaint); canvas.restore(); /* æœªç»ç§»åŠ¨çš„canvasåæ ‡åŸç‚¹å³ä¸ºcameraçš„åæ ‡åŸç‚¹ã€‚ ç§»åŠ¨çš„è·ç¦»è¦çœ‹ å…·ä½“çš„bitmapæ‰€åœ¨çš„å…·ä½“ä½ç½®ï¼š è‹¥bitmapåœ¨viewçš„åæ ‡åŸç‚¹ï¼Œåˆ™ç§»åŠ¨bitmapçš„width/2å’Œheight/2å³å¯ã€‚ è‹¥bitmapä¸åœ¨viewçš„åæ ‡åŸç‚¹ï¼Œåˆ™è¦æ ¹æ®ä»–ä»¬çš„ç›¸å¯¹ä½ç½®è¿›è¡Œè®¡ç®—åç§»åŠ¨ã€‚ */ //ä¸‹åŠéƒ¨åˆ† canvas.save(); if (degree &lt; 90) &#123; canvas.clipRect(0,centerY,getWidth(),getHeight()); &#125; else &#123; canvas.clipRect(0,0,getWidth(),centerY); &#125; mCamera.save(); canvas.translate(centerX,centerY); mCamera.rotateX(degree); mCamera.applyToCanvas(canvas); canvas.translate(-centerX,-centerY); mCamera.restore(); canvas.drawBitmap(mBitmap,cbx,cby,mPaint); canvas.restore(); &#125;&#125; 1.2 ç»„åˆåŠ¨ç”»ï¼ˆä¸€ä¸ªæ¥ä¸€ä¸ªçš„åŠ¨ç”»ï¼‰ï¼šAnimatorSetå®ç°ç»„åˆåŠ¨ç”»åŠŸèƒ½ä¸»è¦éœ€è¦å€ŸåŠ©AnimatorSetè¿™ä¸ªç±»ï¼Œè¿™ä¸ªç±»æä¾›äº†ä¸€ä¸ªplay()æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬å‘è¿™ä¸ªæ–¹æ³•ä¸­ä¼ å…¥ä¸€ä¸ªAnimatorå¯¹è±¡(ValueAnimatoræˆ–ObjectAnimator)å°†ä¼šè¿”å›ä¸€ä¸ªAnimatorSet.Builderçš„å®ä¾‹ï¼ŒAnimatorSet.Builderä¸­åŒ…æ‹¬ä»¥ä¸‹å››ä¸ªæ–¹æ³•ï¼š after(Animator anim) å°†ç°æœ‰åŠ¨ç”»æ’å…¥åˆ°ä¼ å…¥çš„åŠ¨ç”»ä¹‹åæ‰§è¡Œ after(long delay) å°†ç°æœ‰åŠ¨ç”»å»¶è¿ŸæŒ‡å®šæ¯«ç§’åæ‰§è¡Œ before(Animator anim) å°†ç°æœ‰åŠ¨ç”»æ’å…¥åˆ°ä¼ å…¥çš„åŠ¨ç”»ä¹‹å‰æ‰§è¡Œ with(Animator anim) å°†ç°æœ‰åŠ¨ç”»å’Œä¼ å…¥çš„åŠ¨ç”»åŒæ—¶æ‰§è¡Œ 1234567ObjectAnimator moveIn = ObjectAnimator.ofFloat(textview, "translationX", -500f, 0f); ObjectAnimator rotate = ObjectAnimator.ofFloat(textview, "rotation", 0f, 360f); ObjectAnimator fadeInOut = ObjectAnimator.ofFloat(textview, "alpha", 1f, 0f, 1f); AnimatorSet animSet = new AnimatorSet(); animSet.play(rotate).with(fadeInOut).after(moveIn); animSet.setDuration(5000); animSet.start(); 1234567891011121314151617181920ObjectAnimator animator1 = ObjectAnimator.ofFloat(...); animator1.setInterpolator(new LinearInterpolator()); ObjectAnimator animator2 = ObjectAnimator.ofInt(...); animator2.setInterpolator(new DecelerateInterpolator());AnimatorSet animatorSet = new AnimatorSet(); // ä¸¤ä¸ªåŠ¨ç”»ä¾æ¬¡æ‰§è¡Œ,ä½¿ç”¨ playSequentially()ï¼Œå°±å¯ä»¥è®©ä¸¤ä¸ªåŠ¨ç”»ä¾æ¬¡æ’­æ”¾ï¼Œè€Œä¸ç”¨ä¸ºå®ƒä»¬è®¾ç½®ç›‘å¬å™¨æ¥æ‰‹åŠ¨ä¸ºä»–ä»¬ç›‘ç®¡åä½œã€‚animatorSet.playSequentially(animator1, animator2); animatorSet.start(); // ä¸¤ä¸ªåŠ¨ç”»åŒæ—¶æ‰§è¡ŒanimatorSet.playTogether(animator1, animator2); animatorSet.start();// ä½¿ç”¨ AnimatorSet.play(animatorA).with/before/after(animatorB)// çš„æ–¹å¼æ¥ç²¾ç¡®é…ç½®å„ä¸ª Animator ä¹‹é—´çš„å…³ç³»animatorSet.play(animator1).with(animator2); animatorSet.play(animator1).before(animator2); animatorSet.play(animator1).after(animator2); animatorSet.start(); 1.3 åŒä¸€ä¸ªåŠ¨ç”»ä¸­æ”¹å˜å¤šä¸ªå±æ€§ï¼š PropertyValuesHolder12345PropertyValuesHolder holder1 = PropertyValuesHolder.ofFloat("scaleX", 1);PropertyValuesHolder holder2 = PropertyValuesHolder.ofFloat("scaleY", 1); PropertyValuesHolder holder3 = PropertyValuesHolder.ofFloat("alpha", 1);ObjectAnimator animator = ObjectAnimator.ofPropertyValuesHolder(view, holder1, holder2, holder3) animator.start(); 1.4 æŠŠåŒä¸€ä¸ªå±æ€§æ‹†åˆ†ï¼šPropertyValuesHolders.ofKeyframe()12345678910// åœ¨ 0% å¤„å¼€å§‹Keyframe keyframe1 = Keyframe.ofFloat(0, 0); // æ—¶é—´ç»è¿‡ 50% çš„æ—¶å€™ï¼ŒåŠ¨ç”»å®Œæˆåº¦ 100%Keyframe keyframe2 = Keyframe.ofFloat(0.5f, 100); // æ—¶é—´è§è¿‡ 100% çš„æ—¶å€™ï¼ŒåŠ¨ç”»å®Œæˆåº¦å€’é€€åˆ° 80%ï¼Œå³åå¼¹ 20%Keyframe keyframe3 = Keyframe.ofFloat(1, 80); PropertyValuesHolder holder = PropertyValuesHolder.ofKeyframe("progress", keyframe1, keyframe2, keyframe3);ObjectAnimator animator = ObjectAnimator.ofPropertyValuesHolder(view, holder); animator.start(); ï¼ˆ2ï¼‰ViewPropertyAnimatorï¼ˆAndroid3.1ï¼‰ è¯¥ç±»å¯ä»¥åœ¨Viewå¯¹è±¡ä¸Šè‡ªåŠ¨ä¼˜åŒ–åŠ¨ç”»é€‰æ‹©å±æ€§ã€‚ å¦‚æœViewå¯¹è±¡ä¸Šåªæœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªå±æ€§è¢«è®¾ç½®ä¸ºåŠ¨ç”»ï¼Œæ¨èä½¿ç”¨ObjectAnimatorã€‚ç”±ObjectAnimatorè°ƒç”¨çš„å±æ€§è®¾ç½®å™¨èƒ½å¤Ÿæ­£ç¡®åœ°è®¾ç½®å±æ€§å¹¶ä½¿è§†å›¾æ— æ•ˆã€‚ ä½†æ˜¯ï¼Œå¦‚æœåŒæ—¶å¯¹å¤šä¸ªå±æ€§è¿›è¡ŒåŠ¨ç”»å¤„ç†ï¼Œæˆ–è€…åªæ˜¯æƒ³è¦æ›´æ–¹ä¾¿çš„è¯­æ³•æ¥ä¸ºç‰¹å®šçš„å±æ€§è®¾ç½®åŠ¨ç”»ï¼Œåˆ™ViewPropertyAnimatorå¯èƒ½æ›´é€‚åˆæ‰§è¡Œæ­¤ä»»åŠ¡ã€‚ è¿™ä¸ªç±»å¯ä»¥ä¸ºå‡ ä¸ªåŒæ—¶åŠ¨ç”»æä¾›æ›´å¥½çš„æ€§èƒ½ï¼Œå› ä¸ºå®ƒå°†ä¼˜åŒ–æ— æ•ˆè°ƒç”¨ï¼Œåªå‘ç”Ÿä¸€æ¬¡å¯¹äºå¤šä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯æ¯ä¸ªåŠ¨ç”»å±æ€§ç‹¬ç«‹åœ°å¯¼è‡´å®ƒè‡ªå·±çš„å¤±æ•ˆã€‚è€Œä¸”ï¼Œä½¿ç”¨è¿™ä¸ªç±»çš„è¯­æ³•å¯èƒ½æ›´å®¹æ˜“ä½¿ç”¨ï¼Œå› ä¸ºè°ƒç”¨è€…åªéœ€è¦å‘Šè¯‰Viewå¯¹è±¡å“ªä¸ªå±æ€§éœ€è¦åŠ¨ç”»ã€‚ è¿™ä¸ªç±»ä¸æ˜¯ç”±è°ƒç”¨è€…æ„é€ çš„ï¼Œè€Œæ˜¯ç”±Viewçš„å±æ€§æ¥åŠ¨ç”»çš„ã€‚è°ƒç”¨View.animate()å°†è¿”å›å¯¹è¯¥è§†å›¾çš„ç›¸åº”ViewPropertyAnimatorå¯¹è±¡çš„å¼•ç”¨ã€‚ imageView.animate()ä¸­çš„animate(): 1234567891011public ViewPropertyAnimator animate() &#123; if (mAnimator == null) &#123; mAnimator = new ViewPropertyAnimator(this); &#125; return mAnimator;&#125; ViewPropertyAnimator(View view) &#123; mView = view; view.ensureTransformationInfo();&#125; 2.1 åŸºæœ¬åŠŸèƒ½ï¼š rotation scale translation alpha 2.2 ä½¿ç”¨åˆ°çš„å…¶ä»–ç›¸å…³æ¥å£ï¼š Animator ï¼š åŠ¨ç”»æä¾›åŸºæœ¬æ”¯æŒçš„ç±»çš„è¶…ç±» Animator.AnimatorListener ï¼šåŠ¨ç”»ä¾¦å¬å™¨ä»åŠ¨ç”»æ¥æ”¶é€šçŸ¥ã€‚ ValueAnimator.AnimatorUpdateListener ï¼š TimeInterpolator ViewPropertyAnimatorRT 2.3 é™¤äº†åŠ¨ç”»ä¹‹å¤–çš„ä»·æ ¼setæ–¹æ³•: ViewPropertyAnimator setDuration(long duration) ViewPropertyAnimator setInterpolator(TimeInterpolator interpolator) ViewPropertyAnimator setListener(Animator.AnimatorListener listener) ViewPropertyAnimator setStartDelay(long startDelay) ViewPropertyAnimator setUpdateListener(ValueAnimator.AnimatorUpdateListener listener) 2.4 ViewPropertyAnimatoråŸºæœ¬ä½¿ç”¨ï¼Œï¼ˆåŒä¸€ä¸ªåŠ¨ç”»ä¸­æ”¹å˜å¤šä¸ªå±æ€§ï¼‰1234567imageView.animate().translationX(500f). alpha(0.2f). scaleX(1.5f). scaleY(1.5f). rotation(720). setInterpolator(new AnticipateOvershootInterpolator()). setDuration(3000); ä¸‰ã€ Animatorç›‘å¬å™¨ç»™åŠ¨ç”»è®¾ç½®ç›‘å¬å™¨ï¼Œå¯ä»¥åœ¨å…³é”®æ—¶åˆ»å¾—åˆ°åé¦ˆï¼Œä»è€ŒåŠæ—¶åšå‡ºåˆé€‚çš„æ“ä½œï¼Œä¾‹å¦‚åœ¨åŠ¨ç”»çš„å±æ€§æ›´æ–°æ—¶åŒæ­¥æ›´æ–°å…¶ä»–æ•°æ®ï¼Œæˆ–è€…åœ¨åŠ¨ç”»ç»“æŸåå›æ”¶èµ„æºç­‰ ViewPropertyAnimator ObjectAnimator setListener() addListener() setUpdateListener() addUpdateListener() set[Update]Listener() remove[Update]Listener() addPauseListener() removePauseListener() withStartAction()ä¸€æ¬¡æ€§åŠ¨ç”» withEndAction() Animatorç±»å½“ä¸­æä¾›äº†ä¸€ä¸ªaddListener()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸€ä¸ªAnimatorListenerï¼Œæˆ‘ä»¬åªéœ€è¦å»å®ç°è¿™ä¸ªAnimatorListenerå°±å¯ä»¥ç›‘å¬åŠ¨ç”»çš„å„ç§äº‹ä»¶äº†ã€‚ å››ã€ å…¶ä»–ç»„ä»¶1. æ’å€¼å™¨ - Interpolator1.1 Interpolatorçš„ä½œç”¨å†…æ’å™¨å®šä¹‰åŠ¨ç”»çš„å˜åŒ–ç‡ã€‚ è¿™å¯ä»¥ä½¿åŸºæœ¬çš„åŠ¨ç”»æ•ˆæœï¼ˆalphaï¼Œç¼©æ”¾ï¼Œå¹³ç§»ï¼Œæ—‹è½¬ï¼‰åŠ é€Ÿï¼Œå‡é€Ÿï¼Œé‡å¤ç­‰ã€‚ 1.2 Interpolatorçš„ç»§æ‰¿å…³ç³» 1.3 ç³»ç»Ÿè‡ªå¸¦æ•ˆæœ Interpolator class Resource ID AccelerateDecelerateInterpolator @android:anim/accelerate_decelerate_interpolator AccelerateInterpolator @android:anim/accelerate_interpolator AnticipateInterpolator @android:anim/anticipate_interpolator AnticipateOvershootInterpolator @android:anim/anticipate_overshoot_interpolator BounceInterpolator @android:anim/bounce_interpolator CycleInterpolator @android:anim/cycle_interpolator DecelerateInterpolator @android:anim/decelerate_interpolator LinearInterpolator @android:anim/linear_interpolator OvershootInterpolator @android:anim/overshoot_interpolator Interpolator class decription AccelerateDecelerateInterpolator å¼€å§‹å’Œç»“æŸç¼“æ…¢ï¼Œä¸­é—´åŠ é€Ÿ AccelerateInterpolator å¼€å§‹çš„æ—¶å€™ç¼“æ…¢ï¼Œä¹‹åå¼€å§‹åŠ é€Ÿ AnticipateInterpolator å¼€å§‹çš„æ—¶å€™å‘åç”©ä¸€ä¸‹ï¼Œç„¶åå‘å‰ AnticipateOvershootInterpolator å¼€å§‹çš„æ—¶å€™å‘åç”©ä¸€ä¸‹ï¼Œç„¶ååŠ é€Ÿå‘å‰ç”©è¿‡ç»ˆç‚¹ä¸€ç‚¹åå›åˆ°åŸç‚¹ BounceInterpolator åŠ¨ç”»ç»“æŸçš„æ—¶å€™å°è·ç¦»çš„æ—¶å€™åœ¨ç»ˆç‚¹å¤„å¼¹èµ· CycleInterpolator å°†é‡å¤å‘¨æœŸçš„æŒ‡å®šæ•°ç›®çš„åŠ¨ç”»ã€‚å˜åŒ–ç‡éµå¾ªæ­£å¼¦æ¨¡å¼ DecelerateInterpolator å¼€å§‹çš„æ—¶å€™å¿«ï¼Œç»“æŸçš„æ—¶å€™æ…¢ FastOutLinearInInterpolator åŠ é€Ÿè¿åŠ¨ FastOutSlowInInterpolator å…ˆåŠ é€Ÿå†å‡é€Ÿ LinearInterpolator ä»¥å¸¸é‡é€Ÿç‡å˜åŒ– LinearOutSlowInInterpolator æŒç»­å‡é€Ÿ OvershootInterpolator è¿åŠ¨åˆ°ç»ˆç‚¹åï¼Œå†²è¿‡ç»ˆç‚¹åå†å›å¼¹ PathInterpolator è‡ªå®šä¹‰åŠ¨ç”»å®Œæˆåº¦ / æ—¶é—´å®Œæˆåº¦æ›²çº¿ 2. è®¡ç®—å™¨ - TypeEvaluator å‚è€ƒï¼šhttp://hencoder.com/ui-1-7/ å‘Šè¯‰åŠ¨ç”»ç³»ç»Ÿå¦‚ä½•ä»åˆå§‹å€¼è¿‡åº¦åˆ°ç»“æŸå€¼ ç”¨äºValueAnimator.setEvaluatorï¼ˆTypeEvaluatorï¼‰å‡½æ•°çš„æ¥å£ã€‚ è¯„ä¼°è€…å…è®¸å¼€å‘äººå‘˜é€šè¿‡å…è®¸ä»–ä»¬ä¸ºåŠ¨ç”»ç³»ç»Ÿä¸èƒ½è‡ªåŠ¨ç†è§£å’Œä½¿ç”¨çš„ç±»å‹æä¾›è‡ªå®šä¹‰è¯„ä¼°å™¨æ¥ä¸ºä»»æ„å±æ€§ç±»å‹åˆ›å»ºåŠ¨ç”»ã€‚ 12345678910111213141516public interface TypeEvaluator&lt;T&gt; &#123; /** * è¯¥å‡½æ•°è¿”å›å¯¹å¼€å§‹å’Œç»“æŸå€¼è¿›è¡Œçº¿æ€§æ’å€¼çš„ç»“æœ * è¡¨ç¤ºå¼€å§‹å’Œç»“æŸå€¼ä¹‹é—´çš„æ¯”ä¾‹çš„â€œåˆ†æ•°â€ã€‚ è®¡ç®—æ˜¯ä¸€ä¸ªç®€å•çš„å‚æ•°è®¡ç®—ï¼šresult = x0 + t *ï¼ˆx1 - x0ï¼‰ * å…¶ä¸­ x0 æ˜¯ startValue ï¼Œx1 æ˜¯ endValue ï¼Œ t æ˜¯ åˆ†æ•° ã€‚ * * @å‚æ•°åˆ†æ•°ä»å¼€å§‹åˆ°ç»“æŸå€¼çš„åˆ†æ•° * @param startValueèµ·å§‹å€¼ã€‚ * @param endValueæœ€ç»ˆå€¼ã€‚ * @returnç»™å®šçš„å¼€å§‹å€¼å’Œç»“æŸå€¼ä¹‹é—´çš„çº¿æ€§æ’å€¼ * fraction ï¼šå‚æ•°fractionéå¸¸é‡è¦ï¼Œè¿™ä¸ªå‚æ•°ç”¨äºè¡¨ç¤ºåŠ¨ç”»çš„å®Œæˆåº¦çš„ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®å®ƒæ¥è®¡ç®—å½“å‰åŠ¨ç”»çš„å€¼åº”è¯¥æ˜¯å¤šå°‘ã€‚ */ public T evaluate(float fraction, T startValue, T endValue);&#125; 2.1 ä¸€ä¸ªIntEvaluatorç±»ä»£ç ï¼š123456789/** * æ­¤è¯„ä¼°ç¨‹åºå¯ç”¨äºåœ¨ int å€¼ä¹‹é—´æ‰§è¡Œç±»å‹æ’å€¼ã€‚ */public class IntEvaluator implements TypeEvaluator&lt;Integer&gt; &#123; public Integer evaluate(float fraction, Integer startValue, Integer endValue) &#123; int startInt = startValue; return (int)(startInt + fraction * (endValue - startInt)); &#125;&#125; 2.2 ä½¿ç”¨è‡ªå®šä¹‰ä¸€ä¸ªEvaluator 1234567891011public class AZEvaluator implements TypeEvaluator&lt;Character&gt; &#123; @Override public Character evaluate(float fraction, Character startValue, Character endValue) &#123; int startInt = (int)startValue; int endInt = (int)endValue; int curInt = (int)(startInt + (fraction *(endInt - startInt))); char result = (char)curInt; return result; &#125;&#125; 1234567891011121314ValueAnimator valueAnimator = ValueAnimator.ofObject(new AZEvaluator(),Character.valueOf('A'),Character.valueOf('Z'));valueAnimator.setDuration(3000);valueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() &#123; @Override public void onAnimationUpdate(ValueAnimator animation) &#123; char currentChar = (char) animation.getAnimatedValue(); Log.e(TAG, "onAnimationUpdate: " + currentChar ); showChar.setText(String.valueOf(currentChar)); &#125;&#125;);//valueAnimator.setInterpolator(new LinearInterpolator());valueAnimator.setRepeatCount(ValueAnimator.INFINITE);valueAnimator.setRepeatMode(ValueAnimator.REVERSE);valueAnimator.start(); ç¡¬ä»¶åŠ é€Ÿ ï¼Ÿï¼ å‚è€ƒï¼šhttp://hencoder.com/ui-1-8/ ç¡¬ä»¶åŠ é€Ÿèƒ½å¤Ÿè®©ç»˜åˆ¶å˜å¿«ï¼Œä¸»è¦æœ‰ä¸‰ä¸ªåŸå›  æœ¬æ¥ç”± CPU è‡ªå·±æ¥åšçš„äº‹ï¼Œåˆ†æ‘Šç»™äº† GPU ä¸€éƒ¨åˆ†ï¼Œè‡ªç„¶å¯ä»¥æé«˜æ•ˆç‡ï¼› ç›¸å¯¹äº CPU æ¥è¯´ï¼ŒGPU è‡ªèº«çš„è®¾è®¡æœ¬æ¥å°±å¯¹äºå¾ˆå¤šå¸¸è§ç±»å‹å†…å®¹çš„è®¡ç®—ï¼ˆä¾‹å¦‚ç®€å•çš„åœ†å½¢ã€ç®€å•çš„æ–¹å½¢ï¼‰å…·æœ‰ä¼˜åŠ¿ï¼› ç”±äºç»˜åˆ¶æµç¨‹çš„ä¸åŒï¼Œç¡¬ä»¶åŠ é€Ÿåœ¨ç•Œé¢å†…å®¹å‘ç”Ÿé‡ç»˜çš„æ—¶å€™ç»˜åˆ¶æµç¨‹å¯ä»¥å¾—åˆ°ä¼˜åŒ–ï¼Œé¿å…äº†ä¸€äº›é‡å¤æ“ä½œï¼Œä»è€Œå¤§å¹…æå‡ç»˜åˆ¶æ•ˆç‡ã€‚ åŸç†åœ¨ç¡¬ä»¶åŠ é€Ÿå…³é—­çš„æ—¶å€™ï¼ŒCanvas ç»˜åˆ¶çš„å·¥ä½œæ–¹å¼æ˜¯ï¼šæŠŠè¦ç»˜åˆ¶çš„å†…å®¹å†™è¿›ä¸€ä¸ª Bitmapï¼Œç„¶ååœ¨ä¹‹åçš„æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ª Bitmap çš„åƒç´ å†…å®¹è¢«ç›´æ¥ç”¨äºæ¸²æŸ“åˆ°å±å¹•ã€‚è¿™ç§ç»˜åˆ¶æ–¹å¼çš„ä¸»è¦è®¡ç®—å·¥ä½œåœ¨äºæŠŠç»˜åˆ¶æ“ä½œè½¬æ¢ä¸ºåƒç´ çš„è¿‡ç¨‹ï¼ˆä¾‹å¦‚ç”±ä¸€å¥ Canvas.drawCircle() æ¥è·å¾—ä¸€ä¸ªå…·ä½“çš„åœ†çš„åƒç´ ä¿¡æ¯ï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹çš„è®¡ç®—æ˜¯ç”± CPU æ¥å®Œæˆçš„ã€‚å¤§è‡´å°±åƒè¿™æ ·ï¼š è€Œåœ¨ç¡¬ä»¶åŠ é€Ÿå¼€å¯æ—¶ï¼ŒCanvas çš„å·¥ä½œæ–¹å¼æ”¹å˜äº†ï¼šå®ƒåªæ˜¯æŠŠç»˜åˆ¶çš„å†…å®¹è½¬æ¢ä¸º GPU çš„æ“ä½œä¿å­˜äº†ä¸‹æ¥ï¼Œç„¶åå°±æŠŠå®ƒäº¤ç»™ GPUï¼Œæœ€ç»ˆç”± GPU æ¥å®Œæˆå®é™…çš„æ˜¾ç¤ºå·¥ä½œã€‚å¤§è‡´æ˜¯è¿™æ ·ï¼š é™åˆ¶]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰View-5 Viewçš„ç»˜åˆ¶é¡ºåº]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89View-5%20View%E7%9A%84%E7%BB%98%E5%88%B6%E9%A1%BA%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://hencoder.com/ui-1-5/ åœ¨å„ä¸ªé‡å†™æ–¹æ³•ä¸­çš„ å‰ or åï¼Ÿç»˜åˆ¶åœ¨super.XXX()ä¹‹å‰ï¼Œè¦†ç›–ä¹‹åç»˜åˆ¶çš„å†…å®¹ï¼›ç»˜åˆ¶åœ¨super.XXX()ä¹‹åï¼Œåˆ™è¦†ç›–ä¹‹å‰ç»˜åˆ¶çš„å†…å®¹ã€‚ å°æ‹›æ•°Debug æ¨¡å¼ä¸‹ç»˜åˆ¶å‡ºé¢å¤–çš„ä¿¡æ¯ï¼šå¦‚ï¼š ç»˜åˆ¶è¿‡ç¨‹ æ³¨æ„ å¤„äºæ•ˆç‡é—®é¢˜ï¼ŒViewGroupé»˜è®¤ç»•è¿‡draw()æ–¹æ³•ï¼Œç›´æ¥æ‰§è¡ŒdispatchDraw()ï¼Œä»¥æ­¤æ¥ç®€åŒ–æµç¨‹ã€‚è‹¥ç»§æ‰¿äº†ViewGroupè¦åœ¨é™¤dispatchDraw()ä»¥å¤–çš„æ–¹æ³•è¿›è¡Œå†…å®¹çš„ç»˜åˆ¶ï¼Œè°ƒç”¨View.setWillNotDraw(false)æ–¹æ³•å¯èƒ½ä¼šæœ‰ç”¨ï¼Œå› ä¸ºæœ‰äº›æ–¹æ³•å·²ç»ä½¿ç”¨æ­¤æ–¹æ³•ã€‚ å¦‚æœç»˜åˆ¶ä»£ç æ—¢å¯ä»¥å†™åœ¨onDraw()äº¦å¯ä»¥å†™åœ¨å…¶ä»–æ–¹æ³•é‡Œæ—¶ï¼Œå†™åœ¨onDraw()ä¸­æœ€åˆé€‚ï¼Œå› ä¸ºAndroidæœ¬èº«å¯¹onDraw()æœ‰ä¼˜åŒ–ï¼Œåœ¨ä¸éœ€è¦é‡ç»˜æ—¶è‡ªåŠ¨è·³è¿‡onDraw()ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰View-4 Canvasçš„è¾…åŠ©ç»˜åˆ¶]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89View-4%20Canvas%E7%9A%84%E8%BE%85%E5%8A%A9%E7%BB%98%E5%88%B6%2F</url>
    <content type="text"><![CDATA[1. Canvasä¸Cameraä¸­ä¸å¯å¿½ç•¥çš„ä¸¤ä¸ªæ–¹æ³•ï¼šå¯¹åŒä¸€ä¸ªå›¾ç‰‡å¯¹è±¡è¿›è¡Œå¤„ç†æ—¶ï¼Œéœ€è¦æ—¶æ—¶æ³¨æ„çš„ä¸¤ä¸ªæ–¹æ³•ã€‚ save() : ä¿å­˜å¤„ç†ä¹‹å‰çš„çŠ¶æ€ restore() ï¼šæ¢å¤ â€œä¿å­˜å¤„ç†ä¹‹å‰çš„çŠ¶æ€â€ 2. å¤„ç†çš„é¡ºåºé—®é¢˜ï¼šå¯¹äºä¸€ä¸ªå›¾ç‰‡è¿›è¡Œå¤šé¡¹æ“ä½œå¤„ç†æ—¶å€™ï¼Œå®é™…å¤„ç†ä»£ç çš„é¡ºåºæ˜¯ä»ä¸‹å‘ä¸Šçš„ã€‚Canvasçš„é¡ºåºæ˜¯åç€çš„ã€‚ 3. è£å‰ª ClipCanvasä¸­ä¸Clipæœ‰å…³çš„æ–¹æ³•ï¼š å…±æœ‰2ç±»ï¼šPathå’ŒRect 3.1 Rectè£å‰ªcanvas.clipRect(left,top,left + 130,top + 150); canvas.drawBitmap(bitmap, left, top, paint); 3.2 Pathè£å‰ª//åœ†å½¢æŠ å›¾ canvas.save(); canvas.translate(250,500); Path path = new Path(); path.addCircle(100,200,100, Path.Direction.CW); canvas.clipPath(path); canvas.drawBitmap(bitmap,0,0,paint); canvas.restore(); //å¿ƒå½¢æŒ–ç©º canvas.save(); canvas.translate(600,500); Path path1 = new Path(); path1.setFillType(Path.FillType.INVERSE_WINDING); path1.arcTo(50,100,150,200,135,225,false); path1.arcTo(150,100,250,200,180,225,false); path1.lineTo(150,300); path1.close(); canvas.clipPath(path1); canvas.drawBitmap(bitmap,0,0,paint); canvas.restore(); //å¿ƒå½¢æŠ å›¾ canvas.save(); canvas.translate(1000,500); Path path2 = new Path(); path2.setFillType(Path.FillType.EVEN_ODD); path2.arcTo(50,100,150,200,135,225,false); path2.arcTo(150,100,250,200,180,225,false); path2.lineTo(150,300); path2.close(); canvas.clipPath(path2); canvas.drawBitmap(bitmap,0,0,paint); canvas.restore(); 4. å˜æ¢ Canvasï¼ŒMatrixï¼ŒCamera4.1 Canvaså˜æ¢å…±æœ‰4ç±»ï¼š scale translate skew rotate ä»–ä»¬çš„ä½¿ç”¨æ–¹å¼ç›¸åŒï¼Œå”¯ä¸€å°±æ˜¯å‚æ•°ç±»å‹ä¸åŒã€‚ skewçš„ä½¿ç”¨ 123456789101112131415161718192021/** * æ–œåˆ‡ */ canvas.save(); canvas.translate(0,200); /** * @param sxåœ¨Xä¸­æ­ªæ–œçš„æ•°é‡ * @param syåœ¨Yä¸­å€¾æ–œçš„æ•°é‡ */ canvas.skew(0f,0.5f); canvas.drawBitmap(bitmap, point1.x, point1.y, paint); canvas.restore(); canvas.save(); canvas.translate(700,400); /** * @param sxåœ¨Xä¸­æ­ªæ–œçš„æ•°é‡ * @param syåœ¨Yä¸­å€¾æ–œçš„æ•°é‡ */ canvas.skew(-0.5f,0f); canvas.drawBitmap(bitmap, point1.x, point1.y, paint); canvas.restore(); 4.2 Matrixå˜æ¢å¤§è‡´ä½¿ç”¨ Matrix matrix = new Matrix(); canvas.drawBitmap(bitmap, point1.x, point1.y, paint); canvas.save(); matrix.postTranslate(0,300); canvas.concat(matrix); canvas.drawBitmap(bitmap, point1.x, point1.y, paint); canvas.restore(); canvas.translate(0,-300); canvas.save(); matrix.preTranslate(0,-300); canvas.concat(matrix); canvas.drawBitmap(bitmap, point1.x, point1.y, paint); canvas.restore(); 4.3 Cameraå˜æ¢ä¸­çš„ä½¿ç”¨Canvaså’ŒMatrixä»…èƒ½å¯¹å›¾åƒå®ç°äºŒç»´æ•ˆæœçš„æ˜¯å®ç°ï¼Œè€ŒCameraæ‰€åœ¨çš„æ˜¯ç©ºé—´ä¸‰ç»´åæ ‡ç³»ï¼Œèƒ½å¤Ÿå®ç°ç©ºé—´å˜æ¢æ•ˆæœã€‚ 4.3.1 åˆæ¬¡å®ç°å˜æ¢123456789101112131415161718Camera camera = new Camera();canvas.translate(100,200);canvas.save();camera.save();camera.rotateX(30);camera.applyToCanvas(canvas);camera.restore();canvas.drawBitmap(bitmap, point1.x, point1.y, paint);canvas.restore();canvas.translate(100,-200);canvas.save();camera.save();camera.rotateY(30);camera.applyToCanvas(canvas);camera.restore();canvas.drawBitmap(bitmap, point1.x, point1.y, paint);canvas.restore(); å¾ˆæ˜æ˜¾å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç©ºé—´åæ ‡ç³»ä¸­è¿›è¡Œcameraå˜æ¢åï¼Œå¾—åˆ°çš„æ•ˆæœå·²ç»å¤±çœŸã€‚ * Androidçš„Cameraä¸­çš„è½´æ˜¯ä¸€ä¸ªæ§ä»¶ä¸‰ç»´è½´ï¼šXã€Yã€Zï¼Œ3ä¸ªè½´ï¼Œcameraæ‰€å¯¹åº”çš„åŸç‚¹å¹¶ä¸æ˜¯å›¾åƒçš„åŸç‚¹ï¼Œè€Œæ˜¯ä¸‰ç»´åæ ‡è½´çš„åŸç‚¹ã€‚ * * æ‰€ä»¥å›¾åƒå¦‚æœæƒ³åœ¨cameraä¸‹æ²¿å„ä¸ªè½´åš&quot;å¹³é¢ï¼ˆä¸å¤±çœŸï¼‰&quot;çš„æ—‹è½¬ï¼Œå°±è¦ä»¥å›¾åƒçš„ä¸­å¿ƒä¸ºè½´å¿ƒè¿›è¡Œæ—‹è½¬ï¼Œä½†æ˜¯cameraä¸æ”¯æŒè®¾ç½®è½´å¿ƒï¼Œæ‰€ä»¥è¦é€šè¿‡Canvasè¿›è¡Œè½´å¿ƒçš„å†è®¾ç½®ã€‚ * * é€šè¿‡Canvaså°†å›¾åƒçš„ä¸­å¿ƒç§»åŠ¨åˆ°è½´çš„ä¸­å¿ƒã€‚å¾…æ—‹è½¬ç»“æŸä¹‹åå†å°†å›¾å½¢çš„è½´å¿ƒç§»åŠ¨å›ä¹‹å‰çš„ä½ç½®ã€‚ * * æ‰€ä»¥ï¼Œåœ¨cameraä¸‹å°†å›¾åƒè¿›è¡Œæ—‹è½¬å®é™…çš„æ“ä½œæ­¥éª¤æ˜¯ï¼š * * 1ï¼‰å°†å›¾åƒä¸­å¿ƒç§»åŠ¨è‡³ç©ºé—´åæ ‡ç³»çš„è½´å¿ƒ * 2ï¼‰æ‰§è¡Œå›¾åƒçš„é€‰è£… * 3ï¼‰æ¢å¤å›¾åƒåŸæ¥çš„è½´å¿ƒä½ç½®ã€‚ * * é€šè¿‡ç§»åŠ¨å›¾åƒçš„åæ ‡åŸç‚¹åï¼Œå¯¹å›¾åƒçš„Xã€Yã€Zè½´åˆ†åˆ«æ—‹è½¬30åº¦åï¼Œä¸‰ä¸ªå›¾åƒæ˜¯é‡åˆåœ¨ä¸€èµ·çš„ã€‚å³ï¼š * ä»–ä»¬çš„è½´å¿ƒæ˜¯åŒä¸€ä¸ªç‚¹ã€‚ 4.3.2 Cameraçš„ç©ºé—´åæ ‡è½´æ³¨æ„ï¼šå’ŒCameraåæ ‡æœ‰å…³çš„å›¾ç‰‡å‡æ¥è‡ªâ€œæ‰”ç‰©çº¿â€çš„ä¸ªäººè§†é¢‘æˆªå›¾ï¼Œæ­¤å¤„ç‰¹æ­¤å£°æ˜ã€‚ Cameraçš„ç©ºé—´åæ ‡ç³»çš„æ—‹è½¬æ–¹å‘ï¼š 4.3.3 ä¿®æ­£ä¹‹å123456789101112131415161718192021222324252627282930313233343536373839404142//å¯¹Xè½´è¿›è¡Œ30åº¦æ—‹è½¬//ä¿å­˜å˜æ›´å‰çš„çŠ¶æ€camera.save();canvas.save();//é€šè¿‡canvaå°†ä¸‰ç»´åæ ‡ç³»çš„è½´å¿ƒç§»åŠ¨è‡³å›¾åƒçš„åŸç‚¹ï¼Œæ¢å¤åˆ°ä¹‹å‰çš„ç©ºé—´çŠ¶æ€ã€‚canvas.translate(center1X, center1Y);//åœ¨cameraä¸‹å°†å›¾åƒæ²¿ç€xè½´æ—‹è½¬30åº¦camera.rotateX(30);//è·å¾—åœ¨cameraä¸‹å›¾åƒçš„æ—‹è½¬ç»“æœï¼Œå¹¶å°†ç»“æœåº”ç”¨åˆ°canvasä¸­.camera.applyToCanvas(canvas);//é€šè¿‡canvaå°†å›¾åƒçš„åŸç‚¹ç§»åŠ¨è‡³ä¸‰ç»´åæ ‡ç³»çš„è½´å¿ƒcanvas.translate(-center1X, -center1Y);//cameraå¤„ç†ç»“æŸåï¼Œæ¢å¤åˆ°ä¹‹å‰çš„savaçŠ¶æ€camera.restore();//å°†å¾—åˆ°çš„å›¾åƒçš„ç»“æœè¿›è¡Œç»˜åˆ¶ã€‚canvas.drawBitmap(bitmap, point1.x, point1.y, paint);//canvaså¤„ç†ç»“æŸåï¼Œæ¢å¤åˆ°ä¹‹å‰çš„savaçŠ¶æ€canvas.restore();//å¯¹Yè½´è¿›è¡Œ30åº¦æ—‹è½¬canvas.translate(400, 0);camera.save();canvas.save();canvas.translate(center1X, center1Y);camera.rotateY(30);camera.applyToCanvas(canvas);canvas.translate(-center1X, -center1Y);camera.restore();canvas.drawBitmap(bitmap, point1.x, point1.y, paint);canvas.restore();//å¯¹Zè½´è¿›è¡Œ30åº¦æ—‹è½¬canvas.translate(400, 0);camera.save();canvas.save();canvas.translate(center1X, center1Y);camera.rotateZ(30);camera.applyToCanvas(canvas);canvas.translate(-center1X, -center1Y);camera.restore();canvas.drawBitmap(bitmap, point1.x, point1.y, paint);canvas.restore(); å®é™…æ‰§è¡Œè¿‡ç¨‹ åœ¨ç©ºé—´åæ ‡è½´ä¸­çš„ç§»åŠ¨è¿‡ç¨‹å¤§è‡´ä¸ºï¼š å…ˆå°†å›¾çš„åŸç‚¹ç§»åŠ¨åˆ°ç©ºé—´åæ ‡ç³»çš„åŸç‚¹ã€‚å³ä»£ç ï¼š canvas.translate(-center1X, -center1Y); ç„¶åæ‰§è¡Œå…·ä½“çš„å˜æ¢æ“ä½œï¼Œä»£ç ï¼šcamera.rotateZ(30); è·å–å˜æ¢åçš„æŠ•å½± å¾—åˆ°æŠ•å½±ç»“æœåï¼Œå†å°†å›¾åƒçš„åŸç‚¹ç§»åŠ¨åˆ°ä¹‹å‰çš„ä½ç½®ã€‚ è¿è¡Œç»“æœ è®¾ç½®è™šæ‹ŸCameraçš„ä½ç½® 123DisplayMetrics displayMetrics = getResources().getDisplayMetrics();float newZ = - displayMetrics.density * 6;camera.setLocation(0, 0, newZ); 5. ä¸ºè‡ªå®šä¹‰ä¸­çš„å›¾åƒæ·»åŠ  åŠ¨ç”»5.1 æ­¥éª¤ï¼ˆ1ï¼‰å£°æ˜ObjectAnimatorå¯¹è±¡å¹¶è¿›è¡Œåˆå§‹åŒ–ã€‚12int degree;ObjectAnimator mAnimator = ObjectAnimator.ofInt(this,"degree",180,0); ï¼ˆ2ï¼‰å¯¹ObjectAnimatorå¯¹è±¡è¿›è¡Œå…·ä½“è®¾ç½®123456//è®¾ç½®æ—¶é•¿mAnimator.setDuration(2000);//è®¾ç½®æ’å€¼å™¨mAnimator.setInterpolator(new FastOutLinearInInterpolator());//æ— é™é‡å¤mAnimator.setRepeatCount(ValueAnimator.INFINITE); ï¼ˆ3ï¼‰é‡å†™ç›¸åº”çš„æ–¹æ³•è®¾ç½®åŠ¨ç”»çš„å¼€å§‹å’Œç»“æŸ1234567891011@Overrideprotected void onAttachedToWindow() &#123; super.onAttachedToWindow(); mAnimator.start();&#125;@Overrideprotected void onDetachedFromWindow() &#123; super.onDetachedFromWindow(); mAnimator.end();&#125; ï¼ˆ4ï¼‰è®¾ç½®å«æœ‰degreeå±æ€§çš„æ–¹æ³•1234567//unusedè¿™ä¸ªå‚æ•°æ˜¯å±è”½ï¼šå®šä¹‰çš„å˜é‡åœ¨ä»£ç ä¸­å¹¶æœªä½¿ç”¨ä¸”æ— æ³•è®¿é—®@SuppressWarnings("unused")public void setDegree(int degree)&#123; this.degree = degree; //æ‰§è¡Œé‡ç»˜ invalidate();&#125; ï¼ˆ5ï¼‰ä½¿ç”¨å‚æ•°1mCamera.rotateX(degree); 5.2 ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899public class CameraFlipBoard extends View &#123; Paint mPaint = new Paint(Paint.ANTI_ALIAS_FLAG); Camera mCamera = new Camera(); Bitmap mBitmap; int degree; ObjectAnimator mAnimator = ObjectAnimator.ofInt(this,"degree",180,0); public CameraFlipBoard(Context context) &#123; super(context); &#125; public CameraFlipBoard(Context context, @Nullable AttributeSet attrs) &#123; super(context, attrs); &#125; public CameraFlipBoard(Context context, @Nullable AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); &#125; //è®¾ç½®è‡ªå®šä¹‰åŠ¨ç”» &#123; mBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.maps); mAnimator.setDuration(2000); mAnimator.setInterpolator(new FastOutLinearInInterpolator()); //æ— é™é‡å¤ mAnimator.setRepeatCount(ValueAnimator.INFINITE); &#125; @Override protected void onAttachedToWindow() &#123; super.onAttachedToWindow(); mAnimator.start(); &#125; @Override protected void onDetachedFromWindow() &#123; super.onDetachedFromWindow(); mAnimator.end(); &#125; //unusedè¿™ä¸ªå‚æ•°æ˜¯å±è”½ï¼šå®šä¹‰çš„å˜é‡åœ¨ä»£ç ä¸­å¹¶æœªä½¿ç”¨ä¸”æ— æ³•è®¿é—® @SuppressWarnings("unused") public void setDegree(int degree)&#123; this.degree = degree; //æ‰§è¡Œé‡ç»˜ invalidate(); &#125; @Override protected void onDraw(Canvas canvas) &#123; super.onDraw(canvas); float centerX = getWidth() / 2; float centerY = getHeight() / 2; float cbx = centerX - mBitmap.getWidth() / 2; float cby = centerY - mBitmap.getHeight() / 2; /* æœ¬æ¬¡è¦å®ç°çš„æ˜¯ç”±å›¾ç‰‡çš„ä¸­é—´å¼€å§‹ï¼Œä¸ŠåŠéƒ¨åˆ†ä¸åŠ¨ï¼Œä¸‹åŠéƒ¨åˆ†ç”±ä¸Šå¾€ä¸‹ç¿»180åº¦ã€‚ æ‰€ä»¥ï¼Œä¸€å¼ å›¾ç‰‡è¦è¢«åˆ†æˆ2éƒ¨åˆ†ï¼š ä¸ŠåŠéƒ¨åˆ†ç»˜åˆ¶å®Œæˆä¹‹åä¸åŠ¨ ä¸‹åŠéƒ¨åˆ†åˆ™æ˜¯åå‘è½¬åŠ¨180åº¦ */ //ä¸ŠåŠéƒ¨åˆ† canvas.save(); canvas.clipRect(0,0,getWidth(),centerY); canvas.drawBitmap(mBitmap, cbx,cby, mPaint); canvas.restore(); /* æœªç»ç§»åŠ¨çš„canvasåæ ‡åŸç‚¹å³ä¸ºcameraçš„åæ ‡åŸç‚¹ã€‚ ç§»åŠ¨çš„è·ç¦»è¦çœ‹ å…·ä½“çš„bitmapæ‰€åœ¨çš„å…·ä½“ä½ç½®ï¼š è‹¥bitmapåœ¨viewçš„åæ ‡åŸç‚¹ï¼Œåˆ™ç§»åŠ¨bitmapçš„width/2å’Œheight/2å³å¯ã€‚ è‹¥bitmapä¸åœ¨viewçš„åæ ‡åŸç‚¹ï¼Œåˆ™è¦æ ¹æ®ä»–ä»¬çš„ç›¸å¯¹ä½ç½®è¿›è¡Œè®¡ç®—åç§»åŠ¨ã€‚ */ //ä¸‹åŠéƒ¨åˆ† canvas.save(); if (degree &lt; 90) &#123; canvas.clipRect(0,centerY,getWidth(),getHeight()); &#125; else &#123; canvas.clipRect(0,0,getWidth(),centerY); &#125; mCamera.save(); canvas.translate(centerX,centerY); mCamera.rotateX(degree); mCamera.applyToCanvas(canvas); canvas.translate(-centerX,-centerY); mCamera.restore(); canvas.drawBitmap(mBitmap,cbx,cby,mPaint); canvas.restore(); &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android7.0æ–°ç‰¹æ€§-Shortcuts]]></title>
    <url>%2FAndroid7-0%E6%96%B0%E7%89%B9%E6%80%A7-Shortcuts%2F</url>
    <content type="text"><![CDATA[è¯´æ˜å¦‚æœä½ çš„App targets android7.1ï¼ˆAPI level25ï¼‰æˆ–è€…æ›´é«˜ï¼Œä½ å°±å¯ä»¥åœ¨ä½ çš„appä¸­å®šä¹‰å¿«æ·æ–¹å¼æ¥æ”¯æŒç‰¹æ®Šçš„actionsã€‚è¿™äº›å¿«æ·æ–¹å¼å¯ä»¥æ˜¾ç¤ºåœ¨å¯åŠ¨å›¾æ ‡ä¸Šï¼Œå¿«æ·æ–¹å¼å¯ä»¥åœ¨ä½ çš„appå†…è®©ç”¨æˆ·å¿«é€Ÿå¼€å§‹ä½¿ç”¨å‘½ä»¤æˆ–è€…æ¨èä»»åŠ¡ã€‚Shortcutsæ˜¯Android7.0çš„æ–°ç‰¹æ€§ï¼Œå®ƒçš„åŠŸèƒ½å°±åƒæ˜¯ç±»ä¼¼iphoneçš„3D Touchï¼Œé€‰ä¸­å…¶ä¸­çš„ä¸€æ¡Shortcutåï¼Œç‚¹å‡»æ˜¯æ‰“å¼€å¯¹åº”çš„appç•Œé¢ï¼Œé•¿æŒ‰åˆ™æ˜¯å°†æ­¤æ¡Shortcutæ·»åŠ è‡³æ¡Œé¢ã€‚ ä»¥ç½‘æ˜“äº‘éŸ³ä¹ä¸ºä¾‹è¿›è¡Œå±•ç¤ºã€‚ é•¿æŒ‰å¸¦æœ‰shorcutsåŠŸèƒ½çš„appæ—¶ï¼Œè¯¥æœ‰çš„æ ·å¼ã€‚ å•ä¸ªshortcutå›ºå®šåˆ°æ¡Œé¢æ—¶çš„æ ·å¼ã€‚å…¶ä¸­å¤§çš„èƒŒæ™¯iconæ˜¯åœ¨shortcutsä¸­è‡ªå·±è®¾ç½®çš„ï¼Œå³ä¸‹è§’å°çš„èƒŒæ™¯iconæ˜¯appçš„iconã€‚ å®ç°ä½ ä¹Ÿå¯ä»¥åœ¨ä½ çš„appä¸­å‘å¸ƒä¸¤ä¸ªä¸åŒç±»å‹çš„å¿«æ·æ–¹å¼ é™æ€å¿«æ·æ–¹å¼è¢«å®šä¹‰åœ¨ä¸€ä¸ªèµ„æºæ–‡ä»¶ä¸­ã€‚å› æ­¤ï¼Œä½ å¿…é¡»ç­‰åˆ°ç›´åˆ°ä½ çš„appæ›´æ–°åï¼Œæ‰èƒ½æ”¹å˜â€œé™æ€å¿«æ·æ–¹å¼â€ä¸­çš„è¯¦æƒ…ã€‚ åŠ¨æ€å¿«æ·æ–¹å¼æ˜¯é€šè¿‡åœ¨è¿è¡Œæ—¶ä½¿ç”¨ShortcutManager APIæ¥å‘å¸ƒçš„ï¼Œåœ¨è¿è¡Œæ—¶ï¼Œä½ çš„appå¯ä»¥å‘å¸ƒã€æ›´æ–°ã€å’Œç§»é™¤ã€‚ åœ¨ä½ çš„appä¸­åŒä¸€æ—¶é—´è‡³å¤šå¯ä»¥å‘å¸ƒ5ä¸ªå¿«æ·æ–¹å¼ï¼ˆé™æ€å’ŒåŠ¨æ€ç»“åˆï¼‰ã€‚ç„¶è€Œä¸å¿…æ˜¾ç¤ºä½ æ‰€åˆ›å»ºçš„æ¯ä¸€ä¸ªã€‚ åŠ¨æ€ä½¿ç”¨åˆ°çš„ç±» ShortcutManagerï¼ŒShortcutInfoã€‚å…¶ä¸­ï¼ŒShortcutManagerç”¨äºç®¡ç†ShortcutInfoï¼Œè€ŒShortcutInfoåˆ™æ˜¯æ‰§è¡Œå…·ä½“çš„åˆ›å»ºã€‚ ç®€å•çš„åˆçº§å®ç°ï¼šmanager = getSystemService(ShortcutManager.class); //ç¬¬ä¸€æ­¥ï¼šShortcutInfo å¯¹è±¡ ShortcutInfo info = new ShortcutInfo.Builder(this,&quot;id1&quot;) //æ­¤æ¡shortcutçš„icon .setIcon(Icon.createWithResource(MainActivity.this,R.mipmap.ic_launcher_round)). //å›ºå®šåˆ°æ¡Œé¢æ—¶æ˜¾ç¤ºçš„æ–‡å­— setShortLabel(&quot;Trinea&quot;). //æŒ‰ä½appçš„iconåæ­¤æ¡shortcutåœ¨æ˜¾ç¤ºæ—¶çš„ä½ç½® setRank(1). //æŒ‰ä½appçš„iconåæ­¤æ¡shortcutæ˜¾ç¤ºçš„æ–‡å­— setLongLabel(&quot;æ‰“å¼€Trineaä¸»é¡µ&quot;). //æ­¤æ¡shortcutæ‰§è¡Œçš„åŠŸèƒ½ setIntents(intents). build(); //ShortcutInfo å¯¹è±¡ ShortcutInfo info2 = new ShortcutInfo.Builder(this,&quot;id2&quot;). setIcon(Icon.createWithResource(MainActivity.this,R.mipmap.ic_launcher_round)). setShortLabel(&quot;ç™¾åº¦&quot;). setRank(2). setLongLabel(&quot;ç™¾åº¦ä¸€ä¸‹&quot;). setIntent(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://www.baidu.com/&quot;))). build(); //ShortcutInfo å¯¹è±¡ ShortcutInfo info3 = new ShortcutInfo.Builder(this,&quot;id0&quot;). setIcon(Icon.createWithResource(MainActivity.this,R.mipmap.ic_launcher_round)). setShortLabel(&quot;SecondActivity&quot;). setDisabledMessage(&quot;æ­¤å¿«æ·æ–¹å¼å·²ç»è¢«ç¦ç”¨&quot;). setRank(3). setLongLabel(&quot;æ‰“å¼€ SecondActivity&quot;). setIntents(intents2). build(); //ç¬¬äºŒæ­¥ï¼šæ•´ç†shortcutå¯¹è±¡ dynamicShortcuts.add(info); dynamicShortcuts.add(info2); dynamicShortcuts.add(info3); //ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡managerè®¾ç½®shortcut //manager.addDynamicShortcuts(Arrays.asList(info)); manager.setDynamicShortcuts(dynamicShortcuts); é™æ€éœ€è¦çš„æ–‡ä»¶AndroidManifest.xmlã€‚ åœ¨è§¦å‘Shortcutsçš„Activityçš„activityæ ‡ç­¾é…ç½®ä¸­ï¼Œæ·»åŠ meta-dataæ ‡ç­¾ã€‚å…·ä½“ä¸ºï¼š &lt;activity android:name=&quot;.MainActivity&quot;&gt; &lt;intent-filter&gt; &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt; &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt; &lt;/intent-filter&gt; &lt;meta-data android:name=&quot;android.app.shortcuts&quot; android:resource=&quot;@xml/my_shortcut&quot;/&gt; &lt;/activity&gt; å…¶ä¸­android:resourceæŒ‡å‘å®šä¹‰äº† shortcuts çš„èµ„æºæ–‡ä»¶ã€‚ åˆ›å»ºä¸€ä¸ªèµ„æºæ–‡ä»¶ï¼Œåœ¨res/xml/ç›®å½•ä¸‹ï¼Œæ–‡ä»¶çš„åå­—åŒmeta-dataè‡ªå·±ç¼–å†™çš„my_shortcutï¼š åœ¨è¿™ä¸ªèµ„æºæ–‡ä»¶ä¸­ä½¿ç”¨shortcutsä½œä¸ºæ ¹å…ƒç´ ï¼Œå®ƒåŒ…å«å¤šä¸ªshortcutæ ‡ç­¾åˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªshortcut å°±æ˜¯ä¸€ä¸ª`é™æ€å¿«æ·æ–¹å¼`ã€‚ ä¸€ä¸ªshortcutçš„å…·ä½“ä¸ºï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;shortcuts xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt; &lt;shortcut android:enabled=&quot;true&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:shortcutDisabledMessage=&quot;@string/message&quot; android:shortcutId=&quot;static&quot; android:shortcutLongLabel=&quot;@string/longlaber&quot; android:shortcutShortLabel=&quot;@string/shortlaber&quot;&gt; &lt;intent android:action=&quot;android.intent.action.VIEW&quot; android:targetClass=&quot;com.example.shortcutsmy.SecondActivity&quot; android:targetPackage=&quot;com.example.shortcutsmy&quot; /&gt; &lt;/shortcut&gt; &lt;/shortcuts&gt; è¯´æ˜ shortcutIdè¡¨ç¤º shortcut å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç›¸åŒçš„ shortcutId ä¼šè¢«è¦†ç›–ã€‚å¿…é¡»å­—æ®µã€‚ shortcutShortLabelä¸ºå°† shortcut æ‹–åŠ¨åˆ°æ¡Œé¢æ—¶æ˜¾ç¤ºçš„åå­—ï¼Œå®˜æ–¹å»ºè®®ä¸è¶…è¿‡ 10 ä¸ªå­—ç¬¦ï¼Œå¿…é¡»å­—æ®µã€‚ shortcutLongLabelä¸º shortcut åˆ—è¡¨ä¸­æ¯ä¸ª shortcut çš„åå­—ï¼Œä¸å®œè¿‡é•¿ï¼Œå¦‚æœè¿‡é•¿æˆ–æœªè®¾ç½®é»˜è®¤ä¼šæ˜¾ç¤º ShortLabelï¼Œå®˜æ–¹å»ºè®®ä¸è¶…è¿‡ 25 ä¸ªå­—ç¬¦ã€‚å¯é€‰å­—æ®µã€‚ iconä¸º shortcut çš„ iconï¼Œåœ¨åˆ—è¡¨å±•ç¤ºå’Œæ‹–åŠ¨åˆ°æ¡Œé¢æ—¶æ˜¾ç¤ºéœ€è¦ï¼Œå¯é€‰å­—æ®µã€‚ enabledè¡¨ç¤º shortcut æ˜¯å¦å¯ç”¨ï¼Œfalse è¡¨ç¤ºç¦ç”¨ã€‚xml ä¸­è¿™ä¸ªå±æ€§å‡ ä¹æ²¡æœ‰è¢«è®¾ç½®ä¸º false çš„å®é™…åœºæ™¯ï¼Œå…·ä½“åŸå› å¯è§6.7 å¦‚ä½•æ›´å¥½çš„åˆ é™¤(åºŸå¼ƒ)è€çš„ Shortcutä¸­ä»‹ç»ã€‚ shortcutDisabledMessageä¸ºå·²å›ºå®šåœ¨æ¡Œé¢çš„ shortcut è¢« Disabled åç‚¹å‡»æ—¶çš„ Toast æç¤ºå†…å®¹ã€‚å¯é€‰å­—æ®µã€‚ intentä¸ºç‚¹å‡» shortcut æ—¶å“åº”çš„ intentï¼Œå¿…é¡»å­—æ®µã€‚å¯ä»¥æ·»åŠ å¤šä¸ª intentï¼Œä½†ç‚¹å‡»æ—¶ä¸ä¼šå¯åŠ¨æ‰€æœ‰ intentï¼Œè€Œæ˜¯å¯åŠ¨æœ€åä¸€ä¸ª intentï¼Œåœ¨è¿™ä¸ª intent å›é€€æ—¶ä¼šå¯åŠ¨å®ƒå‰é¢ä¸€ä¸ª intentï¼Œç›¸å½“äºè‡ªåŠ¨å°†æ‰€æœ‰ intent æ·»åŠ åˆ°äº†å †æ ˆã€‚ intentå¯è®¾ç½®å±æ€§åŒ…æ‹¬ï¼šandroid:actionã€android:dataã€android:mimeTypeã€android:targetClassã€android:targetPackageï¼Œå…¶ä¸­android:actionä¸ºå¿…é¡»å±æ€§ã€‚è‡³æ­¤ï¼Œä¸€ä¸ªé™æ€çš„Shortcutåˆ›å»ºç»“æŸäº†ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Androidç‰ˆæœ¬æ–°ç‰¹æ€§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰View-3 Paintè¯¦ç»†]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89View-3%20Paint%E8%AF%A6%E7%BB%86%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://hencoder.com/ui-1-2/ ç»§ç»­æ›´éšç€å­¦ä¹ ï¼Œç”¨é€‚åˆè‡ªå·±çš„æ–¹å¼å°†æˆæœè¿›è¡Œè®°å½•ã€‚ Paintç±»çš„4ä¸ªenum ç”»ç¬”å¡«å……æ ·å¼ Style123456public static enum Style&#123; FILL(), FILL_AND_STROKE(), STROKE();&#125; ç”»ç¬”çº¿å¤´æ ·å¼ Cap123456public static enum Cap&#123; BUTT(), ROUND(), SQUARE();&#125; ä¸¤æ¡ç›´çº¿ç›¸äº¤åçš„æ ·å¼ Join123456public static enum Join&#123; BEVEL(), MITER(), ROUND();&#125; æ–‡å­—å¯¹é½æ–¹å¼ Align123456public static enum Align&#123; CENTER(), LEFT(), RIGHT();&#125; Paintçš„åŠŸèƒ½ é¢œè‰² æ•ˆæœ ç»˜åˆ¶æ–‡æœ¬ åˆå§‹åŒ– 1. é¢œè‰²1.1 åŸºæœ¬é¢œè‰²ç»˜åˆ¶ åŸºæœ¬é¢œè‰²ç»˜åˆ¶è¡¨ç¤ºï¼šåŸºç¡€é¢œè‰²çš„è®¾ç½®ï¼Œåˆ†ç±»çš„æ ‡å‡†å°±æ˜¯æ ¹æ®ä¸åŒé¢œè‰²è®¾ç½®æ–¹å¼ã€‚ Paint è®¾ç½®é¢œè‰²çš„æ–¹æ³•ï¼šPaint.setColor/ARGB æ¥è®¾ç½®é¢œè‰²123paint.setColor(Color.parseColor("#009688")); paint.setColor(Color.BLACK);paint.setARGB(100, 255, 0, 0); Shader æ¥æŒ‡å®šç€è‰²æ–¹æ¡ˆShader ä¸­æ–‡åæ˜¯â€œç€è‰²å™¨â€ã€‚ æ³¨æ„ï¼šåœ¨è®¾ç½®äº† Shader çš„æƒ…å†µä¸‹ï¼Œ Paint.setColor/ARGB æ‰€è®¾ç½®çš„é¢œè‰²å°±ä¸å†èµ·ä½œç”¨ã€‚ åœ¨Androidä¸­å¹¶ä¸æ˜¯ç›´æ¥ä½¿ç”¨â€œShaderç±»â€ï¼Œè€Œæ˜¯ä½¿ç”¨å®ƒçš„å­ç±»ï¼š LinearGradientï¼ˆçº¿æ€§æ¸å˜ï¼‰ RadialGradientï¼ˆè¾å°„æ¸å˜ï¼‰ SweepGradientï¼ˆæ‰«ææ¸å˜ï¼‰ BitmapShaderï¼ˆBitmapç€è‰²ï¼‰ ComposeShaderï¼ˆç»„åˆç€è‰²ï¼‰ å…¶ä¸­å‰ä¸‰è€…ï¼šLinearGradientï¼ˆçº¿æ€§æ¸å˜ï¼‰, RadialGradientï¼ˆè¾å°„æ¸å˜ï¼‰, SweepGradientï¼ˆæ‰«ææ¸å˜ï¼‰åŒxmlç»˜åˆ¶å›¾å½¢ä¸­æœ‰å½¢åŒçš„æ ·å¼ã€‚Shaderä½œä¸ºä¸€ä¸ªåŸºç±»ï¼ŒåŒ…å«æœ‰ä¸€ä¸ªenumç±»ï¼š public enum TileMode { /** * å¦‚æœç€è‰²å™¨åœ¨å…¶åŸå§‹è¾¹ç•Œä¹‹å¤–ç»˜åˆ¶ï¼Œåˆ™å¤åˆ¶è¾¹ç¼˜é¢œè‰² */ CLAMP (0), /** * é‡å¤ç€è‰²å™¨çš„å›¾åƒæ°´å¹³å’Œå‚ç›´ */ REPEAT (1), /** * å¤ç€è‰²å™¨çš„å›¾åƒæ°´å¹³å’Œå‚ç›´ï¼Œäº¤æ›¿é•œåƒ */ MIRROR (2); TileMode(int nativeInt) { this.nativeInt = nativeInt; } final int nativeInt; } 1 LinearGradient çº¿æ€§æ¸å˜ä½¿ç”¨ï¼š Shader shader = new LinearGradient(100, 100, 500, 500, Color.parseColor(&quot;#E91E63&quot;), Color.parseColor(&quot;#2196F3&quot;), Shader.TileMode.CLAMP); paint.setShader(shader); æ­¤ç±»çš„æ„é€ å™¨ /** * Create a shader that draws a linear gradient along a line. * * @param x0 The x-coordinate for the start of the gradient line * @param y0 The y-coordinate for the start of the gradient line * @param x1 The x-coordinate for the end of the gradient line * @param y1 The y-coordinate for the end of the gradient line * @param colors The colors to be distributed along the gradient line * @param positions May be null. The relative positions [0..1] of * each corresponding color in the colors array. If this is null, * the the colors are distributed evenly along the gradient line. * @param tile The Shader tiling mode */ LinearGradient(float x0, float y0, float x1, float y1, @NonNull @ColorInt int colors[], @Nullable float positions[], @NonNull TileMode tile) å‚æ•°ï¼š x0 y0 x1 y1ï¼šæ¸å˜çš„ä¸¤ä¸ªç«¯ç‚¹çš„ä½ç½® color0 color1â€œ æ˜¯ç«¯ç‚¹çš„é¢œè‰² tileï¼šç«¯ç‚¹èŒƒå›´ä¹‹å¤–çš„ç€è‰²è§„åˆ™ï¼Œç±»å‹æ˜¯ TileMode 2 RadialGradient è¾å°„æ¸å˜ä½¿ç”¨ï¼š Shader shader = new RadialGradient(300, 300, 200, Color.parseColor(&quot;#E91E63&quot;), Color.parseColor(&quot;#2196F3&quot;), Shader.TileMode.CLAMP); paint.setShader(shader); æ„é€ æ–¹æ³•ï¼š RadialGradient(float centerX, float centerY, float radius, int centerColor, int edgeColor, TileMode tileMode)ã€‚ å‚æ•°ï¼š centerX centerYï¼šè¾å°„ä¸­å¿ƒçš„åæ ‡ radiusï¼šè¾å°„åŠå¾„ centerColorï¼šè¾å°„ä¸­å¿ƒçš„é¢œè‰² edgeColorï¼šè¾å°„è¾¹ç¼˜çš„é¢œè‰² tileModeï¼šè¾å°„èŒƒå›´ä¹‹å¤–çš„ç€è‰²æ¨¡å¼ã€‚ 3 SweepGradient æ‰«ææ¸å˜ä½¿ç”¨ï¼š Shader shader = new SweepGradient(300, 300, Color.parseColor(&quot;#E91E63&quot;), Color.parseColor(&quot;#2196F3&quot;)); paint.setShader(shader); æ„é€ æ–¹æ³•ï¼š SweepGradient(float cx, float cy, int color0, int color1) å‚æ•°ï¼š cx cy ï¼šæ‰«æçš„ä¸­å¿ƒ color0ï¼šæ‰«æçš„èµ·å§‹é¢œè‰² color1ï¼šæ‰«æçš„ç»ˆæ­¢é¢œè‰² 4 BitmapShader Bitmap æ¥ç€è‰²ä½¿ç”¨ï¼š Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.batman); Shader shader = new BitmapShader(bitmap, Shader.TileMode.CLAMP, Shader.TileMode.CLAMP); paint.setShader(shader); é€šè¿‡ä½¿ç”¨ï¼šdrawCircle() + BitmapShaderå°±å¯ä»¥ç»˜åˆ¶åœ†å½¢çš„ Bitmapï¼Œä¸ç”¨ drawBitmap() äº†ï¼ˆå…¶ä»–å½¢çŠ¶åŒç†ï¼‰ã€‚ æ„é€ æ–¹æ³•ï¼š BitmapShader(Bitmap bitmap, Shader.TileMode tileX, Shader.TileMode tileY) å‚æ•°ï¼š bitmapï¼šç”¨æ¥åšæ¨¡æ¿çš„ Bitmap å¯¹è±¡ tileXï¼šæ¨ªå‘çš„ TileMode tileYï¼šçºµå‘çš„ TileModeã€‚ 5 ComposeShader æ··åˆç€è‰²å™¨ï¼ˆä¸¤ä¸ª Shader ä¸€èµ·ä½¿ç”¨ï¼‰ä½¿ç”¨ // ç¬¬ä¸€ä¸ª Shaderï¼šå¤´åƒçš„ Bitmap Bitmap bitmap1 = BitmapFactory.decodeResource(getResources(), R.drawable.batman); Shader shader1 = new BitmapShader(bitmap1, Shader.TileMode.CLAMP, Shader.TileMode.CLAMP); // ç¬¬äºŒä¸ª Shaderï¼šä»ä¸Šåˆ°ä¸‹çš„çº¿æ€§æ¸å˜ï¼ˆç”±é€æ˜åˆ°é»‘è‰²ï¼‰ Bitmap bitmap2 = BitmapFactory.decodeResource(getResources(), R.drawable.batman_logo); Shader shader2 = new BitmapShader(bitmap2, Shader.TileMode.CLAMP, Shader.TileMode.CLAMP); // ComposeShaderï¼šç»“åˆä¸¤ä¸ª Shader Shader shader = new ComposeShader(shader1, shader2, PorterDuff.Mode.SRC_OVER); paint.setShader(shader); ComposeShader() åœ¨ç¡¬ä»¶åŠ é€Ÿä¸‹æ˜¯ä¸æ”¯æŒä¸¤ä¸ªç›¸åŒç±»å‹çš„ Shader çš„ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿéœ€è¦å…³é—­ç¡¬ä»¶åŠ é€Ÿæ‰èƒ½çœ‹åˆ°æ•ˆæœã€‚å¦‚ä½• å…³é—­ç¡¬ä»¶åŠ é€Ÿ ? æ„é€ æ–¹æ³•ï¼š ComposeShader(Shader shaderA, Shader shaderB, PorterDuff.Mode mode) å‚æ•°ï¼š shaderA, shaderBï¼šä¸¤ä¸ªç›¸ç»§ä½¿ç”¨çš„ Shader mode: ä¸¤ä¸ª Shader çš„å åŠ æ¨¡å¼ï¼Œå³ shaderA å’Œ shaderB åº”è¯¥æ€æ ·å…±åŒç»˜åˆ¶ã€‚å®ƒçš„ç±»å‹æ˜¯ PorterDuff.Mode ã€‚ PorterDuff.Mode ä¸€å…±æœ‰ 17 ä¸ªï¼Œå¯ä»¥åˆ†ä¸ºï¼š Alpha åˆæˆ (Alpha Compositing) æ··åˆ (Blending) å…·ä½“ä½¿ç”¨å‚è€ƒï¼šhttp://hencoder.com/ui-1-2/ 1.2 setColorFilter(ColorFilter colorFilter) é¢œè‰²è¿‡æ»¤å¯¹æ¯ä¸ªåƒç´ çš„é¢œè‰²è¿›è¡Œè¿‡æ»¤ åœ¨è®¾ç½®äº†å¯¹è±¡çš„åŸºç¡€é¢œè‰²ä¹‹åï¼Œå†å¯¹é¢œè‰²è¿›è¡Œè®¾ç½®å°±æ˜¯é’ˆå¯¹â€œåŸºç¡€é¢œè‰²â€è¿›è¡Œè®¾ç½®ï¼Œä¸å†æ˜¯åœç•™åœ¨å¯¹â€œå¯¹è±¡é¢œè‰²çš„å¡«å……â€æ–¹é¢ã€‚Painté€šè¿‡setColorFilter(ColorFilter filter) æ–¹æ³•è®¾ç½® ColorFilterã€‚ ä½†æ˜¯ ColorFilter å¹¶ä¸ç›´æ¥ä½¿ç”¨ï¼Œè€Œæ˜¯ä½¿ç”¨å®ƒçš„å­ç±»ï¼š LightingColorFilterï¼šæ¨¡æ‹Ÿç®€å•çš„å…‰ç…§æ•ˆæœ ä½¿ç”¨ ColorFilter lightingColorFilter = new LightingColorFilter(0x00ffff, 0x000000); paint.setColorFilter(lightingColorFilter); PorterDuffColorFilter ColorMatrixColorFilter 1.3 setXfermode(Xfermode xfermode)æŒ‡çš„æ˜¯ä½ è¦ç»˜åˆ¶çš„å†…å®¹å’Œ Canvas çš„ç›®æ ‡ä½ç½®çš„å†…å®¹åº”è¯¥æ€æ ·ç»“åˆè®¡ç®—å‡ºæœ€ç»ˆçš„é¢œè‰²ï¼Œå°±æ˜¯è¦ä½ ä»¥ç»˜åˆ¶çš„å†…å®¹ä½œä¸ºæºå›¾åƒï¼Œä»¥ View ä¸­å·²æœ‰çš„å†…å®¹ä½œä¸ºç›®æ ‡å›¾åƒï¼Œé€‰å–ä¸€ä¸ª PorterDuff.Mode ä½œä¸ºç»˜åˆ¶å†…å®¹çš„é¢œè‰²å¤„ç†æ–¹æ¡ˆã€‚ æ³¨æ„äº‹é¡¹ ä½¿ç”¨ç¦»å±ç¼“å†²ï¼ˆOff-screen Bufferï¼‰ åœ¨ç»˜åˆ¶ä¹‹å‰ä¿å­˜ï¼Œç»˜åˆ¶ä¹‹åæ¢å¤ï¼š int saved = canvas.saveLayer(null, null, Canvas.ALL_SAVE_FLAG); canvas.drawBitmap(rectBitmap, 0, 0, paint); // ç”»æ–¹ paint.setXfermode(xfermode); // è®¾ç½® Xfermode canvas.drawBitmap(circleBitmap, 0, 0, paint); // ç”»åœ† paint.setXfermode(null); // ç”¨å®ŒåŠæ—¶æ¸…é™¤ Xfermode canvas.restoreToCount(saved); æ§åˆ¶å¥½é€æ˜åŒºåŸŸ 2. æ•ˆæœ2.1 setAntiAlias (boolean aa) æŠ—é”¯é½¿æ•ˆæœæŠ—é”¯é½¿é»˜è®¤æ˜¯å…³é—­çš„ï¼Œå¦‚æœéœ€è¦æŠ—é”¯é½¿ï¼Œéœ€è¦æ˜¾å¼åœ°æ‰“å¼€ã€‚æ‰“å¼€æŠ—é”¯é½¿è¿˜æœ‰ä¸€ä¸ªæ›´æ–¹ä¾¿çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±å¼€å¯æŠ—é”¯é½¿ï¼š Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG); 2.2 setStyle(Paint.Style style) çº¿æ¡å¡«å……æ•ˆæœè®¾ç½®å›¾å½¢æ˜¯çº¿æ¡é£æ ¼è¿˜æ˜¯å¡«å……é£æ ¼çš„ï¼Œä¹Ÿå¯ä»¥äºŒè€…å¹¶ç”¨ã€‚ 2.3 çº¿æ¡æ ·å¼æ•ˆæœçº¿æ¡å½¢çŠ¶çš„ä¸€å…±æœ‰ 4 ä¸ªæ–¹æ³•ï¼š setStrokeWidth(float width) ï¼šè®¾ç½®çº¿æ¡å®½åº¦ setStrokeCap(Paint.Cap cap) ï¼šè®¾ç½®çº¿å¤´çš„å½¢çŠ¶ã€‚ BUTT å¹³å¤´ ROUND åœ†å¤´ SQUARE æ–¹å¤´ é»˜è®¤ä¸º BUTTã€‚ setStrokeJoin(Paint.Join join) : è®¾ç½®æ‹è§’çš„å½¢çŠ¶ã€‚ MITER å°–è§’ BEVEL å¹³è§’ ROUND åœ†è§’ é»˜è®¤ä¸º MITER setStrokeMiter(float miter) : æ˜¯å¯¹äº setStrokeJoin() çš„è¡¥å……ï¼Œè®¾ç½® MITER å‹æ‹è§’çš„å»¶é•¿çº¿çš„æœ€å¤§å€¼. 2.4 è‰²å½©ä¼˜åŒ–æ•ˆæœ setDither(boolean dither) ï¼šè®¾ç½®å›¾åƒçš„æŠ–åŠ¨ã€‚ æŠ–åŠ¨æ›´å¤šçš„ä½œç”¨æ˜¯åœ¨å›¾åƒé™ä½è‰²å½©æ·±åº¦ç»˜åˆ¶æ—¶ï¼Œé¿å…å‡ºç°å¤§ç‰‡çš„è‰²å¸¦ä¸è‰²å— paint.setDither(true); setFilterBitmap(boolean filter) ï¼šåŒçº¿æ€§è¿‡æ»¤æ¥ç»˜åˆ¶ Bitmapã€‚å›¾åƒåœ¨æ”¾å¤§ç»˜åˆ¶çš„æ—¶å€™ä¼šå‡ºç°é©¬èµ›å…‹ç°è±¡ï¼Œå¦‚æœå¼€å¯äº†åŒçº¿æ€§è¿‡æ»¤ï¼Œå°±å¯ä»¥è®©ç»“æœå›¾åƒæ˜¾å¾—æ›´åŠ å¹³æ»‘ paint.setFilterBitmap(true); 2.5 setPathEffect(PathEffect effect) è®¾ç½®è½®å»“æ•ˆæœä½¿ç”¨ PathEffect pathEffect = new DashPathEffect(new float[]{10, 5}, 10); paint.setPathEffect(pathEffect); å…±æœ‰6 ç§ PathEffectï¼š (1) CornerPathEffect -- åœ†è§’ (2) DashPathEffect -- è™šçº¿æ•ˆæœ (3) DiscretePathEffect -- ç¦»æ•£è·¯å¾„æ•ˆæœ (4) PathDashPathEffect -- å°ç« è·¯å¾„æ•ˆæœ (5) ComposePathEffectåˆå¹¶ä¸¤ä¸ªç‰¹æ•ˆæ˜¯æœ‰å…ˆåé¡ºåºçš„ï¼Œå®ƒä¼šå…ˆå°†ç¬¬äºŒä¸ªå‚æ•°çš„PathEffect innerpeçš„ç‰¹æ•ˆä½œç”¨äºè·¯å¾„ä¸Šï¼Œç„¶åå†åœ¨æ­¤åŠ äº†ç‰¹æ•ˆçš„è·¯å¾„ä¸Šä½œç”¨ç¬¬äºŒä¸ªç‰¹æ•ˆã€‚ (6) SumPathEffectæ˜¯åˆ†åˆ«å¯¹åŸå§‹è·¯å¾„åˆ†åˆ«ä½œç”¨ç¬¬ä¸€ä¸ªç‰¹æ•ˆå’Œç¬¬äºŒä¸ªç‰¹æ•ˆã€‚ç„¶åå†å°†è¿™ä¸¤æ¡è·¯å¾„åˆå¹¶ï¼Œåšä¸ºæœ€ç»ˆç»“æœã€‚ åˆ†ä¸ºä¸¤ç±»ï¼š å•ä¸€æ•ˆæœçš„ 1. CornerPathEffect ï¼šæŠŠæ‰€æœ‰æ‹è§’å˜æˆåœ†è§’ PathEffect pathEffect = new CornerPathEffect(20); paint.setPathEffect(pathEffect); æ„é€ æ–¹æ³• CornerPathEffect(float radius) çš„å‚æ•° radius æ˜¯åœ†è§’çš„åŠå¾„ã€‚ä½¿ç”¨ //ç¬¬1ç»„ æ‹è§’å¼§åº¦ Path path = new Path(); path.moveTo(100,200); path.lineTo(400,50); path.lineTo(700,200); path.lineTo(1000,70); canvas.drawPath(path,paintStyle(Color.GREEN,0,null,0)); //ç”»å¸ƒä¸‹ç§» canvas.translate(0,50); canvas.drawPath(path,paintStyle(Color.WHITE,50,null,0)); canvas.translate(0,50); canvas.drawPath(path,paintStyle(Color.YELLOW,100,null,0)); canvas.translate(0,200); private Paint paintStyle(int color, int corner, float[] floats, int phase) { Paint paint = new Paint(); paint.setAntiAlias(true); paint.setStrokeWidth(5); paint.setColor(color); //è®¾ç½®æ‹è§’åº¦æ•° paint.setPathEffect(new CornerPathEffect(corner)); //è®¾ç½®é—´æ–­çº¿ if (floats != null) { paint.setPathEffect(new DashPathEffect(floats,phase)); } paint.setStyle(Paint.Style.STROKE); return paint; } - **2. DiscretePathEffect** ï¼šç¦»æ•£è·¯å¾„æ•ˆæœ PathEffect pathEffect = new DiscretePathEffect(20, 5); paint.setPathEffect(pathEffect); æ„é€ æ–¹æ³• DiscretePathEffect(float segmentLength, float deviation) çš„ä¸¤ä¸ªå‚æ•°ä¸­ï¼Œ segmentLength æ˜¯ç”¨æ¥æ‹¼æ¥çš„æ¯ä¸ªçº¿æ®µçš„é•¿åº¦ï¼Œ deviation æ˜¯åç¦»é‡ã€‚ ä½¿ç”¨ //ç¬¬3ç»„ ç¦»æ•£ canvas.translate(0,50); canvas.drawPath(path,paintStyle(Color.GREEN,2,14)); canvas.translate(0,50); canvas.drawPath(path,paintStyle(Color.WHITE,4,8)); canvas.translate(0,50); canvas.drawPath(path,paintStyle(Color.YELLOW,8,4)); private Paint paintStyle(int color,float someLength, float deviation) { Paint paint = new Paint(); paint.setAntiAlias(true); paint.setStrokeWidth(5); paint.setColor(color); /** * segmentLengthï¼šè¡¨ç¤ºå°†åŸæ¥çš„è·¯å¾„åˆ‡æˆå¤šé•¿çš„çº¿æ®µã€‚å¦‚æœå€¼ä¸º2ï¼Œé‚£ä¹ˆè¿™ä¸ªè·¯å¾„å°±ä¼šè¢«åˆ‡æˆä¸€æ®µæ®µç”±é•¿åº¦ä¸º2çš„å°çº¿æ®µã€‚æ‰€ä»¥è¿™ä¸ªå€¼è¶Šå°ï¼Œæ‰€åˆ‡æˆçš„å°çº¿æ®µè¶Šå¤šï¼›è¿™ä¸ªå€¼è¶Šå¤§ï¼Œæ‰€åˆ‡æˆçš„å°çº¿æ®µè¶Šå°‘ã€‚ deviationï¼šè¡¨ç¤ºè¢«åˆ‡æˆçš„æ¯ä¸ªå°çº¿æ®µçš„å¯åç§»è·ç¦»ã€‚å€¼è¶Šå¤§ï¼Œå°±è¡¨ç¤ºæ¯ä¸ªçº¿æ®µçš„å¯åç§»è·ç¦»å°±è¶Šå¤§ï¼Œå°±æ˜¾å¾—è¶Šå‡Œä¹±ï¼Œå€¼è¶Šå°ï¼Œæ¯ä¸ªçº¿æ®µçš„å¯åç§»åŸä½ç½®çš„è·ç¦»å°±è¶Šå°ã€‚ */ paint.setPathEffect(new DiscretePathEffect(someLength,deviation)); paint.setStyle(Paint.Style.STROKE); return paint; } 3. DashPathEffect ï¼šè™šçº¿æ•ˆæœ PathEffect pathEffect = new DiscretePathEffect(20, 5); paint.setPathEffect(pathEffect); ä½¿ç”¨ //ç¬¬2ç»„ é—´éš”çº¿ float[] floats = new float[]{30,10}; float[] floats2 = new float[]{100,30}; float[] floats3 = new float[]{10,30,90,20}; /** * å¯¹äºintervals[]æ•°ç»„çš„æœ‰ä¸¤ä¸ªé™å®šï¼š é•¿åº¦å¿…é¡»å¤§äºç­‰äº2ï¼›å› ä¸ºå¿…é¡»æœ‰ä¸€ä¸ªå®çº¿æ®µå’Œä¸€ä¸ªç©ºçº¿æ®µæ¥ç»„æˆè™šçº¿ã€‚ ä¸ªæ•°å¿…é¡»ä¸ºå¶æ•°ï¼Œå¦‚æœæ˜¯åŸºæ•°ï¼Œæœ€åä¸€ä¸ªæ•°å­—å°†è¢«å¿½ç•¥ï¼›è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œå› ä¸ºä¸€ç»„è™šçº¿çš„ç»„æˆå¿…ç„¶æ˜¯ä¸€ä¸ªå®çº¿å’Œä¸€ä¸ªç©ºçº¿æˆå¯¹ç»„æˆçš„ã€‚ å¯¹äºphaseï¼šå¼€å§‹ç»˜åˆ¶çš„åç§»å€¼ */ canvas.translate(0,50); canvas.drawPath(path,paintStyle(Color.GREEN,0,floats,0)); canvas.translate(0,50); canvas.drawPath(path,paintStyle(Color.WHITE,50,floats2,50)); canvas.translate(0,50); canvas.drawPath(path,paintStyle(Color.YELLOW,100,floats3,100)); canvas.translate(0,200); private Paint paintStyle(int color, int corner, float[] floats, int phase) { Paint paint = new Paint(); paint.setAntiAlias(true); paint.setStrokeWidth(5); paint.setColor(color); //è®¾ç½®æ‹è§’åº¦æ•° paint.setPathEffect(new CornerPathEffect(corner)); //è®¾ç½®é—´æ–­çº¿ if (floats != null) { paint.setPathEffect(new DashPathEffect(floats,phase)); } paint.setStyle(Paint.Style.STROKE); return paint; } - **4. PathDashPathEffect** ï¼šå°ç« è·¯å¾„æ•ˆæœ Path dashPath = ...; // ä½¿ç”¨ä¸€ä¸ªä¸‰è§’å½¢æ¥åš dash PathEffect pathEffect = new PathDashPathEffect(dashPath, 40, 0, PathDashPathEffectStyle.TRANSLATE); paint.setPathEffect(pathEffect); æ„é€ æ–¹æ³• PathDashPathEffect(Path shape, float advance, float phase, PathDashPathEffect.Style style) shape ï¼š å‚æ•°æ˜¯ç”¨æ¥ç»˜åˆ¶çš„ Path ï¼› advance ï¼šæ˜¯ä¸¤ä¸ªç›¸é‚»çš„ shape æ®µä¹‹é—´çš„é—´éš”ï¼Œä¸è¿‡æ³¨æ„ï¼Œè¿™ä¸ªé—´éš”æ˜¯ä¸¤ä¸ª shape æ®µçš„èµ·ç‚¹çš„é—´éš”ï¼Œè€Œä¸æ˜¯å‰ä¸€ä¸ªçš„ç»ˆç‚¹å’Œåä¸€ä¸ªçš„èµ·ç‚¹çš„è·ç¦»ï¼› phase â€œå’Œ DashPathEffect ä¸­ä¸€æ ·ï¼Œæ˜¯è™šçº¿çš„åç§»ï¼› style ï¼šæ˜¯ç”¨æ¥æŒ‡å®šæ‹å¼¯æ”¹å˜çš„æ—¶å€™ shape çš„è½¬æ¢æ–¹å¼ã€‚style çš„ç±»å‹ä¸º PathDashPathEffect.Style ï¼Œæ˜¯ä¸€ä¸ª enum ï¼Œå…·ä½“æœ‰ä¸‰ä¸ªå€¼ï¼š TRANSLATEï¼šä½ç§» ROTATEï¼šæ—‹è½¬ MORPHï¼šå˜ä½“ ä½¿ç”¨ Path mPath = new Path(); mPath.moveTo(0,20); mPath.lineTo(10,0); mPath.lineTo(20,20); mPath.close(); /** *å‘è·¯å¾„æ·»åŠ ä¸€ä¸ªé—­åœ†è½®å»“ * Direction:æ–¹å‘ cw:é¡ºæ—¶é’ˆ, ccw:é€†æ—¶é’ˆæ—‹è½¬ * @param xè¦æ·»åŠ åˆ°è·¯å¾„çš„åœ†çš„ä¸­å¿ƒçš„xåæ ‡ * @param yè¦æ·»åŠ åˆ°è·¯å¾„çš„åœ†çš„ä¸­å¿ƒçš„yåæ ‡ * @param radiusè¦æ·»åŠ åˆ°è·¯å¾„çš„åœ†çš„åŠå¾„ * @param diræ»šåŠ¨åœ†åœˆè½®å»“çš„æ–¹å‘ */ mPath.addCircle(0,0,3, Path.Direction.CCW); mPath.addCircle(20,0,3, Path.Direction.CW); canvas.translate(0,80);//é€šè¿‡å˜å½¢å°ç« æ¥è¿‡æ¸¡è½¬è§’ canvas.drawPath(path,paintStylePashDush(Color.GREEN,mPath,30,12,PathDashPathEffect.Style.MORPH)); canvas.translate(0,80);//é€šè¿‡æ—‹è½¬å°ç« æ¥è¿‡æ¸¡è½¬è§’ canvas.drawPath(path,paintStylePashDush(Color.GREEN,mPath,40,12,PathDashPathEffect.Style.ROTATE)); canvas.translate(0,80);//é€šè¿‡ä½ç§»æ¥è¿‡æ¸¡è½¬è§’ canvas.drawPath(path,paintStylePashDush(Color.GREEN,mPath,80,12,PathDashPathEffect.Style.TRANSLATE)); private Paint paintStylePashDush(int color, Path shape, float advance, float phase, PathDashPathEffect.Style style) { Paint paint = new Paint(); paint.setAntiAlias(true); paint.setStrokeWidth(5); paint.setColor(color); /** Path shape:è¡¨ç¤ºå°ç« è·¯å¾„ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸‹é¢ç¤ºä¾‹ä¸­çš„ä¸‰è§’å½¢åŠ å³ä¸Šè§’ä¸€ä¸ªç‚¹ï¼› float advanceï¼šè¡¨ç¤ºä¸¤ä¸ªå°ç« è·¯å¾„é—´çš„è·ç¦»,å¾ˆå®¹æ˜“ç†è§£ï¼Œå°ç« é—´è·ç¦»è¶Šå¤§ï¼Œé—´è·å°±è¶Šå¤§ã€‚ float phaseï¼šè·¯å¾„ç»˜åˆ¶åç§»è·ç¦»ï¼Œä¸ä¸Šé¢DashPathEffectä¸­çš„float phaseå‚æ•°æ„ä¹‰ç›¸åŒ Style styleï¼šè¡¨ç¤ºåœ¨é‡åˆ°è½¬è§’æ—¶ï¼Œå¦‚ä½•æ“ä½œå°ç« ä»¥ä½¿è½¬è§’å¹³æ»‘è¿‡æ¸¡ï¼Œå–å€¼æœ‰ï¼šStyle.ROTATEï¼ŒStyle.MORPHï¼ŒStyle.TRANSLATE; Style.ROTATEè¡¨ç¤ºé€šè¿‡æ—‹è½¬å°ç« æ¥è¿‡æ¸¡è½¬è§’ï¼› Style.MORPHè¡¨ç¤ºé€šè¿‡å˜å½¢å°ç« æ¥è¿‡æ¸¡è½¬è§’ï¼› Style.TRANSLATEè¡¨ç¤ºé€šè¿‡ä½ç§»æ¥è¿‡æ¸¡è½¬è§’ã€‚ */ paint.setPathEffect(new PathDashPathEffect(shape,advance,phase,style)); paint.setStyle(Paint.Style.STROKE); return paint; } ![](http://oy991qm3u.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-11-15%2010.44.45.png) ç»„åˆæ•ˆæœ 5. SumPathEffect ï¼šåˆ†åˆ«æŒ‰ç…§ä¸¤ç§ PathEffect åˆ†åˆ«å¯¹ç›®æ ‡è¿›è¡Œç»˜åˆ¶ã€‚ PathEffect dashEffect = new DashPathEffect(new float[]{20, 10}, 0); PathEffect discreteEffect = new DiscretePathEffect(20, 5); pathEffect = new SumPathEffect(dashEffect, discreteEffect); 6. ComposePathEffect ï¼šä¹Ÿæ˜¯ä¸€ä¸ªç»„åˆæ•ˆæœç±»çš„ PathEffect å…ˆå¯¹ç›®æ ‡ Path ä½¿ç”¨ä¸€ä¸ª PathEffectï¼Œç„¶åå†å¯¹è¿™ä¸ªæ”¹å˜åçš„ Path ä½¿ç”¨å¦ä¸€ä¸ª PathEffectã€‚ PathEffect dashEffect = new DashPathEffect(new float[]{20, 10}, 0); PathEffect discreteEffect = new DiscretePathEffect(20, 5); pathEffect = new ComposePathEffect(dashEffect, discreteEffect); ä¸¤è€…æ›²åˆ«ï¼š ç¬¬ 5 ç§æ•ˆæœæ˜¯åˆ†åˆ«å°†2ç§æ•ˆæœéƒ½ç»˜åˆ¶å‡ºæ¥ï¼Œ2è€…éƒ½å¯è§ã€‚ç¬¬ 6 ç§æ•ˆæœæ˜¯å¿ç»˜åˆ¶ç¬¬ä¸€ç§æ•ˆæœï¼Œç„¶ååœ¨ç¬¬ä¸€ç§æ•ˆæœä¸Šå†ç»˜åˆ¶ç¬¬äºŒç§æ•ˆæœï¼Œæœ€ç»ˆå‘ˆç°çš„æ˜¯ï¼šåœ¨ç¬¬ä¸€ç§æ•ˆæœä¸Šçš„ç¬¬äºŒç§æ•ˆæœ ä½¿ç”¨ canvas.translate(0,250); //é€šè¿‡å˜å½¢å°ç« æ¥è¿‡æ¸¡è½¬è§’ PathDashPathEffect dashPathEffect = new PathDashPathEffect(mPath,40,0,PathDashPathEffect.Style.TRANSLATE); DiscretePathEffect discretePathEffect = new DiscretePathEffect(20,2); canvas.drawPath(path,paintStyleEffectCompose(Color.GREEN,discretePathEffect,dashPathEffect)); canvas.translate(0,140); //é€šè¿‡æ—‹è½¬å°ç« æ¥è¿‡æ¸¡è½¬è§’ canvas.drawPath(path,paintStyleEffectSum(Color.GREEN,dashPathEffect,discretePathEffect)); //è®¾ç½®åˆå¹¶ä¸¤ä¸ªè·¯å¾„ç‰¹æ•ˆæ•ˆæœ private Paint paintStyleEffectCompose(int color, PathEffect effect1, PathEffect effect2) { Paint paint = new Paint(); paint.setAntiAlias(true); paint.setStrokeWidth(5); paint.setColor(color); paint.setPathEffect(new ComposePathEffect(effect1,effect2)); paint.setStyle(Paint.Style.STROKE); return paint; } //è®¾ç½®åˆå¹¶ä¸¤ä¸ªè·¯å¾„ç‰¹æ•ˆæ•ˆæœ private Paint paintStyleEffectSum(int color, PathEffect effect1, PathEffect effect2) { Paint paint = new Paint(); paint.setAntiAlias(true); paint.setStrokeWidth(5); paint.setColor(color); paint.setPathEffect(new SumPathEffect(effect1,effect2)); paint.setStyle(Paint.Style.STROKE); return paint; } æ³¨æ„ï¼šPathEffect åœ¨æœ‰äº›æƒ…å†µä¸‹ä¸æ”¯æŒç¡¬ä»¶åŠ é€Ÿï¼Œéœ€è¦å…³é—­ç¡¬ä»¶åŠ é€Ÿæ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼š Canvas.drawLine() å’Œ Canvas.drawLines() æ–¹æ³•ç”»ç›´çº¿æ—¶ï¼ŒsetPathEffect() æ˜¯ä¸æ”¯æŒç¡¬ä»¶åŠ é€Ÿçš„ï¼› PathDashPathEffect å¯¹ç¡¬ä»¶åŠ é€Ÿçš„æ”¯æŒä¹Ÿæœ‰é—®é¢˜ï¼Œæ‰€ä»¥å½“ä½¿ç”¨ PathDashPathEffect çš„æ—¶å€™ï¼Œæœ€å¥½ä¹ŸæŠŠç¡¬ä»¶åŠ é€Ÿå…³äº†ã€‚ 2.6 setShadowLayer(float radius, float dx, float dy, int shadowColor) åœ¨ä¹‹åçš„ç»˜åˆ¶å†…å®¹ä¸‹é¢åŠ ä¸€å±‚é˜´å½±å¦‚æœè¦æ¸…é™¤é˜´å½±å±‚ï¼Œä½¿ç”¨ clearShadowLayer() ã€‚ æ³¨æ„ï¼šåœ¨ç¡¬ä»¶åŠ é€Ÿå¼€å¯çš„æƒ…å†µä¸‹ï¼Œ setShadowLayer() åªæ”¯æŒæ–‡å­—çš„ç»˜åˆ¶ï¼Œæ–‡å­—ä¹‹å¤–çš„ç»˜åˆ¶å¿…é¡»å…³é—­ç¡¬ä»¶åŠ é€Ÿæ‰èƒ½æ­£å¸¸ç»˜åˆ¶é˜´å½±ã€‚å¦‚æœ shadowColor æ˜¯åŠé€æ˜çš„ï¼Œé˜´å½±çš„é€æ˜åº¦å°±ä½¿ç”¨ shadowColor è‡ªå·±çš„é€æ˜åº¦ï¼›è€Œå¦‚æœ shadowColor æ˜¯ä¸é€æ˜çš„ï¼Œé˜´å½±çš„é€æ˜åº¦å°±ä½¿ç”¨ paint çš„é€æ˜åº¦ã€‚ 2.7 setMaskFilter(MaskFilter maskfilter)åŸºäºæ•´ä¸ªç”»é¢æ¥è¿›è¡Œè¿‡æ»¤ BlurMaskFilter ï¼šæ¨¡ç³Šæ•ˆæœ paint.setMaskFilter(new BlurMaskFilter(50, BlurMaskFilter.Blur.NORMAL)); æ„é€ æ–¹æ³• BlurMaskFilter(float radius, BlurMaskFilter.Blur style) radiusï¼š å‚æ•°æ˜¯æ¨¡ç³Šçš„èŒƒå›´ styleï¼š æ˜¯æ¨¡ç³Šçš„ç±»å‹ï¼Œå…±æœ‰å››ç§ï¼š NORMAL: å†…å¤–éƒ½æ¨¡ç³Šç»˜åˆ¶ SOLID: å†…éƒ¨æ­£å¸¸ç»˜åˆ¶ï¼Œå¤–éƒ¨æ¨¡ç³Š INNER: å†…éƒ¨æ¨¡ç³Šï¼Œå¤–éƒ¨ä¸ç»˜åˆ¶ OUTER: å†…éƒ¨ä¸ç»˜åˆ¶ï¼Œå¤–éƒ¨æ¨¡ç³Š EmbossMaskFilter ï¼šæµ®é›•æ•ˆæœ 2.8 è·å–ç»˜åˆ¶çš„ Pathæ ¹æ® paint çš„è®¾ç½®ï¼Œè®¡ç®—å‡ºç»˜åˆ¶ Path æˆ–æ–‡å­—æ—¶çš„ å®é™… Pathã€‚å®é™… Path ï¼ŒæŒ‡çš„å°±æ˜¯ drawPath() çš„ç»˜åˆ¶å†…å®¹çš„è½®å»“ï¼Œè¦ç®—ä¸Šçº¿æ¡å®½åº¦å’Œè®¾ç½®çš„ PathEffectã€‚ getFillPath(src, dst) ä¼šè®¡ç®—å‡ºå®é™… Pathï¼Œç„¶åæŠŠç»“æœä¿å­˜åœ¨ dst é‡Œã€‚ getTextPath(String text, int start, int end, float x, float y, Path path) getTextPath(char[] text, int index, int count, float x, float y, Path path) æ–‡å­—çš„ç»˜åˆ¶è™½ç„¶ä½¿ç”¨ Canvas.drawText() æ–¹æ³•ï¼Œä½†å…¶å®åœ¨ä¸‹å±‚ï¼Œæ–‡å­—ä¿¡æ¯å…¨æ˜¯è¢«è½¬åŒ–æˆå›¾å½¢ï¼Œå¯¹å›¾å½¢è¿›è¡Œç»˜åˆ¶çš„ã€‚ getTextPath() æ–¹æ³•ï¼Œè·å–çš„å°±æ˜¯ç›®æ ‡æ–‡å­—æ‰€å¯¹åº”çš„ Path ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œ getFillPath() å’Œ getTextPath() ï¼Œå°±æ˜¯è·å–ç»˜åˆ¶çš„ Path çš„æ–¹æ³•ã€‚ä¹‹æ‰€ä»¥æŠŠå®ƒä»¬å½’ç±»åˆ°ã€Œæ•ˆæœã€ç±»æ–¹æ³•ï¼Œæ˜¯å› ä¸ºå®ƒä»¬ä¸»è¦æ˜¯ç”¨äºå›¾å½¢å’Œæ–‡å­—çš„è£…é¥°æ•ˆæœçš„ä½ç½®è®¡ç®—ã€‚ 3 ç»˜åˆ¶æ–‡æœ¬å®ä¾‹å…¬å…±æ–¹æ³•private Paint paintStyle(int color, Paint.Style style){ Paint paint = new Paint(); paint.setAntiAlias(true); paint.setStrokeWidth(2); paint.setStyle(style); paint.setColor(color); paint.setTextSize(60); //è®¾ç½®æ–‡å­—å¯¹é½æ–¹å¼ï¼Œå–å€¼ï¼šalign.CENTERã€align.LEFTæˆ–align.RIGHT paint.setTextAlign(Paint.Align.LEFT); //è®¾ç½®æ˜¯å¦ä¸ºç²—ä½“æ–‡å­— paint.setFakeBoldText(false); //è®¾ç½®ä¸‹åˆ’çº¿ paint.setUnderlineText(false); //è®¾ç½®å­—ä½“æ°´å¹³å€¾æ–œåº¦ï¼Œæ™®é€šæ–œä½“å­—æ˜¯-0.25 paint.setTextSkewX(/*(float) -0.25*/0f); //è®¾ç½®å¸¦æœ‰åˆ é™¤çº¿æ•ˆæœ paint.setStrikeThruText(false); //åªä¼šå°†æ°´å¹³æ–¹å‘æ‹‰ä¼¸ï¼Œé«˜åº¦ä¸ä¼šå˜ paint.setTextScaleX(0); return paint; } private Paint paintStyleType(int color, Paint.Style style, Typeface typeface){ Paint paint = new Paint(); paint.setAntiAlias(true); paint.setStrokeWidth(2); paint.setStyle(style); paint.setColor(color); paint.setTextSize(60); paint.setTypeface(typeface); return paint; } private Paint paintStyleAlign(int color, Paint.Style style, Paint.Align align){ Paint paint = new Paint(); paint.setAntiAlias(true); paint.setStrokeWidth(2); paint.setStyle(style); paint.setColor(color); paint.setTextSize(60); paint.setTextAlign(align); return paint; } åŸºç¡€çš„æ–‡å­—ç»˜åˆ¶//åŸºçº¿åæ ‡(100,100) //ç¬¬1ä¸ª åŸºçº¿åæ ‡(100,100) canvas.drawText(strs,100,100,paintStyleAlign(Color.BLACK,Paint.Style.FILL, Paint.Align.LEFT)); //ç»˜åˆ¶åŸºçº¿Yè½´ canvas.drawLine(100,100,1080,100,paintStyle(Color.RED,Paint.Style.STROKE)); //ç»˜åˆ¶åŸºçº¿Xè½´ canvas.drawLine(100,0,100,100,paintStyle(Color.RED,Paint.Style.STROKE)); //ç¬¬2ä¸ª canvas.translate(0,150); canvas.drawText(strs,600,100,paintStyleAlign(Color.BLACK,Paint.Style.FILL, Paint.Align.CENTER)); canvas.drawLine(600,100,1080,100,paintStyle(Color.RED,Paint.Style.STROKE)); canvas.drawLine(600,0,600,100,paintStyle(Color.RED,Paint.Style.STROKE)); //ç¬¬3ä¸ª canvas.translate(0,100); canvas.drawText(strs,100,100,paintStyleAlign(Color.BLACK,Paint.Style.STROKE, Paint.Align.LEFT)); canvas.drawLine(100,100,1080,100,paintStyle(Color.RED,Paint.Style.STROKE)); canvas.drawLine(100,0,100,100,paintStyle(Color.RED,Paint.Style.STROKE)); //ç¬¬4ä¸ª canvas.translate(0,100); canvas.drawText(strs,600,100,paintStyleAlign(Color.BLACK,Paint.Style.STROKE, Paint.Align.RIGHT)); canvas.drawLine(600,100,1080,100,paintStyle(Color.RED,Paint.Style.STROKE)); canvas.drawLine(600,0,600,100,paintStyle(Color.RED,Paint.Style.STROKE)); FontMetrics å­—ä½“çš„å„ç§åº¦é‡çš„ç±»/** * æè¿°ç»™å®šæ–‡æœ¬å¤§å°å­—ä½“çš„å„ç§åº¦é‡çš„ç±»ã€‚ è¯·è®°ä½ï¼ŒYå€¼å¢åŠ ä¸‹é™ï¼Œæ‰€ä»¥è¿™äº›å€¼å°†æ˜¯æ­£çš„ï¼Œæµ‹é‡è·ç¦»ä¸Šå‡çš„å€¼å°†æ˜¯è´Ÿçš„ * æ³¨æ„:åœ¨ä½¿ç”¨FontMetricsæ—¶å¿…é¡»ä¸ºåŒä¸€ä¸ªPaintå¯¹è±¡,å¦åˆ™,æ— æ³•è·å–æ–‡å­—æ­£ç¡®çš„ä½ç½®å…³ç³» */ Paint paint12 = new Paint(); paint12.setAntiAlias(true); paint12.setStrokeWidth(2); paint12.setStyle(Paint.Style.STROKE); paint12.setColor(Color.BLACK); paint12.setTextSize(180); Paint.FontMetrics fontMetrics = paint12.getFontMetrics(); //å¯ç»˜åˆ¶çš„æœ€é«˜é«˜åº¦æ‰€åœ¨çº¿ float top; //å¯ç»˜åˆ¶çš„æœ€ä½é«˜åº¦æ‰€åœ¨çº¿ float bottom; //ç³»ç»Ÿå»ºè®®çš„ï¼Œç»˜åˆ¶å•ä¸ªå­—ç¬¦æ—¶ï¼Œå­—ç¬¦åº”å½“çš„æœ€é«˜é«˜åº¦æ‰€åœ¨çº¿ float ascent; //ç³»ç»Ÿå»ºè®®çš„ï¼Œç»˜åˆ¶å•ä¸ªå­—ç¬¦æ—¶ï¼Œå­—ç¬¦åº”å½“çš„æœ€ä½é«˜åº¦æ‰€åœ¨çº¿ float descent; /** * å»ºè®®åœ¨æ–‡æœ¬è¡Œä¹‹é—´æ·»åŠ çš„é¢å¤–ç©ºæ ¼ã€‚ */ //fontMetrics.leading; top = 100 + fontMetrics.top; bottom = 100 + fontMetrics.bottom; ascent = 100 + fontMetrics.ascent; descent = 100 + fontMetrics.descent; canvas.translate(-90,300); canvas.drawText(strs,100,100,paint12); //ç»˜åˆ¶çš„æ–‡å­—åŸºçº¿ paint12.setStrokeWidth(2); canvas.drawLine(100,100,1080,100,paintStyle(Color.RED,Paint.Style.STROKE)); //å¯ç»˜åˆ¶çš„æœ€é«˜é«˜åº¦æ‰€åœ¨çº¿ paint12.setColor(Color.RED); paint12.setStrokeWidth(4); canvas.drawLine(100,top,1080,top,paint12); //å¯ç»˜åˆ¶çš„æœ€ä½é«˜åº¦æ‰€åœ¨çº¿ paint12.setColor(Color.GREEN); paint12.setStrokeWidth(4); canvas.drawLine(100,bottom,1080,bottom,paint12); //ç³»ç»Ÿå»ºè®®çš„ï¼Œç»˜åˆ¶å•ä¸ªå­—ç¬¦æ—¶ï¼Œå­—ç¬¦åº”å½“çš„æœ€é«˜é«˜åº¦æ‰€åœ¨çº¿ paint12.setColor(Color.YELLOW); paint12.setStrokeWidth(2); canvas.drawLine(100,ascent,1080,ascent,paint12); //ç³»ç»Ÿå»ºè®®çš„ï¼Œç»˜åˆ¶å•ä¸ªå­—ç¬¦æ—¶ï¼Œå­—ç¬¦åº”å½“çš„æœ€ä½é«˜åº¦æ‰€åœ¨çº¿ paint12.setColor(Color.BLACK); paint12.setStrokeWidth(2); canvas.drawLine(100,descent,1080,descent,paint12); //æ–‡å­—æ‰€å å®½åº¦ float width = paint12.measureText(strs); //æ–‡å­—æ‰€å é«˜åº¦ float height = bottom - top; Log.e(TAG, &quot;onDraw width: &quot; + width + &quot;, height : &quot; + height); //ç»˜åˆ¶æ–‡å­—æ‰€å åŒºåŸŸçš„è¾¹æ¡† Path pathRect = new Path(); RectF rectF2 = new RectF(100,top,width+100,bottom); paint12.setColor(Color.BLUE); paint12.setStrokeWidth(1); pathRect.addRect(rectF2, Path.Direction.CW); canvas.drawRect(rectF2,paint12); æ ¹æ®è·¯å¾„ç»˜åˆ¶æ–‡å­—PathMeasure measure = new PathMeasure(pathRect,false); int length = (int) measure.getLength(); paint12.setTextSize(40); paint12.setColor(Color.RED); canvas.drawText(String.valueOf(length),width,bottom,paint12); //æ ¹æ®è·¯å¾„ç»˜åˆ¶æ–‡å­— paint12.setColor(Color.BLACK); paint12.setTextSize(90); canvas.translate(0,200); Path rectPath = new Path(); RectF rectF = new RectF(400,200,1000,800); //é¡ºæ—¶é’ˆ rectPath.addRect(rectF, Path.Direction.CW); canvas.drawPath(rectPath,paintStyle(Color.RED,Paint.Style.STROKE)); /** * @param hOffset è¦æ·»åŠ åˆ°æ–‡æœ¬å¼€å§‹ä½ç½®çš„è·¯å¾„ä¸Šçš„è·ç¦» * @param vOffsetï¼ˆ - ï¼‰æˆ–ä»¥ä¸‹çš„è·ç¦»ï¼ˆ+ï¼‰å®šä½æ–‡æœ¬çš„è·¯å¾„ */ paint12.setStyle(Paint.Style.FILL_AND_STROKE); canvas.drawTextOnPath(strs,rectPath,0,0,paint12); paint12.setStyle(Paint.Style.STROKE); canvas.drawTextOnPath(strs,rectPath,20,20,paint12); paint12.setStyle(Paint.Style.STROKE); paint12.setColor(Color.BLUE); canvas.drawTextOnPath(strs,rectPath,-20,-20,paint12); é¡ºæ—¶é’ˆ é€†æ—¶é’ˆ 4 åˆå§‹åŒ–ç±»è¿™ä¸€ç±»æ–¹æ³•æ˜¯ç”¨æ¥åˆå§‹åŒ– Paint å¯¹è±¡ï¼Œæˆ–è€…æ˜¯æ‰¹é‡è®¾ç½® Paint çš„å¤šä¸ªå±æ€§çš„æ–¹æ³•ã€‚ 4.1 reset()é‡ç½® Paint çš„æ‰€æœ‰å±æ€§ä¸ºé»˜è®¤å€¼ã€‚ç›¸å½“äºé‡æ–° new ä¸€ä¸ªï¼Œä¸è¿‡æ€§èƒ½å½“ç„¶é«˜ä¸€äº›å•¦ã€‚ 4.2 set(Paint src)æŠŠ src çš„æ‰€æœ‰å±æ€§å…¨éƒ¨å¤åˆ¶è¿‡æ¥ã€‚ç›¸å½“äºè°ƒç”¨ src æ‰€æœ‰çš„ get æ–¹æ³•ï¼Œç„¶åè°ƒç”¨è¿™ä¸ª Paint çš„å¯¹åº”çš„ set æ–¹æ³•æ¥è®¾ç½®å®ƒä»¬ã€‚ 4.3 setFlags(int flags)æ‰¹é‡è®¾ç½® flagsã€‚ç›¸å½“äºä¾æ¬¡è°ƒç”¨å®ƒä»¬çš„ set æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š  paint.setFlags(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG); è¿™è¡Œä»£ç ï¼Œå’Œä¸‹é¢è¿™ä¸¤è¡Œæ˜¯ç­‰ä»·çš„ï¼š paint.setAntiAlias(true); paint.setDither(true);]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰View-2 ç»˜åˆ¶å›¾è¡¨ï¼šç›´è§’åæ ‡ç³»+é¥¼çŠ¶å›¾]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89View-2%20%E7%BB%98%E5%88%B6%E5%9B%BE%E8%A1%A8%EF%BC%9A%E7%9B%B4%E8%A7%92%E5%9D%90%E6%A0%87%E7%B3%BB%2B%E9%A5%BC%E7%8A%B6%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[æ­¥éª¤åˆ†ææ•°æ®çš„è¡¨ç°å½¢å¼ åæ ‡ç³» é¥¼çŠ¶å›¾ æ•°æ®å‡†å¤‡ï¼Œè·å–å›¾è¡¨çš„ï¼š æ ‡é¢˜ å„ä¸ªæ•°æ®é¡¹çš„åç§° å„ä¸ªæ•°æ®é¡¹çš„æ•°å€¼ å°†æ•°æ®è¿›è¡Œå°è£… åœ¨è®¾å®šitemå°ºå¯¸èŒƒå›´æ—¶ï¼Œéœ€è¦è®¾å®šï¼š è§„å®šå¥½èµ·å§‹ä½ç½®ï¼ˆXè½´æˆ–Yè½´çš„startValueï¼‰ åæ ‡ç³»ç¡®å®šå¥½åŸç‚¹ï¼ˆ0ï¼Œ0ï¼‰ é¥¼çŠ¶å›¾ç¡®å®šå¥½åœ†å¿ƒ å„ä¸ªitemä¹‹é—´çš„é—´éš”ï¼ˆspaceï¼‰ å•ä¸ªitemçš„å®½åº¦æˆ–é«˜åº¦ï¼ˆæ¯”å€¼ï¼‰ ç›´æ–¹å›¾ã€æŠ˜çº¿å›¾æ—¶å¹³å‡åˆ†é…itemçš„é«˜åº¦ã€å®½åº¦ï¼› é¥¼çŠ¶å›¾æ—¶å„ä¸ªæ•°æ®æ‰€å çš„æ‰‡å½¢é¢ç§¯çš„å¤§å°ï¼ˆå½“å‰æ•°æ®æ‰€å æ¯”ä¾‹*360ï¼‰ã€‚ æœ‰æ— ç‰¹æ®Šè¦æ±‚ï¼Ÿå…·ä½“å®ç°æ ‡è®°é‡ç‚¹ï¼šåœ¨è‡ªå®šä¹‰å›¾è¡¨çš„å®ç°è¿‡ç¨‹ä¸­ï¼Œå°½é‡ä½¿ç”¨â€œå¯¹è±¡è·å–â€ã€â€œæ¯”ä¾‹åŒ–â€çš„æ•°æ®ã€‚ ä¸¤ä¸ªå›¾ä½¿ç”¨çš„åŒä¸€ä¸ªæ•°æ®ç±»ï¼šPhoneData1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * @author wenjia.Cheng cwj1714@163.com * @date 2017/11/13 */public class PhoneData &#123; String phoneName; float phoneValue; int phoneColor; public PhoneData(String phoneName, float phoneValue, int phoneColor) &#123; this.phoneName = phoneName; this.phoneValue = phoneValue; this.phoneColor = phoneColor; &#125; public String getPhoneName() &#123; return phoneName; &#125; public void setPhoneName(String phoneName) &#123; this.phoneName = phoneName; &#125; public float getPhoneValue() &#123; return phoneValue; &#125; public void setPhoneValue(float phoneValue) &#123; this.phoneValue = phoneValue; &#125; public int getPhoneColor() &#123; return phoneColor; &#125; public void setPhoneColor(int phoneColor) &#123; this.phoneColor = phoneColor; &#125; @Override public String toString() &#123; return "PhoneData&#123;" + "phoneName='" + phoneName + '\'' + ", phoneValue=" + phoneValue + ", phoneColor=" + phoneColor + '&#125;'; &#125;&#125; åæ ‡ç³»çš„å®ç°ï¼šä¸€ä¸ªå®Œæ•´çš„ç±»ï¼ŒåŒ…æ‹¬æ³¨é‡Šï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213/** * ç›´è§’åæ ‡ç³» * * @author wenjia.Cheng cwj1714@163.com * @date 2017/11/13 */public class Histogram extends View &#123; private static final String TAG = "Histogram"; private String titleName = "ç›´è§’åæ ‡ç³»"; private List&lt;PhoneData&gt; mPhoneData = null; private float maxVal = 0f; private float totalVal = 0f; private Paint mPaint = null; private DecimalFormat mDecimalFormat; public Histogram(Context context) &#123; super(context); &#125; public Histogram(Context context, @Nullable AttributeSet attrs) &#123; super(context, attrs); &#125; public Histogram(Context context, @Nullable AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); &#125; private void initData() &#123; mPhoneData = new ArrayList&lt;&gt;(); mPhoneData.add(new PhoneData("HuaWei", 38f, Color.RED)); mPhoneData.add(new PhoneData("Vivo", 23f, Color.BLUE)); mPhoneData.add(new PhoneData("Samsung", 33f, Color.GREEN)); mPhoneData.add(new PhoneData("Oppo", 12f, Color.YELLOW)); mPhoneData.add(new PhoneData("Apple", 41f, Color.MAGENTA)); mPhoneData.add(new PhoneData("XiaoMi", 17f, Color.LTGRAY)); mPhoneData.add(new PhoneData("Pixel2", 6f, Color.DKGRAY)); mPhoneData.add(new PhoneData("HTC", 11f, Color.MAGENTA)); mPhoneData.add(new PhoneData("MOTO", 9f, Color.CYAN)); for (PhoneData item : mPhoneData) &#123; maxVal = Math.max(maxVal, item.getPhoneValue()); totalVal = totalVal + item.getPhoneValue(); &#125; dealMaxVal(maxVal); Log.d(TAG, "(&gt;^Ï‰^&lt;) -&gt; initData maxVal is : " + maxVal + ", totalVal is : " + totalVal); mPaint = new Paint(); mPaint.setAntiAlias(true); mPaint.setStyle(Paint.Style.FILL_AND_STROKE); mPaint.setColor(Color.BLACK); mDecimalFormat = new DecimalFormat(".00"); &#125; private void dealMaxVal(float maxVal) &#123; &#125; @Override protected void onDraw(Canvas canvas) &#123; super.onDraw(canvas); initData(); mPaint.setStrokeWidth(1); mPaint.setTextSize(56); canvas.drawText(titleName, canvas.getWidth() / 2 - mPaint.measureText(titleName) / 2, canvas.getHeight() * 0.07f, mPaint); mPaint.setColor(Color.BLACK); canvas.translate(canvas.getWidth() * 0.1f, canvas.getHeight() * 0.9f); mPaint.setStrokeWidth(5); //æ–¹å¼ï¼š2,ä¸¤è€…å‡å¯å®ç°ç»˜åˆ¶ canvas.drawLine(0f, 0f, canvas.getWidth() * 0.8f, 0f, mPaint); canvas.drawLine(0f, 0f, 0f, -canvas.getHeight() * 0.8f, mPaint); //itemçš„å®½åº¦å’Œé—´éš” float itemWidth = canvas.getWidth() * 0.8f / mPhoneData.size() * 0.8f; float itemSpace = canvas.getWidth() * 0.8f / mPhoneData.size() * 0.2f; //ç»˜åˆ¶ç›´æ–¹å›¾ drawRect(canvas, itemSpace, itemWidth, maxVal); //ç»˜åˆ¶æ•°å€¼æ–‡å­— drawTextValue(canvas, itemSpace, itemWidth, maxVal); //ç»˜åˆ¶æŠ˜çº¿ drawLines(canvas, itemSpace, itemWidth, maxVal); //ç»˜åˆ¶ç‚¹ drawPoint(canvas, itemSpace, itemWidth, maxVal); //ç»˜åˆ¶æœ€é«˜æ•°å€¼å‚è€ƒçº¿ drawKindOfValLine(canvas, itemSpace, itemWidth); &#125; private void drawKindOfValLine(Canvas canvas, float itemSpace, float itemWidth) &#123; int maxValIndex = 0; mPaint.setColor(Color.BLUE); mPaint.setStrokeCap(Paint.Cap.ROUND); mPaint.setStrokeWidth(2); float aveVal = totalVal / mPhoneData.size(); for (int i = 0; i &lt; mPhoneData.size(); i++) &#123; if (maxVal == mPhoneData.get(i).getPhoneValue()) &#123; maxValIndex = i; &#125; &#125; //æœ€å¤§å€¼çš„è¡¨ç¤º float valueYMax = -maxVal / maxVal * canvas.getHeight() * 0.7f; String maxStr = mDecimalFormat.format(mPhoneData.get(maxValIndex).getPhoneValue()); canvas.drawLine(0f, valueYMax, maxValIndex * (itemSpace + itemWidth) + (itemSpace + itemWidth / 2), valueYMax, mPaint); canvas.drawText(maxStr, -mPaint.measureText(maxStr) - 10f, valueYMax, mPaint); //å¹³å‡å€¼çš„è¡¨ç¤º float valueYAve = -aveVal / maxVal * canvas.getHeight() * 0.7f; String aveStr = mDecimalFormat.format(aveVal); canvas.drawLine(0f, valueYAve, canvas.getWidth() * 0.8f, valueYAve, mPaint); canvas.drawText(aveStr, -mPaint.measureText(aveStr) - 10f, valueYAve, mPaint); &#125; private void drawRect(Canvas canvas, float itemSpace, float itemWidth, float maxVal) &#123; float startXY = 0f; mPaint.setTextSize(36); mPaint.setStrokeWidth(1); for (PhoneData item : mPhoneData) &#123; mPaint.setColor(item.getPhoneColor()); //ç»˜åˆ¶Xè½´æ–‡å­— - æ¨ªå‘ canvas.drawText(item.getPhoneName(), startXY + itemSpace + (itemWidth - mPaint.measureText(item.getPhoneName())) / 2, 60, mPaint); //ç»˜åˆ¶Xè½´æ–‡å­— - æœ‰ä¸€å®šè§’åº¦ /* Path path = new Path(); path.moveTo(startXY + itemSpace + (itemWidth - mPaint.measureText(item.getPhoneName())) / 2, 30); path.lineTo(startXY + itemSpace + (itemWidth - mPaint.measureText(item.getPhoneName())) / 2 + 30, 30 + mPaint.measureText(item.getPhoneName())); canvas.drawTextOnPath(item.getPhoneName(),path,0,0,mPaint);*/ //ç»˜åˆ¶ç›´æ–¹å›¾ canvas.drawRect(startXY + itemSpace, -item.getPhoneValue() / maxVal * canvas.getHeight() * 0.7f, startXY + itemSpace + itemWidth, 0, mPaint); //é‡æ–°ç»˜åˆ¶itemçš„èµ·å§‹ç‚¹ startXY += itemSpace + itemWidth; &#125; &#125; private void drawTextValue(Canvas canvas, float itemSpace, float itemWidth, float maxVal) &#123; float startXY = 0f; mPaint.setTextSize(36); mPaint.setStrokeWidth(1); for (PhoneData item : mPhoneData) &#123; mPaint.setColor(item.getPhoneColor()); //ç»˜åˆ¶ç›´æ–¹å›¾ä¸Šæ–¹çš„æ•°å€¼æ–‡å­— canvas.drawText(String.valueOf(item.getPhoneValue()), startXY + itemSpace + (itemWidth - mPaint.measureText(String.valueOf(item.getPhoneValue()))) / 2, -item.getPhoneValue() / maxVal * canvas.getHeight() * 0.7f - 20f, mPaint); //é‡æ–°ç»˜åˆ¶itemçš„èµ·å§‹ç‚¹ startXY += itemSpace + itemWidth; &#125; &#125; private void drawPoint(Canvas canvas, float itemSpace, float itemWidth, float maxVal) &#123; mPaint.setColor(Color.BLACK); mPaint.setStrokeWidth(20); mPaint.setStrokeCap(Paint.Cap.ROUND); float startX = itemSpace + itemWidth / 2; float startY = 0f; for (int i = 0; i &lt; mPhoneData.size(); i++) &#123; startY = -mPhoneData.get(i).getPhoneValue() / maxVal * canvas.getHeight() * 0.7f; canvas.drawPoint(startX, startY, mPaint); startX = startX + itemSpace + itemWidth; &#125; &#125; private void drawLines(Canvas canvas, float itemSpace, float itemWidth, float maxVal) &#123; mPaint.setColor(Color.BLACK); mPaint.setStrokeWidth(5); float startX = itemSpace + itemWidth / 2; float startY = 0f; float endX = 0f; for (int i = 0; i &lt; mPhoneData.size(); i++) &#123; if (i == 0) &#123; startY = -mPhoneData.get(i).getPhoneValue() / maxVal * canvas.getHeight() * 0.7f; canvas.drawPoint(startX, startY, mPaint); &#125; else &#123; endX = startX + itemSpace + itemWidth; canvas.drawLine(startX, startY, endX, -mPhoneData.get(i).getPhoneValue() / maxVal * canvas.getHeight() * 0.7f, mPaint); startY = -mPhoneData.get(i).getPhoneValue() / maxVal * canvas.getHeight() * 0.7f; startX = endX; &#125; &#125; &#125;&#125; /* ç»˜åˆ¶xï¼Œyè½´ æ–¹å¼ï¼š1 canvas.drawLine(canvas.getWidth() * 0.1f, canvas.getHeight() * 0.9f,canvas.getWidth() * 0.9f,canvas.getHeight() * 0.9f,mPaint); canvas.drawLine(canvas.getWidth() * 0.1f,canvas.getHeight() * 0.9f,canvas.getWidth() * 0.1f,canvas.getHeight() * 0.1f,mPaint); */ é¥¼çŠ¶å›¾çš„å®ç°ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192/** * PieChart é¥¼çŠ¶å›¾ * * @author wenjia.Cheng cwj1714@163.com * @date 2017/11/13 */public class PieChart extends View &#123; private static final String TAG = "PieChart"; private String titleName = "é¥¼çŠ¶å›¾"; private List&lt;PhoneData&gt; mPhoneData = null; private float maxVal = 0f; private float totalVal = 0f; private Paint mPaint = null; /** * èµ·å§‹è§’åº¦ */ private float startAngle; /** * åˆ’è¿‡è§’åº¦ */ private float swepAngle; /** * åˆ’è¿‡è§’åº¦çš„ä¸€åŠ */ private float halfSwepAngle; /** * æŒ‡ç¤ºæ–‡å­—çš„æ ‡çº¿ X è½´èµ·å§‹ç‚¹ã€‚ */ private float lineStartX; private float lineStartY; private float lineEndX; private float lineEndY; private float radius = 0f; private float divideStart = 90; private float divideEnd = 270; private DecimalFormat decimalFormat; public PieChart(Context context) &#123; super(context); &#125; public PieChart(Context context, @Nullable AttributeSet attrs) &#123; super(context, attrs); &#125; public PieChart(Context context, @Nullable AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); &#125; private void initData()&#123; mPhoneData = new ArrayList&lt;&gt;(); mPhoneData.add(new PhoneData("HuaWei",38f, Color.RED)); mPhoneData.add(new PhoneData("Vivo",23f,Color.BLUE)); mPhoneData.add(new PhoneData("Samsung",33f,Color.GREEN)); mPhoneData.add(new PhoneData("Oppo",12f,Color.YELLOW)); mPhoneData.add(new PhoneData("Apple",41f,Color.MAGENTA)); mPhoneData.add(new PhoneData("XiaoMi",17f,Color.LTGRAY)); mPhoneData.add(new PhoneData("Pixel2",6f,Color.DKGRAY)); for (PhoneData item : mPhoneData) &#123; maxVal = Math.max(maxVal,item.getPhoneValue()); totalVal = totalVal + item.getPhoneValue(); &#125; mPaint = new Paint(); mPaint.setAntiAlias(true); mPaint.setStyle(Paint.Style.FILL_AND_STROKE); mPaint.setStrokeWidth(1); mPaint.setColor(Color.BLACK); //æ„é€ æ–¹æ³•çš„å­—ç¬¦æ ¼å¼è¿™é‡Œå¦‚æœå°æ•°ä¸è¶³2ä½,ä¼šä»¥0è¡¥è¶³. decimalFormat=new DecimalFormat("######0.00"); &#125; @Override protected void onDraw(Canvas canvas) &#123; super.onDraw(canvas); /* åœ†ç‚¹åæ ‡ï¼š(x0,y0) åŠå¾„ï¼šr è§’åº¦ï¼ša0 åˆ™åœ†ä¸Šä»»ä¸€ç‚¹ä¸ºï¼šï¼ˆx1,y1ï¼‰ x1 = x0 + r * cos(ao * 3.14 /180 ) y1 = y0 + r * sin(ao * 3.14 /180 ) */ initData(); mPaint.setTextSize(56); canvas.drawText(titleName,canvas.getWidth()/2 - mPaint.measureText(titleName)/2, canvas.getHeight() * 0.07f,mPaint); //ç§»åŠ¨ç”»å¸ƒçš„åŸç‚¹ canvas.translate(canvas.getWidth() / 2,canvas.getWidth() / 2 - 100f); float length = canvas.getWidth() * 0.25f; RectF rectF = new RectF(-length, -length,length,length); mPaint.setStrokeWidth(5); mPaint.setStrokeCap(Paint.Cap.ROUND); mPaint.setStyle(Paint.Style.FILL); mPaint.setTextSize(36); radius = length; for (PhoneData item : mPhoneData) &#123; mPaint.setColor(item.getPhoneColor()); swepAngle = item.getPhoneValue() / totalVal * 360f; halfSwepAngle = startAngle + swepAngle / 2; /* * è§’åº¦=å¼§åº¦*180/Math.PI åœ†ç‚¹åæ ‡ï¼š(x0,y0) åŠå¾„ï¼šr è§’åº¦ï¼ša0 åˆ™åœ†ä¸Šä»»ä¸€ç‚¹ä¸ºï¼šï¼ˆx1,y1ï¼‰ x1 = x0 + r * cos(ao * 3.14 /180 ) y1 = y0 + r * sin(ao * 3.14 /180 ) */ lineStartX = (float) (radius * Math.cos(halfSwepAngle * Math.PI / 180)); lineStartY = (float) (radius * Math.sin(halfSwepAngle * Math.PI / 180)); lineEndX = (float) ((radius + 50) * Math.cos(halfSwepAngle * Math.PI / 180)); lineEndY = (float) ((radius + 50) * Math.sin(halfSwepAngle * Math.PI / 180)); if (maxVal == item.getPhoneValue()) &#123; //æ³¨æ„å…ˆä¿å­˜å½“å‰canvas canvas.save(); canvas.translate(lineStartX * 0.1f, lineStartY * 0.1f); canvas.drawArc(rectF, startAngle, swepAngle - 2f, true, mPaint); canvas.drawLine(lineStartX,lineStartY,lineEndX,lineEndY,mPaint); //ç»˜åˆ¶å„ä¸ªåŒºåŸŸçš„æ–‡å­— diffLineLength(canvas, item); //ç»˜åˆ¶å„ä¸ªåŒºåŸŸçš„æ•°å€¼ diffLineVal(canvas, item); //ç»˜åˆ¶ç™¾åˆ†æ¯” //diffPercentage(canvas,item); &#125; else &#123; canvas.drawArc(rectF,startAngle,swepAngle - 2f,true,mPaint); canvas.drawLine(lineStartX,lineStartY,lineEndX,lineEndY,mPaint); diffLineLength(canvas, item); diffLineVal(canvas, item); //diffPercentage(canvas,item); &#125; if (maxVal == item.getPhoneValue()) &#123; // ç‰¹æ®Šå·¥ä½œåšå®Œä¹‹åï¼Œå†å›å¤ä¹‹å‰ä¿å­˜çš„canvas canvas.restore(); &#125; startAngle += swepAngle; &#125; &#125; private void diffLineLength(Canvas canvas, PhoneData item) &#123; if (halfSwepAngle &gt; divideStart &amp;&amp; halfSwepAngle &lt;= divideEnd) &#123; canvas.drawLine(lineEndX, lineEndY, lineEndX - 100, lineEndY, mPaint); canvas.drawText(item.getPhoneName(), lineEndX - 120 - mPaint.measureText(item.getPhoneName()), lineEndY, mPaint); &#125; else &#123; canvas.drawLine(lineEndX,lineEndY,lineEndX + 100,lineEndY,mPaint); canvas.drawText(item.getPhoneName(),lineEndX + 120,lineEndY,mPaint); &#125; &#125; private void diffLineVal(Canvas canvas, PhoneData item) &#123; if (halfSwepAngle &gt; divideStart &amp;&amp; halfSwepAngle &lt;= divideEnd) &#123; mPaint.setColor(Color.WHITE); canvas.drawText(String.valueOf(item.getPhoneValue()),(lineEndX - (mPaint.measureText(String.valueOf(item.getPhoneValue()))) / 2) * 0.5f,(lineEndY) * 0.5f, mPaint); &#125; else &#123; mPaint.setColor(Color.WHITE); canvas.drawText(String.valueOf(item.getPhoneValue()),(lineEndX + (mPaint.measureText(String.valueOf(item.getPhoneValue()))) / 2) * 0.5f,(lineEndY) * 0.5f, mPaint); &#125; &#125; private void diffPercentage(Canvas canvas, PhoneData item) &#123; if (halfSwepAngle &gt; divideStart &amp;&amp; halfSwepAngle &lt;= divideEnd) &#123; mPaint.setColor(Color.WHITE); canvas.drawText(decimalFormat.format(item.getPhoneValue() / totalVal *100) + "%",(lineEndX - mPaint.measureText(decimalFormat.format(item.getPhoneValue()))) / 2,(lineEndY) * 0.5f, mPaint); &#125; else &#123; mPaint.setColor(Color.WHITE); canvas.drawText(decimalFormat.format(item.getPhoneValue() / totalVal *100) + "%" ,(lineEndX - mPaint.measureText(decimalFormat.format(item.getPhoneValue()))) / 2,(lineEndY) * 0.5f, mPaint); &#125; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŠ½è±¡å·¥å‚æ¨¡å¼]]></title>
    <url>%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[è®¾è®¡åŸåˆ™ï¼šä¾èµ–å€’ç½®åŸåˆ™è¦ä¾èµ–æŠ½è±¡ï¼Œä¸è¦ä¾èµ–å…·ä½“ç±»ã€‚ è¿™ä¸ªåŸåˆ™æ¯”èµ·â€œé’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¸é’ˆå¯¹å®ç°ç¼–ç¨‹â€æ›´åŠ å¼ºè°ƒçš„æ˜¯â€œæŠ½è±¡â€ã€‚ä¸è®©é«˜å±‚ç»„ä»¶ä¾èµ–åº•å±‚ç»„ä»¶ï¼Œè€Œä¸”ä¸è®ºâ€œé«˜å±‚â€è¿˜æ˜¯â€œåº•å±‚â€ï¼Œä¸¤è€…éƒ½ä¾èµ–â€œæŠ½è±¡â€ã€‚ è¿™ä¸ªæ¨¡å¼çš„å­¦ä¹ ï¼Œé¦–å…ˆé€šè¿‡ä¸€ä¸ªè‡ªå·±ä»¥å‰æœ€å¸¸è§çš„ç¼–ç å¼€å§‹ï¼ˆè‡ªå·±åœ¨å­¦æ ¡ç¼–å†™å°é¡¹ç›®æ—¶æ›¾ç»çœŸçš„è¿™ä¹ˆå†™è¿‡ ï¼Œå¥½å›§å•Š ï¾(;Â´Ğ”ï½€ï¾) ï¼‰ã€‚ å¼•å‡ºé—®é¢˜ è¿™æ ·çœ‹å¯èƒ½å¹¶ä¸ä¼šç‰¹åˆ«ç›´è§‚ï¼Œä½†æ˜¯åªè¦è½¬æ¢ä¸ºå›¾å½¢â€¦â€¦ é€šè¿‡è¿™ä¸ªå›¾å½¢çš„ï¼Œæˆ‘ä»¬å·²ç»å¾ˆç›´è§‚çš„èƒ½çœ‹åˆ°é—®é¢˜çš„æ‰€åœ¨ï¼šæœ‰ç‚¹â€œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€çš„æ„æ€ã€‚è¿™æ ·çš„ç¼–å†™è¿èƒŒäº†é¢å‘æ¥å£ç¼–ç¨‹çš„åŸåˆ™ï¼Œè€Œä¸”è€¦åˆç¨‹åº¦é«˜ï¼šä¸€ä¸ªç±»ä¸ä¼—å¤šçš„ç±»ä¹‹é—´ä¿æŒç€ä¾èµ–å…³ç³»ã€‚ è¿›è¡Œå€’ç½® ä¾èµ–å€’ç½®åŸåˆ™ä¸­çš„â€œå€’ç½®â€ç©¶ç«Ÿâ€œå€’â€åœ¨å“ªé‡Œï¼Ÿâ€œå€’ç½®â€æŒ‡çš„æ˜¯å’Œä¸€èˆ¬çš„OOè®¾è®¡æ€æƒ³æ–¹å¼ç›¸åï¼Œå€’ç½®ä½ é’ˆå¯¹é—®é¢˜è¿›è¡Œè®¾è®¡æ—¶çš„æ€ç»´æ–¹å¼ã€‚ å¦‚ä½•é¿å…è¿åä¾èµ–å€’ç½®åŸåˆ™ï¼š å˜é‡ä¸å¯ä»¥æŒæœ‰å…·ä½“ç±»çš„å¼•ç”¨ã€‚ åœ¨æ­¤ä¾‹ä¸­ï¼Œä½¿ç”¨å·¥å‚æ–¹æ³•æ¥é¿å…new ä¸è¦è®©ç±»æ´¾ç”Ÿè‡ªå…·ä½“çš„ç±»ã€‚ ä¸è¦è¦†ç›–åŸºç±»ä¸­å·²å®ç°çš„æ–¹æ³• æŠ½è±¡å·¥å‚æ¨¡å¼çš„å®šä¹‰ï¼šæä¾›ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåˆ›å»ºç›¸å…³æˆ–ä¾èµ–å¯¹è±¡çš„å®¶æ—ï¼Œè€Œä¸éœ€è¦æ˜ç¡®æŒ‡å®šå…·ä½“ç±»ã€‚æŠ½è±¡å·¥å‚çš„ä»»åŠ¡æ˜¯å®šä¹‰åˆ›å»ºä¸€ç»„äº§å“çš„æ¥å£ï¼Œæ¥å£å†…çš„æ¯ä¸ªæ–¹æ³•è´Ÿè´£åˆ›å»ºä¸€ä¸ªå…·ä½“çš„äº§å“ï¼ŒåŒæ—¶æˆ‘ä»¬åˆ©ç”¨å®ç°æŠ½è±¡å·¥å‚å­ç±»æ¥å®ç°è¿™ä¸ªåˆ›å»ºæ–¹æ³•ã€‚æŠ½è±¡å·¥å‚ä¸­åˆ©ç”¨å·¥å‚æ–¹æ³•å®ç°ç”Ÿäº§æ–¹æ³•æ˜¯ç›¸å½“è‡ªç„¶çš„åšæ³•ã€‚ åœæ­¢äºï¼š 2017-11-08 15:10:25 ä¸“å‘ï¼šAndroidé«˜çº§è¿›é˜¶]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[StarUMLçš„ä½¿ç”¨]]></title>
    <url>%2FStarUML%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[StarUMLä½¿ç”¨å‚è€ƒï¼šhttp://blog.csdn.net/eyckwu/article/details/53871841UMLå­¦ : http://www.uml.org.cn/oobject/201104212.aspå„ç§å›¾ï¼ˆæµç¨‹å›¾ï¼Œæ€ç»´å¯¼å›¾ï¼ŒUMLï¼Œæ‹“æ‰‘å›¾ï¼ŒERå›¾ï¼‰ç®€ä»‹ ï¼šhttp://www.cnblogs.com/jiqing9006/p/3344221.html æ–‡ç« æŒç»­æ›´æ–°ä¸­â€¦â€¦ ç äº‘æ‹¾é— æ˜æ˜Ÿæ•ˆåº”ã€‚å¾ˆç®€å•ï¼Œåœ¨ä¸€ä¸ªé¢†åŸŸä¿æŒé¡¶å°–æ°´å¹³ï¼Œæ¯”åœ¨ä¸€ä¸¤ä¸ªé¢†åŸŸä¿æŒé¢†å…ˆæ°´å¹³å’Œäº”å…­ä¸ªé¢†åŸŸä¿æŒä¸€èˆ¬æ°´å‡†éƒ½è¦æ›´æœ‰ä»·å€¼ã€å¹¶ä¸”æ”¶ç›Šæ›´å¥½ã€‚ æœ‰æ‚–å¸¸è¯†çš„çœŸç›¸ï¼šè®©æœªæ¥æ›´å¼€æ”¾çš„æ–¹å¼ï¼Œæ­£æ˜¯ä¸“æ³¨çš„å»åšå¥½ä¸€ä»¶äº‹æƒ…ã€‚è¿™ä¸ªä¸–ç•Œä¸Šæœ€æˆåŠŸçš„äººï¼Œä»–ä»¬åœ¨æŸä¸€é¢†åŸŸè·å¾—æˆåŠŸä¹‹åï¼Œå¯é€šè¿‡ç»è¥æ æ†è¿›å…¥ä»»ä½•ä»–ä»¬æƒ³è¦æ¶‰è¶³çš„é¢†åŸŸã€‚è€Œè¿™éƒ½å¾—ä¾èµ–äºä»–ä»¬æ›¾æè‡´çš„ä¸“æ³¨åœ¨åšå¥½ä¸€ä»¶äº‹æƒ…ä¸Šã€‚ æ­£æ–‡StarUMLæ˜¯ä¸€ä¸ªéŸ©å›½äººç”¨DELPHIå†™çš„UMLå·¥å…·ï¼Œæ”¯æŒUML2.0ã€‚ UMLåˆ†ä¸ºï¼š1. é™æ€å»ºæ¨¡ï¼šç³»ç»ŸåŸºç¡€å’Œç³»ç»Ÿå›ºå®šæ¡†æ¶ç»“æ„ï¼Œè¿™äº›å›¾å½¢å¾€å¾€æ˜¯â€œé™æ€â€çš„ã€‚2. ç±»å›¾(Class Diagram)ï¼šå¸¸ç”¨æ¥åˆ†æä¸šåŠ¡æ¦‚å¿µ3. ç”¨ä¾‹å›¾(Use Case Diagram)ï¼šç”±å‚ä¸è€…ã€ç”¨ä¾‹ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»æ„æˆçš„ä½¿ç”¨å‚è€ƒï¼šhttps://www.2cto.com/os/201502/377091.html å‚ä¸è€…ï¼šæ˜¯æŒ‡å­˜åœ¨äºç³»ç»Ÿå¤–éƒ¨å¹¶ç›´æ¥ä¸ç³»ç»Ÿäº¤äº’çš„äººã€ç³»ç»Ÿæˆ–è®¾å¤‡ç­‰ã€‚ ç”¨ä¾‹ï¼šæ˜¯ç³»ç»Ÿä¸ºå‚ä¸è€…æä¾›çš„åŠŸèƒ½ã€‚ ç”¨ä¾‹å‘½åï¼šå–ä¸€ä¸ªç®€å•ã€æ¦‚æ‹¬æ€§çš„åç§°ï¼Œä¸€èˆ¬æ˜¯å¸¦æœ‰åŠ¨ä½œæ€§çš„åç§°ã€‚ ç”¨ä¾‹è¡¨ç¤ºï¼šç”¨æ¤­åœ†è¡¨ç¤ºï¼Œæ¤­åœ†ä¸‹é¢é™„æœ‰ç”¨ä¾‹çš„åç§°ã€å®çº¿ç®­å¤´ï¼Œåœ¨ç”¨ä¾‹å›¾ä¸­ç”¨äºè¿æ¥å‚ä¸è€…ä¸ç”¨ä¾‹ï¼Œç”¨ä¾‹æ–¹å‘æŒ‡å‘ç”¨ä¾‹ã€‚ ç”¨ä¾‹ä¸ç”¨ä¾‹ä¹‹é—´çš„ä¸‰ç§å…³ç³»ï¼š 1. æ³›åŒ–ï¼ˆgeneralizationï¼‰ä»£è¡¨ä¸€èˆ¬ä¸ç‰¹æ®Šçš„å…³ç³» 2. åŒ…å«ï¼ˆincludeï¼‰å…³ç³» 3. æ‰©å±•ï¼ˆextendï¼‰å…³ç³» 4. å¯¹è±¡å›¾(Object Diagram)5. æ„ä»¶å›¾(Component Diagram)ï¼šè¡¨ç¤ºç»„ä»¶ä¹‹é—´çš„å…³ç³»6. éƒ¨ç½²å›¾(Deployment Diagram)ï¼šéƒ¨ç½²è½¯ä»¶åº”ç”¨çš„ç‰©ç†è®¾å¤‡ä¿¡æ¯2. åŠ¨æ€å»ºæ¨¡ï¼šæè¿°çš„æ˜¯æŸç§è¡Œä¸ºï¼Œæ˜¯â€œåŠ¨æ€â€çš„ã€‚ æ´»åŠ¨å›¾(Activity Diagram)ï¼šç±»ä¼¼æµç¨‹å›¾ çŠ¶æ€æœºå›¾(State Machine Diagram) æ—¶åºå›¾(Sequence Diagram)ï¼šæ•æ‰ä¸€æ®µæ—¶é—´èŒƒå›´å†…å¤šä¸ªå¯¹è±¡ä¹‹é—´çš„äº¤äº’ä¿¡æ¯ï¼Œ å¼ºè°ƒä¿¡æ¯äº¤äº’çš„æ—¶é—´é¡ºåºã€‚ é€šè®¯å›¾(Communication Diagram) æ—¶é—´å›¾(Timing Diagram) StarUMLä½¿ç”¨Modeçš„é€‰æ‹©é€‰æ‹©æ›´ä¸ºå…·ä½“çš„å›¾ æ·»åŠ æ›´ä¸ºä¸°å¯Œçš„å…ƒç´  1. ç±»å›¾çš„ç”»æ³•æ¦‚è§ˆ å¦‚ä¸Šå›¾æ˜¯ä¸€ä¸ªç±»å›¾ï¼Œä¸‹é¢å¯¹æ¯ä¸€ä¸ªå›¾æ ‡çš„å†…å®¹è¿›è¡Œè§£é‡Šï¼ˆä»å·¦åˆ°å³ï¼Œä»ä»ä¸Šåˆ°ä¸‹ï¼‰ã€‚å·¦ä¾§ï¼š æ ‡è¯†Classçš„å¯è§æ€§ï¼ˆé»˜è®¤publicï¼‰ æ·»åŠ noteï¼Œè¿›è¡Œå¯¹ç±»çš„è¯´æ˜ å³ä¾§ï¼š å¢åŠ ç±»çš„å±æ€§ å¢åŠ ç±»çš„è¡Œä¸º æ·»åŠ reception æ·»åŠ å­ç±» æ·»åŠ çˆ¶ç±» æ·»åŠ å·²æœ‰çš„æ¥å£ æ·»åŠ éœ€è¦çš„æ¥å£ æ·»åŠ å…³è” æ·»åŠ èšåˆ æ·»åŠ ç»„åˆ æ·»åŠ ç«¯å£ æ·»åŠ ç»„ä»¶ å…·ä½“1. ç±»å›¾åŒ…æ‹¬ï¼šç±»å + å±æ€§ + æ–¹æ³• 2. ç±»å›¾ä¹‹é—´çš„å…³ç³»1. æ³›åŒ–ï¼ˆGeneralizationï¼‰ï¼š å°±æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ç»§æ‰¿ï¼Œå¥”é©°ã€å®é©¬ã€å¥¥è¿ªéƒ½ç»§æ‰¿è‡ªæ±½è½¦ç±» è¡¨ç¤ºis-açš„å…³ç³»ï¼Œæ˜¯å¯¹è±¡ä¹‹é—´è€¦åˆåº¦æœ€å¤§çš„ä¸€ç§å…³ç³»ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰ç»†èŠ‚ï¼Œç›´æ¥ä½¿ç”¨è¯­è¨€ä¸­çš„ç»§æ‰¿è¡¨è¾¾ã€‚åœ¨ç±»å›¾ä¸­ä½¿ç”¨å¸¦ä¸‰è§’ç®­å¤´çš„å®çº¿è¡¨ç¤ºï¼Œç®­å¤´ä»å­ç±»æŒ‡å‘çˆ¶ç±»ã€‚ 2. å®ç°ï¼ˆinterface Realizationï¼‰ï¼šåœ†åœˆä»£è¡¨æ¥å£ ä¸€èˆ¬æ¥å£å®ç°çš„ç”»æ³•åŠè¡¨ç¤ºï¼šåœ¨ç±»å›¾ä¸­ä½¿ç”¨å¸¦ä¸‰è§’ç®­å¤´çš„è™šçº¿è¡¨ç¤ºï¼Œç®­å¤´ä»å®ç°ç±»æŒ‡å‘æ¥å£ã€‚ 3. ä¾èµ–ï¼ˆDependencyï¼‰ï¼š å¯¹è±¡ä¹‹é—´æœ€å¼±çš„ä¸€ç§å…³è”æ–¹å¼ï¼Œæ˜¯ä¸´æ—¶æ€§çš„å…³è”ï¼Œä»£ç ä¸­ä¸€èˆ¬æŒ‡ç”±å±€éƒ¨å˜é‡ã€å‡½æ•°å‚æ•°ã€è¿”å›å€¼å»ºç«‹çš„å¯¹äºå…¶ä»–å¯¹è±¡çš„è°ƒç”¨å…³ç³»ã€‚ ä¸€ä¸ªç±»è°ƒç”¨è¢«ä¾èµ–ç±»ä¸­çš„æŸäº›æ–¹æ³•è€Œå¾—ä»¥å®Œæˆè¿™ä¸ªç±»çš„ä¸€äº›èŒè´£ã€‚ åœ¨ç±»å›¾ä½¿ç”¨å¸¦ç®­å¤´çš„è™šçº¿è¡¨ç¤ºï¼Œç®­å¤´ä»ä½¿ç”¨ç±»æŒ‡å‘è¢«ä¾èµ–çš„ç±»ã€‚ StarUMLçš„ä½¿ç”¨åŒä¸‹å›¾ 4. å…³è”4.1 ä¸€èˆ¬å…³è”(Association) : å¯¹è±¡ä¹‹é—´ä¸€ç§å¼•ç”¨å…³ç³»ï¼Œæ¯”å¦‚å®¢æˆ·ç±»ä¸è®¢å•ç±»ä¹‹é—´çš„å…³ç³»ã€‚è¿™ç§å…³ç³»é€šå¸¸ä½¿ç”¨ç±»çš„å±æ€§è¡¨è¾¾ã€‚ åœ¨ç±»å›¾ä½¿ç”¨å¸¦ç®­å¤´çš„å®çº¿è¡¨ç¤ºï¼Œç®­å¤´ä»ä½¿ç”¨ç±»æŒ‡å‘è¢«å…³è”çš„ç±»ã€‚å¯ä»¥æ˜¯å•å‘å’ŒåŒå‘ã€‚ 4.2 èšåˆå…³è”(Aggregation) : è¡¨ç¤ºhas-açš„å…³ç³»ï¼Œæ˜¯ä¸€ç§ä¸ç¨³å®šçš„åŒ…å«å…³ç³»ã€‚ è¾ƒå¼ºäºä¸€èˆ¬å…³è”,æœ‰æ•´ä½“ä¸å±€éƒ¨çš„å…³ç³»,å¹¶ä¸”æ²¡æœ‰äº†æ•´ä½“,å±€éƒ¨ä¹Ÿå¯å•ç‹¬å­˜åœ¨ã€‚å¦‚å…¬å¸å’Œå‘˜å·¥çš„å…³ç³»ï¼Œå…¬å¸åŒ…å«å‘˜å·¥ï¼Œä½†å¦‚æœå…¬å¸å€’é—­ï¼Œå‘˜å·¥ä¾ç„¶å¯ä»¥æ¢å…¬å¸ã€‚ åœ¨ç±»å›¾ä½¿ç”¨ç©ºå¿ƒçš„è±å½¢è¡¨ç¤ºï¼Œè±å½¢ä»å±€éƒ¨æŒ‡å‘æ•´ä½“ã€‚ 4.3 ç»„åˆ(Composition) : è¡¨ç¤ºcontains-açš„å…³ç³»ï¼Œæ˜¯ä¸€ç§å¼ºçƒˆçš„åŒ…å«å…³ç³»ã€‚ ç»„åˆç±»è´Ÿè´£è¢«ç»„åˆç±»çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ˜¯ä¸€ç§æ›´å¼ºçš„èšåˆå…³ç³»ã€‚éƒ¨åˆ†ä¸èƒ½è„±ç¦»æ•´ä½“å­˜åœ¨ã€‚å¦‚å…¬å¸å’Œéƒ¨é—¨çš„å…³ç³»ï¼Œæ²¡æœ‰äº†å…¬å¸ï¼Œéƒ¨é—¨ä¹Ÿä¸èƒ½å­˜åœ¨äº†ï¼›è°ƒæŸ¥é—®å·ä¸­é—®é¢˜å’Œé€‰é¡¹çš„å…³ç³»ï¼›è®¢å•å’Œè®¢å•é€‰é¡¹çš„å…³ç³»ã€‚ åœ¨ç±»å›¾ä½¿ç”¨å®å¿ƒçš„è±å½¢è¡¨ç¤ºï¼Œè±å½¢ä»å±€éƒ¨æŒ‡å‘æ•´ä½“ã€‚ 5. å¤šé‡æ€§(Multiplicity) :é€šå¸¸åœ¨å…³è”ã€èšåˆã€ç»„åˆä¸­ä½¿ç”¨ã€‚å°±æ˜¯ä»£è¡¨æœ‰å¤šå°‘ä¸ªå…³è”å¯¹è±¡å­˜åœ¨ã€‚ä½¿ç”¨æ•°å­—..æ˜Ÿå·ï¼ˆæ•°å­—ï¼‰è¡¨ç¤ºã€‚ 2. ç”¨ä¾‹å›¾]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>UML</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¡¶çº§ç¨‹åºå‘˜çš„10æ¡æœ€ä½³å®è·µ]]></title>
    <url>%2F%E9%A1%B6%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%8410%E6%9D%A1%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©çœ‹åˆ°äº†å…¬ä¼—å·æ¨èçš„æ–‡ç« ï¼Œå†™çš„ç›¸å½“çš„æ£’ï¼Œæ‰€æœ‰è¿æ ‡é¢˜éƒ½æ²¡æœ‰ä¿®æ”¹ï¼Œç›´æ¥å°±æ¬äº†è¿‡æ¥ï¼Œä¾›è‡ªå·±å‹‰åŠ±ã€‚ æ¥æºï¼šhttps://mp.weixin.qq.com/s/LtgV6YNlgtPdRx788plbgg 1. æ…é‡é€‰æ‹©ç¬¬ 1 é—¨è¯­è¨€ç¼–ç¨‹è¯­è¨€å„æœ‰ä¸åŒï¼Œä¸è¿‡åŒºåˆ«ä¸å¤§ã€‚ ä½†ç”¨è¯­è¨€çš„äººåŒºåˆ«å°±å¤§äº†ã€‚é€‰æ‹©äº†ä¸€é—¨è¯­è¨€ä½ å°±é€‰æ‹©äº†ä¸€ä¸ªç¾¤è½ã€‚ â€“ Sam Kaufmanï¼Œè‡ªç”±èŒä¸šè€…ï¼ŒiOS å¼€å‘è€…ï¼Œ10x management å¦‚æœä½ æƒ³å¿«é€Ÿå»ºç«‹åŸå‹ï¼ˆå°¤å…¶å¯¹äºå¸Œæœ›å¯¹äº§å“è¿›è¡Œè¿­ä»£å‡çº§çš„åˆ›å§‹äººæ¥è¯´ï¼‰ï¼Œé‚£å°±ç”¨ Ruby æˆ–è€… Javascript â€“ Erin Parkerï¼ŒSpitfire Athlete åˆ›å§‹äººå…¼é¦–å¸­å¼€å‘è€… 2. ä½ ä¸æ˜¯ç¨‹åºçŒ¿ï¼ä¼Ÿå¤§çš„å¼€å‘è€…èƒ½å¤Ÿå»ºæ„å¹¶å¼€å‘åº”ç”¨ã€‚ æƒŠè‰³çš„å¼€å‘è€…èƒ½å¤Ÿåœ¨å…³æ³¨ä¸šåŠ¡çš„åŒæ—¶åšè¿™ä»¶äº‹ã€‚ ä¸šåŠ¡ç«¯çš„äººå¤§éƒ½ä¸æ‡‚ç¼–ç ï¼Œä½†æ˜¯è‚¯å®šèƒ½å¤Ÿç†è§£ç‰¹å®šåŠŸèƒ½èƒŒåçš„åŠ¨æœºã€‚ åˆ«äººè¯´ä»€ä¹ˆå¼€å‘è€…å°±åšä»€ä¹ˆï¼Œæ²¡æœ‰å»ç†è§£ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Œå¯¼è‡´åŒæ–¹å‡é”™å¤±äº†æœºä¼šï¼Œè¿™æ ·çš„äº‹æƒ…å¤ªå¸¸è§äº†ã€‚ â€“ John Coggeshallï¼Œè‡ªç”±èŒä¸šè€…ï¼Œweb å¼€å‘è€…ï¼Œ10x Managementï¼ŒPHP æ ¸å¿ƒè´¡çŒ®è€… ç²¾é€šç¼–ç¨‹æ˜¯ä¸€ä¸ªå´‡é«˜çš„èŒä¸šç›®æ ‡ã€‚ä¸€æ—¦å®ç°äº†è¿™ä¸ªç›®æ ‡ï¼Œåˆ«å¿˜äº†è€ƒè™‘ä¸€ä¸‹ä½ è‡ªå·±ã€‚ä¸è¦æˆä¸ºä»»ä½•å…¬å¸çš„å¥´éš¶æˆ–è€…åœ¨æ¯«æ— ä»·å€¼çš„ä¸œè¥¿ä¸Šæµªè´¹ä½ çš„æ—¶é—´ã€‚ â€” Greg Sadetskyï¼Œ Python åŠ Javascript ä¸“å®¶ï¼Œ10x Managemenï¼›ååŒåŠå…¬ç©ºé—´ Abri.co åˆ›å§‹äºº è¦æƒ³æŒ‰æœŸå®Œæˆï¼Œå¾—åœ¨å¼€å§‹æŠ€æœ¯å·¥ä½œä¹‹å‰äº‹å…ˆè¿›è¡Œé¡¹ç›®æ²Ÿé€šï¼ˆå“ªæ€•è¿™å¹¶éå…ˆå†³æ¡ä»¶ï¼‰ï¼Œå› ä¸ºå…¶ä»–äººçš„å“åº”é€Ÿåº¦åƒå˜ä¸‡åŒ–ã€‚ â€“ Andrew Wilcox ï¼Œweb åº”ç”¨å¼€å‘è€…ï¼ŒMeteor æ ¸å¿ƒè´¡çŒ®è€…ï¼Œ10x Management 3. ä¿æŒæ•æ·ï¼Œä¸æ–­äº¤ä»˜æ—©å‘å¸ƒï¼Œä¸æ–­å‘å¸ƒï¼Œè¾¹è¯´å”±è¾¹å‘å¸ƒã€‚ â€“ Max Nanis ï¼Œè‡ªç”±èŒä¸šè€…ï¼Œweb å¼€å‘è€…ï¼Œç”Ÿç‰©ä¿¡æ¯å­¦ä¸“å®¶ï¼Œ10x Management ä¸æ–­æµ‹è¯•ã€‚å¥½çš„æµ‹è¯•åŒ…å¦‚ä¿å•å’Œç…¤çŸ¿é‡Œçš„é‡‘ä¸é›€ä¹‹ç»“åˆã€‚å®ƒèƒ½å¸®åŠ©ä½ åœ¨ç”Ÿäº§å‘¨æœŸä¸­æ›´æ—©åœ°æ‰¾å‡ºé”™è¯¯ï¼Œè€Œé”™è¯¯è¶Šæ—©å‘ç°è¶Šå®¹æ˜“è§£å†³ã€‚ â€“ Jeremy Greenï¼Œè‡ªç”±èŒä¸šè€…ï¼Œweb å¼€å‘è€…ï¼Œä¸“é•¿ Ruby on Railsï¼Œ10x Management å¿«é€Ÿå¤±è´¥ã€‚ç¼–ç ï¼ˆåŠç”Ÿæ´»ï¼‰æ—¶æˆ‘å¸Œæœ›å°½æ—©çŸ¥é“ä»€ä¹ˆåœ°æ–¹ä¸èƒ½å·¥ä½œï¼Œè€Œä¸æ˜¯æ”¾ä»»ä¸ç®¡è®©å®ƒå¢æ®–æ‰©æ•£ã€‚å…¨é¢æ”¾å¼€ï¼Œå¿«é€Ÿå¤±è´¥ï¼Œä¿®è¡¥ç¼ºé™·ï¼Œä¸æ–­ç»§ç»­ã€‚ â€“ Stephanie Volftsunï¼ŒKnotch è”åˆåˆ›å§‹äººå…¼ CTO ä¸ºæ‰€æœ‰ä»£ç ç¼–å†™è‡ªåŠ¨æµ‹è¯•ï¼å°½å¯èƒ½è·µè¡Œæµ‹è¯•é©±åŠ¨çš„å¼€å‘ã€‚ â€“ Zoran Kacic-Alesicï¼ŒIndustrial Light &amp; Magic ç ”å‘ä¸»ç®¡ 4. ä¿æŒå¯¹æµ‹è¯•æµç¨‹çš„æ§åˆ¶è®¸å¤šé¡¹ç›®æ·±å—å¤šæµ‹è¯•å‘¨æœŸä¹‹è‹¦ã€‚è¿™ä¼šæ‹–ç´¯é¡¹ç›®ï¼Œå¯¼è‡´ç»„ç»‡æ•´ä½“å‡ºç°é«˜çº§åˆ«çš„é—®é¢˜ã€‚ ç¨‹åºå‘˜åº”è¯¥ä¸“æ³¨äºå¯¹è‡ªå·±çš„ä»£ç è¿›è¡Œå•å…ƒæµ‹è¯•åŠåŠå›å½’æµ‹è¯•ã€‚ ä»–ä»¬æ¯”å…¶ä»–ä»»ä½•äººæ›´äº†è§£ä»£ç åº“ï¼Œä¹ŸçŸ¥é“è‡ªå·±ä¼šå½±å“åˆ°å“ªäº›å˜æ›´ã€‚æœ‰æ—¶æ­¤ç±»å˜æ›´ä¼šç”±äº QA æµ‹è¯•èŒƒå›´æœ‰é™è€Œç¼ºå¤±ï¼Œå› æ­¤å¯¼è‡´ç”Ÿäº§ç¯èŠ‚å‡ºç°é‡å¤§é—®é¢˜ã€‚ â€“ Sanjib Sahooï¼ŒtradeMONSTER CTO è¦æƒ³åœ¨åŠ›æ‰€èƒ½åŠçš„æƒ…å†µä¸‹å°½å¿«å¼€å‘å‡ºæ— ç¼ºé™·ä»£ç ï¼Œæ°¸è¿œæ°¸è¿œä¹Ÿä¸è¦æŠŠå†™æµ‹è¯•æ”¾åˆ°åé¢ã€‚æˆ‘ä»¬æ›´æ¸…æ¥šè¿™ä¸€ç‚¹ã€‚è¦æ£€æŸ¥ä¸€ä¸‹æµ‹è¯•çš„è¦†ç›–ç‡ï¼Œç¡®ä¿ 100% æ— æ­»è§’ã€‚ â€“ Seth Purcellï¼ŒSignpost å·¥ç¨‹å‰¯æ€»è£ 5. å¦‚æœä½ æ˜¯è‡ªç”±èŒä¸šè€…ï¼Œè¦å­¦ä¼šè¯´ä¸ï¼Œå“ªæ€•é¢å¯¹çš„æ˜¯é‡‘é’±è¦å¯¹æ—¶é—´å’Œæˆæœ¬æœ‰ä¸€ä¸ªåˆç†çš„è¯„ä¼°ï¼Œç„¶åæŠŠå®ƒåŠ å€ã€‚å¦‚æœå¤§å®¶éƒ½è¯´ â€œè¿™åº”è¯¥å¾ˆç®€å•ï¼Œâ€ é‚£å°±åš â€“ Ryan Waggoner ï¼Œè‡ªç”±èŒä¸šè€…ï¼Œweb åŠç§»åŠ¨åº”ç”¨å¼€å‘è€…ï¼Œ10x Management 6. è£èª‰å±äºè¿‡å»ï¼Œç†è®ºæ˜¯ä¸€å›äº‹ï¼Œä½†å®è·µæ›´é‡è¦æ”¹è¿›è½¯ä»¶å¼€å‘è´¨é‡çš„æœ€å¥½æ–¹å¼å°±æ˜¯å»å¼€å‘è½¯ä»¶ã€‚ è®¸å¤šé›„å¿ƒå‹ƒå‹ƒçš„åˆšå…¥é—¨çš„å·¥ç¨‹å¸ˆèŠ±äº†å¾ˆå¤šçš„ä¸šåŠ¡æ—¶é—´å»è¯»ä¹¦ï¼Œå…³äºæœ€æ–°å·¥å…·çš„ã€å…³äºå¼€æ”¾æµç¨‹çš„ï¼Œè¯¸å¦‚æ­¤ç±»çš„ä¸œè¥¿ã€‚å¾ˆå¤šäººéƒ½æ˜¯è¿™ä¹ˆæ¶ˆç£¨è‡ªå·±çš„é—²æš‡æ—¶é—´çš„ï¼Œä½†è¿™æ ·å¾ˆå®¹æ˜“å°±æŠŠä½ ç»™è€½æäº†ã€‚ åˆ«è¿™æ ·ï¼Œé€šè¿‡å°½å¯èƒ½ç”¨è„‘æ¥å¼ºåŒ–å¤§è„‘è´Ÿè´£å¼€å‘è½¯ä»¶çš„é‚£éƒ¨åˆ†ã€‚ â€“James Cropchoï¼ŒGeneral Assembly çš„ Ruby on Rails ä¸“å®¶åŠè®²å¸ˆ ä¸æ–­æ¢ç´¢ã€‚ æˆ‘è§è¿‡çš„è®¸å¤šç¼–ç è€…æ‰‹ä¸Šéƒ½æœ‰å‡ ä¸ªåœ¨è¿›è¡Œçš„ä¸šåŠ¡é¡¹ç›®ã€‚åšä¸šåŠ¡é¡¹ç›®è¿«ä½¿ä½ è¦æ¢ç´¢æ–°æŠ€æœ¯ç„¶åå­¦ä¹ åˆ›å»ºåº”ç”¨çš„æ–¹æ–¹é¢é¢ã€‚ ä½ å¯èƒ½éœ€è¦åšå‰ç«¯çš„ HTML/CSSï¼Œåç«¯çš„ API é›†æˆï¼Œæ•°æ®åº“ä¼˜åŒ–ï¼Œåšç§»åŠ¨ appï¼Œè¿˜å¾—è®¾ç½®è‡ªå·±çš„æœåŠ¡å™¨ã€‚ â€“ Andrew Waageï¼ŒRetention Science CTO åŠè”åˆåˆ›å§‹äºº 7. ç»“å¯¹è¯„å®¡æ˜¯ä½ çš„ç§˜å¯†æ­¦å™¨ç»“å¯¹ç¼–ç¨‹éå¸¸å¿…è¦ã€‚ ä¸¤ä¸ªç¨‹åºå‘˜è”åˆå¼€å‘åŒä¸€ä¸ªæ¨¡å—å¯ä»¥ç›¸äº’å®¡æŸ¥å¯¹æ–¹çš„ä»£ç ã€‚å¼€å‘å›¢é˜Ÿæ¯å‘¨ä¹Ÿè¦å¬å¼€ä»£ç å®¡æŸ¥ä¼šè®®ï¼Œè®©æ¯ä¸€ä¸ªå¼€å‘è€…ç»™å…¶ä»–äººçš„ä»£ç æä¾›åé¦ˆæ„è§ï¼Œè§£é‡Šå¦‚ä½•æ›´å¥½åœ°æ”¹è¿›ä»£ç ã€‚ è¿™èƒ½å¤Ÿå½¢æˆä¸€ç§åä½œæ–‡åŒ–ï¼ŒæŠŠå¼€å‘è€…çš„è‡ªè´ŸæŠ›å¼€ï¼ â€“ Sanjib Sahoo 8. åƒèº²ç˜Ÿç–«ä¸€æ ·é¿å…è¿‡æ—©ä¼˜åŒ–åªæœ‰åœ¨é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆéƒ½å‡ºç°åœ¨ä½ é¢å‰æ—¶æ‰è¿›è¡Œé‡æ„ï¼ è¿‡æ—©é‡æ„æ˜¯æ—¶é—´ä¸Šçš„å·¨å¤§æµªè´¹ã€‚ä¸è¦æŠ•å…¥åŠå¹´åå¯èƒ½è¢«æ‰”æ‰çš„ä»»ä½•ä¸œè¥¿çš„å®Œå–„ä¸Šã€‚ è¿‡æ—©ä¼˜åŒ–æ˜¯ç½ªæ¶ä¹‹æºã€‚ â€“Seth Purcell ä¸è¦è¿‡æ—©ä¼˜åŒ–ï¼ æˆ‘ä¸æ–­çœ‹åˆ°å·¥ç¨‹å¸ˆåœ¨ç”¨æˆ·è¿˜æ²¡æœ‰åˆ° 1000 çš„æ—¶å€™ä¸€å†å¯¹æ‰©å……åˆ° 100 ä¸‡çš„ç”¨æˆ·è§„æ¨¡æ‹…å¿ƒã€‚ â€“ Mariya Yaoï¼ŒXanadu Mobile åˆ›å§‹äººå…¼åˆ›æ„æ€»ç›‘ï¼Œç§»åŠ¨å¼€å‘è€…åŠè®¾è®¡å¸ˆ 9. ä½ çš„ä»£ç åªå†™ä¸€æ¬¡ï¼Œå¯åˆ«äººä¼šè¯»å®ƒåƒä¸‡éä½ å†™çš„ä»£ç æœºå™¨ä¼šè§£ææ‰§è¡Œï¼Œå¯å…¶ä»–äººå´éœ€è¦è¯»ä½ çš„ä»£ç ï¼Œç†è§£å®ƒï¼Œæ‘†å¼„å®ƒã€‚ ä½ å¿…é¡»æ˜ç™½ï¼Œä½ çš„ä»£ç ä¼šæœ‰æœªæ¥çš„è§‚ä¼—ã€‚ ä»£ç ä¹Ÿæ˜¯ä¸€ç§ä¹¦å†™å½¢å¼çš„æ²Ÿé€šã€‚ â€“ Tracy Chouï¼ŒPinterest è½¯ä»¶å·¥ç¨‹å¸ˆ å¬èµ·æ¥å¾ˆå¥‡æ€ªï¼Œä½†æ˜¯ä½ æ°¸è¿œéƒ½å¾—æ›¿è‡ªå·±çš„æœªæ¥ç€æƒ³ã€‚é—®é—®è‡ªå·±ï¼šå¦‚æœä½ æœ‰å¥å¿˜ç—‡çš„è¯ï¼Œä½ è¿˜èƒ½ä¸èƒ½ç†è§£è‡ªå·±å†™è¿‡çš„ä»£ç ï¼Ÿ â€“ Wai Ching Jessica Lamï¼ŒSugarbox è”åˆåˆ›å§‹äººå…¼ CTO é€šè¯»ä½ çš„æ–‡æ¡£ã€‚ è®¾è®¡æ”¹åŠ¨å¾ˆå¤šï¼Œæœ‰æ—¶å€™ä»£ç æ›´æ–°çš„æ—¶å€™æ³¨é‡Šä¸ä¸€å®šä¼šè·Ÿè¿›ã€‚ä¿æŒæ–‡æ¡£çš„æ›´æ–°ï¼Œæœªæ¥çš„äººï¼ˆåŒ…æ‹¬ä½ è‡ªå·±ï¼‰ç†è§£èµ·æ¥å°±æ›´å®¹æ˜“ã€‚ æˆ‘è¯´ä¸æ¸…æœ‰å¤šå°‘æ¬¡æˆ‘çœ‹å›è‡ªå·±ä»£ç æ—¶æ€»åœ¨æƒ³ï¼šâ€œæˆ‘åˆ°åº•åœ¨å¹²ä»€ä¹ˆï¼Ÿâ€ åªè¦æˆ‘å†™å‡ºäº†å¥½çš„æ³¨é‡Šï¼Œæœªæ¥å¤´ç–¼å°±å°‘å¾ˆå¤šã€‚ â€“ Kitt Vanderwaterï¼ŒGoogle è½¯ä»¶å·¥ç¨‹å¸ˆ 10. è¿™æ˜¯ä¸€ä¸ªå´‡é«˜çš„èŒä¸šï¼ŒæŠŠä½ çš„æŠ€èƒ½ç”¨åˆ°å¥½çš„åœ°æ–¹ã€‚å¸®åŠ©ä»–äººæ˜¯æ·±å±‚æ¬¡çš„äººç±»éœ€æ±‚ã€‚æƒ³åŠæ³•ç”¨ä½ çš„å·¥ä½œæ¥æ”¹å–„äººç±»ï¼Œä½ å°±ä¼šæœ‰æˆåŠŸçš„æŠŠæ¡ã€‚]]></content>
      <categories>
        <category>æŠ€å·§</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scrapyçˆ¬è™«æ¡†æ¶ä½¿ç”¨]]></title>
    <url>%2FScrapy%E7%88%AC%E8%99%AB%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Scrapyæ¡†æ¶ä½¿ç”¨æŒ‡å—ï¼šhttp://scrapy-chs.readthedocs.io/zh_CN/1.0/intro/overview.htmlScrapyé›¶åŸºç¡€ä½¿ç”¨ï¼šhttp://www.jb51.net/article/57183.htm é—®ï¼šæŠŠç½‘ç«™è£…è¿›çˆ¬è™«éœ€è¦å‡ æ­¥ï¼Ÿç­”ï¼šå››æ­¥ã€‚ 1. æ–°å»ºé¡¹ç›®2. æ˜ç¡®ç›®æ ‡3. åˆ¶ä½œçˆ¬è™«4. å­˜å‚¨å†…å®¹ æ³¨æ„ï¼š# coding=utf-8 ä½¿ç”¨Scrapyçˆ¬è™«æ¡†æ¶æ—¶åº”è¯¥æ·»åŠ æ­¤æ¡è¯­å¥è¡¨æ˜æ³¨é‡Šæ˜¯ä¸­æ–‡æ³¨é‡Š 1. æ–°å»ºé¡¹ç›®ä½¿ç”¨å‘½ä»¤æ–°å»ºä¸€ä¸ªscrapyé¡¹ç›® scrapy startproject projectName å»ºç«‹é¡¹ç›®çš„æ–‡ä»¶ç›®å½• scrapyproject â”œâ”€â”€ scrapy.cfg â””â”€â”€ scrapyproject â”œâ”€â”€ __init__.py â”œâ”€â”€ items.py â”œâ”€â”€ middlewares.py â”œâ”€â”€ pipelines.py â”œâ”€â”€ settings.py â””â”€â”€ spiders â””â”€â”€ __init__.py 2 directories, 7 files å„ä¸ªæ–‡ä»¶çš„ä½œç”¨ï¼š scrapy.cfg ï¼šé¡¹ç›®çš„é…ç½®æ–‡ä»¶ scrapyproject/ ï¼šé¡¹ç›®çš„Pythonæ¨¡å—ï¼Œå°†ä¼šä»è¿™é‡Œå¼•ç”¨ä»£ç  scrapyproject/items.py ï¼šé¡¹ç›®çš„itemsæ–‡ä»¶ scrapyproject/pipelines.py ï¼šé¡¹ç›®çš„pipelinesæ–‡ä»¶ scrapyproject/settings.py ï¼šé¡¹ç›®çš„è®¾ç½®æ–‡ä»¶ scrapyproject/spiders/ ï¼šå…·ä½“æ‰§è¡Œçˆ¬è™«çš„ç›®å½• 2. æ˜ç¡®ç›®æ ‡åœ¨Scrapyä¸­ï¼Œitemsæ˜¯ç”¨æ¥ç®¡ç†æŠ“å–å†…å®¹çš„å®¹å™¨ï¼Œæœ‰ç‚¹åƒPythonä¸­çš„Dictï¼Œä½†æ˜¯æä¾›äº†ä¸€äº›é¢å¤–çš„ä¿æŠ¤å‡å°‘é”™è¯¯ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œitemå¯ä»¥ç”¨scrapy.item.Itemç±»æ¥åˆ›å»ºï¼Œå¹¶ä¸”ç”¨scrapy.item.Fieldå¯¹è±¡æ¥å®šä¹‰å±æ€§ï¼ˆå¯ä»¥ç†è§£æˆç±»ä¼¼äºORMæ˜ å°„å…³ç³»ï¼Œç±»ä¼¼äºjava beanï¼‰ã€‚ ç¼–å†™Itemï¼šä¿®æ”¹scrapyprojectç›®å½•ä¸‹çš„items.py4æ–‡ä»¶ï¼Œåœ¨åŸæœ¬çš„classåé¢æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„classã€‚ import scrapy class PyScrapy1601Item(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() pass class DmozItem(scrapy.Item): node = scrapy.Field() 3. çˆ¬è™«å®ç°å…ˆçˆ¬åå– 3.1 çˆ¬è¦å»ºç«‹ä¸€ä¸ªSpiderï¼Œä½ å¿…é¡»ç”¨scrapy.spider.BaseSpideråˆ›å»ºä¸€ä¸ªå­ç±»ï¼Œå¹¶ç¡®å®šä¸‰ä¸ªå¼ºåˆ¶å±æ€§ï¼š name ï¼šçˆ¬è™«çš„è¯†åˆ«åç§°ï¼Œå¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚ start_urls ï¼šçˆ¬å–çš„URLåˆ—è¡¨ã€‚çˆ¬è™«ä»è¿™é‡Œå¼€å§‹æŠ“å–æ•°æ®ã€‚ parse() ï¼šè§£æçš„æ–¹æ³•ï¼Œè°ƒç”¨çš„æ—¶å€™ä¼ å…¥ä»æ¯ä¸€ä¸ªURLä¼ å›çš„Responseå¯¹è±¡ä½œä¸ºå”¯ä¸€å‚æ•°ï¼Œè´Ÿè´£è§£æå¹¶åŒ¹é…æŠ“å–çš„æ•°æ®(è§£æä¸ºitem)ã€‚ allow_domains ï¼šallow_domainsæ˜¯æœç´¢çš„åŸŸåèŒƒå›´ï¼Œä¹Ÿå°±æ˜¯çˆ¬è™«çš„çº¦æŸåŒºåŸŸï¼Œè§„å®šçˆ¬è™«åªçˆ¬å–è¿™ä¸ªåŸŸåä¸‹çš„ç½‘é¡µã€‚ä¸€ä¸ªæ¨¡æ¿ï¼š from scrapy.spider import Spider from scrapy.selector import Selector from py_scrapy_16_01.py_scrapy_16_01.items import DmozItem class DmozSpider(Spider): name = &quot;dmoz&quot; allowed_domains = [&quot;dmoztools.net&quot;] start_urls = [ &quot;http://dmoztools.net/Computers/Programming/Languages/Python/&quot;, ] def parse(self, response): sel = Selector(response) sites = sel.xpath(&apos;//div[@class=&quot;browse-node&quot;]/text()&apos;) items2 = [] for node in sites: item = DmozItem() item[&apos;href&apos;] = node.extract() items2.append(item) return items2 è¿›å…¥åˆ° /scrapyproject/scrapyprojectä¸‹ è¿è¡Œ scrapy crawl dmoz æ‰§è¡Œäº†è¿™æ¡å‘½ä»¤å‘ç”Ÿäº†å•¥ï¼Ÿé¦–å…ˆï¼ŒScrapyä¸ºçˆ¬è™«çš„ start_urls å±æ€§ä¸­çš„æ¯ä¸ªURLåˆ›å»ºäº†ä¸€ä¸ªscrapy.http.Request å¯¹è±¡ ï¼Œå¹¶å°†çˆ¬è™«çš„parse() æ–¹æ³•æŒ‡å®šä¸ºå›è°ƒå‡½æ•°ã€‚ç„¶åï¼Œè¿™äº› Request è¢«è°ƒåº¦å¹¶æ‰§è¡Œï¼Œä¹‹åé€šè¿‡parse()æ–¹æ³•è¿”å› scrapy.http.Response å¯¹è±¡ï¼Œå¹¶åé¦ˆç»™çˆ¬è™«ã€‚ 3.2 å–çˆ¬å–æ•´ä¸ªç½‘é¡µå®Œæ¯•ï¼Œæ¥ä¸‹æ¥çš„å°±æ˜¯çš„å–è¿‡ç¨‹äº†ã€‚åœ¨åŸºç¡€çš„çˆ¬è™«é‡Œï¼Œè¿™ä¸€æ­¥å¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æŠ“ã€‚åœ¨Scrapyé‡Œï¼Œä½¿ç”¨ä¸€ç§å«åš XPath selectorsçš„æœºåˆ¶ï¼Œå®ƒåŸºäº XPathè¡¨è¾¾å¼ã€‚ ä¾‹å­ï¼š/html/head/title : é€‰æ‹©HTMLæ–‡æ¡£å…ƒç´ ä¸‹é¢çš„&lt;title&gt;æ ‡ç­¾ã€‚/html/head/title/text() : é€‰æ‹©å‰é¢æåˆ°çš„&lt;title&gt; å…ƒç´ ä¸‹é¢çš„æ–‡æœ¬å†…å®¹//td: é€‰æ‹©æ‰€æœ‰ &lt;td&gt; å…ƒç´ //div[@class=â€mineâ€] : é€‰æ‹©æ‰€æœ‰åŒ…å« class=&quot;mine&quot; å±æ€§çš„divæ ‡ç­¾å…ƒç´  xpathè·¯å¾„è¡¨è¾¾å¼ï¼š è¡¨è¾¾å¼ æè¿° / ä»æ ¹èŠ‚ç‚¹é€‰å– // ä»åŒ¹é…é€‰æ‹©çš„å½“å‰èŠ‚ç‚¹é€‰æ‹©æ–‡æ¡£ä¸­çš„èŠ‚ç‚¹ï¼Œè€Œä¸è€ƒè™‘å®ƒä»¬çš„ä½ç½® . é€‰å–å½“å‰èŠ‚ç‚¹ .. é€‰å–å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ @ é€‰å–å±æ€§ æ›´å¤šä½¿ç”¨å‚è€ƒ W3C-XPath ï¼šhttp://www.w3school.com.cn/xpath/index.asp ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨XPathsï¼ŒScrapyæä¾›XPathSelector ç±»ï¼Œæœ‰2ç§å¯ä»¥é€‰æ‹©: HtmlXPathSelector (HTMLæ•°æ®è§£æ) XmlXPathSelector (XMLæ•°æ®è§£æ) å¿…é¡»é€šè¿‡ä¸€ä¸ª Response å¯¹è±¡å¯¹ä»–ä»¬è¿›è¡Œå®ä¾‹åŒ–æ“ä½œï¼Œå¦‚ï¼š sel = Selector(response) Selectorå¯¹è±¡å±•ç¤ºäº†æ–‡æ¡£çš„èŠ‚ç‚¹ç»“æ„ã€‚å› æ­¤ï¼Œç¬¬ä¸€ä¸ªå®ä¾‹åŒ–çš„selectorå¿…ä¸æ ¹èŠ‚ç‚¹æˆ–è€…æ˜¯æ•´ä¸ªç›®å½•æœ‰å…³ ã€‚åœ¨Scrapyé‡Œé¢ï¼ŒSelectors æœ‰4ç§åŸºç¡€çš„æ–¹æ³•ï¼š xpath() ï¼šè¿”å›ä¸€ç³»åˆ—çš„selectorsï¼Œæ¯ä¸€ä¸ªselectè¡¨ç¤ºä¸€ä¸ªxpathå‚æ•°è¡¨è¾¾å¼é€‰æ‹©çš„èŠ‚ç‚¹ã€‚ css() ï¼šè¿”å›ä¸€ç³»åˆ—çš„selectorsï¼Œæ¯ä¸€ä¸ªselectè¡¨ç¤ºä¸€ä¸ªcsså‚æ•°è¡¨è¾¾å¼é€‰æ‹©çš„èŠ‚ç‚¹ã€‚ extract() ï¼šè¿”å›ä¸€ä¸ªunicodeå­—ç¬¦ä¸²ï¼Œå³é€‰ä¸­çš„æ•°æ®ã€‚ re() ï¼šè¿”å›ä¸€ä¸²ä¸€ä¸ªunicodeå­—ç¬¦ä¸²ï¼Œå³ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŠ“å–å‡ºæ¥çš„å†…å®¹ã€‚ 3.3 xpath()æµ‹è¯•åœ¨ç»ˆç«¯è¾“å…¥ï¼š scrapy shell http://dmoztools.net/Computers/Programming/Languages/Python/ åœ¨æ²¡æœ‰æŠ¥é”™çš„æƒ…å†µä¸‹ï¼Œè¾“å…¥ response.headers å¾—åˆ°ï¼š åœ¨æ²¡æœ‰æŠ¥é”™çš„æƒ…å†µä¸‹ï¼Œè¾“å…¥ response.body å¾—åˆ°ï¼š 4. å­˜å‚¨å†…å®¹ä¿å­˜ä¿¡æ¯çš„æœ€ç®€å•çš„æ–¹æ³•æ˜¯é€šè¿‡Feed exportsï¼Œä¸»è¦æœ‰4ç§ï¼šJSONï¼ŒJSON linesï¼ŒCSVï¼ŒXMLã€‚æˆ‘ä»¬å°†ç»“æœç”¨æœ€å¸¸ç”¨çš„JSONå¯¼å‡ºï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š scrapy crawl dmoz -o items.json -t json å…¶ä¸­ï¼Œ-o åé¢æ˜¯å¯¼å‡ºæ–‡ä»¶åï¼Œ-t åé¢æ˜¯å¯¼å‡ºç±»å‹ã€‚ Pycharmä¸­è¿è¡Œçˆ¬è™«ç¨‹åºé”™è¯¯1. NameError: global name â€˜DmozItemâ€™ is not definedFile &quot;/Users/yannischeng/PycharmProjects/First_Python_Project/spiderone/spiderone/spiders/dmoe_spider.py&quot;, line 20, in parse item = DmozItem() NameError: global name &apos;DmozItem&apos; is not defined è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ç›¸å¯¹å¯¼å…¥ from ..items import DmozItem ç¬¬ä¸€ä¸ªç‚¹(.) è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œç¬¬äºŒä¸ªç‚¹è¡¨ç¤ºä¸Šä¸€çº§çˆ¶ç›®å½•ã€‚è¿™æ ·åšè¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„å¥½å¤„å°±æ˜¯ä½ å¯ä»¥éšæ„ä¿®æ”¹ä½ çš„åŒ…çš„åç§°ï¼Œæ¾è€¦åˆã€‚ 2. Scrapyçˆ¬å–ä¸­æ–‡ï¼Œæ˜¾ç¤ºasciiç ï¼Œå¦‚ä½•è½¬å˜æˆutf-8æ­£å¸¸ç¼–ç ï¼Ÿ å‚è€ƒï¼šhttp://www.jianshu.com/p/c03d968ef68b å°†çˆ¬å–åˆ°çš„ä¸­æ–‡ä¿¡æ¯å­˜å‚¨ä¸ºjsonæ ¼å¼çš„æ–‡ä»¶æ—¶ï¼Œæ–‡å­—æ˜¾ç¤ºå°±ä¼šå‡ºç°é—®é¢˜ï¼Œå­˜å‚¨ä¸ºxmlæ—¶å°±ä¸ä¼šæœ‰é—®é¢˜ã€‚æœ¬è¦æ±‚åº”è¯¥æ˜¾ç¤ºçš„æ˜¯ï¼šæ‘˜è¦ï¼Œè€Œå®é™…æ˜¾ç¤ºçš„å†…å®¹ä¸ºï¼š\&quot;\u6458\u8981 è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨jsonåŒ…ä¸­çš„json.dumps(dictname,ensure_ascii=False)å…·ä½“æ¡ˆä¾‹ä½¿ç”¨ï¼š item[&apos;node&apos;] = json.dumps(node.extract(), ensure_ascii=False) print(item[&apos;node&apos;]) æ‘˜è¦: æŠŠç³»ç»Ÿæ¢åˆ°äº†fedora,è®°å½•å‡ ä¸ªç›¸å…³çš„é…ç½® 3. scrapy` çš„ parse() return å€¼å¿…é¡»æ˜¯Request, BaseItem, dict or Noneï¼Œå¦‚æœè¿”å›stræŠ¥é”™[scrapy.core.scraper] ERROR: Spider must return Request, BaseItem, dict or None, got &apos;str&apos; in &lt;GET http://www.cnblogs.com/aLittleBitCool/&gt; 4. scrapyçˆ¬è™«å¾—åˆ°çš„jsonæ–‡ä»¶æ˜¯asciiç é—®é¢˜ å‚è€ƒï¼šhttp://bbs.fishc.com/thread-85672-1-1.html import json #è®°å¾—æ·»åŠ è¿™ä¸¤ä¸ªåº“ import codecs class XXXPipeline(object): #XXXå°±æ˜¯ä½ å»ºç«‹scrapyå·¥ç¨‹çš„åç§° def __init__(self): #æ·»åŠ ä¸€ä¸‹åˆå§‹åŒ–æ–¹æ³• self.file = codecs.open(&apos;item.json&apos;, &apos;wb&apos;, encoding=&apos;utf-8&apos;) #item.jsonæŒ‡çš„æ˜¯ä½ è¦ä¿å­˜çš„jsonæ ¼å¼æ–‡ä»¶çš„åç§°ï¼Œç¼–ç æ ¼å¼ä¸€èˆ¬éƒ½æ˜¯&apos;utf-8&apos; def process_item(self, item, spider): line = json.dumps(dict(item),ensure_ascii=False) + &apos;\n&apos; #è¿™ä¸€å¥ä¼šå°†ä½ æ¯æ¬¡è¿”å›çš„å­—å…¸æŠ“å–å‡ºæ¥,â€œensure_ascii=Falseâ€è¿™ä¸€å¥è¯å¾ˆé‡è¦ï¼Œå¦‚æœæ˜¯Trueçš„è¯å°±æ˜¯æˆ‘ä»¬ä¿å­˜çš„\u4e2d\u56fdè¿™ç§æ ¼å¼äº† self.file.write(line) #å†™å…¥åˆ°æ–‡ä»¶ä¸­ return item å°†ä»¥ä¸Šå†…å®¹æ’å…¥pipelines.py,åŒæ—¶åœ¨settings.pyä¸­åŠ å…¥ ITEM_PIPELINES = { &apos;panda.pipelines.PandaPipeline&apos;: 300 }]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¥è‡ªä»–äººçš„ç¼–ç¨‹æŠ€å·§æ€»ç»“]]></title>
    <url>%2F%E6%9D%A5%E8%87%AA%E4%BB%96%E4%BA%BA%E7%9A%84%E7%BC%96%E7%A8%8B%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[å‡½æ•°ä¸è¦è¶…è¿‡ 50 è¡Œã€‚ ä¸è¦ä¸€æ¬¡æ€§å†™å¤ªå¤šæ¥ä¸åŠæµ‹çš„ä»£ç ï¼Œè€Œæ˜¯è¦å†™ä¸€æ®µè°ƒè¯•ä¸€æ®µã€‚ UT å’Œç¼–ç è¦åŒæ­¥åšã€‚ å¤šå†™æ³¨é‡Šæ–¹ä¾¿çš„å¾€å¾€æ˜¯è‡ªå·±ã€‚ ç¢°åˆ°ä¸€å †é—®é¢˜æ—¶ï¼Œä¸€æ¬¡åªå°è¯•è§£å†³ä¸€ä¸ªé—®é¢˜ã€‚ æ²¡æŠŠæ¡ä¸€çœ¼çœ‹å‡ºé—®é¢˜ç—‡ç»“çš„æ—¶å€™ï¼Œè€è€å®å®å•æ­¥è°ƒè¯•ã€‚ è®¾è®¡æ¨¡å¼æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œä½†ä¸è¦å¼ºè¡Œä½¿ç”¨ã€‚ æ²¡é€ æˆå¯è§‚çš„æŸå¤±å‰ä¸è¦å°è¯•åšæ€§èƒ½ä¼˜åŒ–ã€‚ æ²¡äº‹åˆ«é‡å¤é€ è½®å­ã€‚ å¤§å¤šæ•°æƒ…å†µä¸‹ Boss ä¸å…³å¿ƒæŠ€æœ¯å«é‡ï¼Œè€Œä¸”å¾€å¾€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ›´å¿«æ›´æœ‰æ•ˆæœã€‚ ä¸è¦å®³æ€•æ¥è§¦æ–°çŸ¥è¯†ï¼Œå› ä¸ºå®³æ€•ä¹Ÿæ²¡ç”¨ï¼Œä¸ç®¡ä½ æ„¿æ„ä¸æ„¿æ„ï¼Œä½ ç°åœ¨ä¼šçš„ä¸œè¥¿ 5 å¹´åå°±ä¼šè¿‡æ—¶ã€‚ é‡æ„æ˜¯ç¨‹åºå‘˜çš„ä¸»åŠ›æŠ€èƒ½ã€‚ å·¥ä½œæ—¥å¿—èƒ½æå‡è„‘å®¹é‡ã€‚ å…ˆç”¨ profiler è°ƒæŸ¥ï¼Œæ‰æœ‰è„¸è°ˆä¼˜åŒ–ã€‚ æ¼«å±±éé‡çš„æ³¨é‡Šå®é™…èƒŒæ™¯å™ªéŸ³ã€‚ æ™®é€šç¨‹åºå‘˜ + google = è¶…çº§ç¨‹åºå‘˜ã€‚ å†™å•å…ƒæµ‹è¯•æ€»æ˜¯åˆç®—çš„ã€‚ ä¸è¦å…ˆå†™æ¡†æ¶å†å†™å®ç°ã€‚æœ€å¥½åè¿‡æ¥ï¼Œä»åŸå‹ä¸­æç‚¼æ¡†æ¶ã€‚ ä»£ç ç»“æ„æ¸…æ™°ï¼Œå…¶å®ƒé—®é¢˜éƒ½ä¸ç®—äº‹å„¿ã€‚ ç®¡ç†è¡Œä¸è¡Œï¼Œå°±çœ‹å·¥ä½œæµã€‚ ç¼–ç ä¸è¦ç•æƒ§å˜åŒ–ï¼Œè¦æ‹¥æŠ±å˜åŒ–ã€‚ å¸¸å……ç”µã€‚ç¨‹åºå‘˜åªæœ‰ä¸€ç§æ­»æ³•ï¼šåœŸæ­»çš„ã€‚ ç›¸ä¿¡ä½ çš„åŒäº‹çš„èƒ½åŠ›ï¼Œä½ ä¸èƒ½è§£å†³çš„é—®é¢˜ï¼Œä»–ä»¬è¯´ä¸èƒ½å°±èƒ½ç¥å¥‡çš„è§£å†³ ä¸è¦ç›¸ä¿¡çš„ä½ çš„åŒäº‹ï¼Œä»–ä»¬èƒ½ç¥å¥‡åœ°è§£å†³çš„æ–¹å¼ï¼Œå¾€å¾€éƒ½æ˜¯æ–°é—®é¢˜çš„åŸå›  ç›¸ä¿¡ä½ çš„åŒäº‹ï¼Œä»–èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ä¸èƒ½ç›¸ä¿¡ä½ çš„åŒäº‹ï¼Œä»–æŠŠé—®é¢˜å˜å¾—æ›´ç³Ÿç³•äº†ã€‚ ä½†æ˜¯ä½ è¿˜æ˜¯å¿…é¡»ç›¸ä¿¡ä½ çš„åŒäº‹ï¼Œå› ä¸ºæœ‰ä»–åœ¨ï¼Œè¿™äº›é—®é¢˜è¿˜æ˜¯å¯ä»¥è§£å†³çš„ ä¸èƒ½ç›¸ä¿¡ä½ çš„åŒäº‹ï¼Œå½“é—®é¢˜æ— æ³•è§£å†³çš„æ—¶å€™ï¼Œä»–å¯èƒ½å°±è¾èŒä¸å¹²äº†ã€‚ è¦ç›¸ä¿¡è‡ªå·±ï¼Œä¸€å®šå¯ä»¥è§£å†³åŒäº‹æˆ–è€…å‰ä»»é—ç•™ä¸‹æ¥çš„ä»»ä½•é—®é¢˜ã€‚ è¦ç›¸ä¿¡æ–°è¿›æ¥äº†å‘˜å·¥ï¼Œå¦‚æœæœ‰ä»»ä½•è‡ªå·±æ— æ³•è§£å†³çš„æŠ€æœ¯é—®é¢˜ï¼Œç›¸ä¿¡æ–°å‘˜å·¥å¯ä»¥ç”¨éå¸¸ç¥å¥‡çš„æ–¹æ³•è§£å†³ ç¼–ç¨‹ä¹‹äº‹ï¼Œéš”ç¦»æ˜¯æ–¹å‘ï¼Œèµ·åæ˜¯å…³é”®ï¼Œæµ‹è¯•æ˜¯ä¸»è§’ï¼Œè°ƒè¯•æ˜¯è¡¥å……ï¼Œç‰ˆæœ¬æ§åˆ¶æ˜¯åæ‚”è¯ã€‚ ä¸€è¡Œä»£ç ä¸€ä¸ªå…µã€‚å½¢æˆå»ºåˆ¶æ‰èƒ½æœ‰æˆ˜æ–—åŠ›ã€‚å•ä½è§„æ¨¡ä¸å®œè¿‡å¤§ï¼Œåƒäººç­ï¼Œä¸‡äººæ’æ˜“æˆä¸‡äººå‘ã€‚ é‡æ„ / ä¼˜åŒ– / ä¿®å¤ Bugï¼ŒåŒæ—¶åªèƒ½ä½œä¸€ä»¶ã€‚ ç®€å•æ¨¡å—æ³¨æ„å°è£…ï¼Œå¤æ‚æ¨¡å—æ³¨æ„åˆ†å±‚ã€‚ äººè„‘æ€§èƒ½æœ‰é™ï¼Œæ•´æ´èƒœäºæ‚ä¹±ã€‚è¯»ä¸æ‡‚çš„ä»£ç ï¼Œå°è¯•æ•´ç†ä¸‹æ ¼å¼; ä¸å¥½ç”¨çš„æ¥å£ï¼Œå°è¯•é‡æ–°å°è£…ä¸‹ã€‚ è¿­ä»£é€Ÿåº¦å†³å®šå·¥ä½œå¼ºåº¦ã€‚æƒ³å¤šå¿«å¥½çœï¼Œå°±ä»ç®€åŒ–å¼€å‘æµç¨‹ï¼ŒåŠ å¿«è¿­ä»£é€Ÿåº¦å¼€å§‹ã€‚ å¿˜æ‰ä¼˜åŒ–å†™ä»£ç ã€‚è¿‡æ—©ä¼˜åŒ–ç­‰åŒæ¶æ„ç ´åï¼›å¿˜æ‰ä»£ç ä½œä¼˜åŒ–ã€‚ä¼˜åŒ–è¦åŸºäºæ€§èƒ½æµ‹è¯•ï¼Œè€Œä¸æ˜¯çº ç»“äºå­—é‡Œè¡Œé—´ã€‚ æœ€å¥½çš„å·¥å…·æ˜¯çº¸ç¬”; å…¶æ¬¡å¥½çš„æ˜¯ markdownã€‚ leader é—®ä»»åŠ¡æ—¶é—´ï¼Œè‹¥ç­”ä¸ä¸Šæ¥ï¼Œå¯èƒ½æ˜¯ä»»åŠ¡æ‹†åˆ†è¿˜ä¸å¤Ÿç»†ã€‚ å®å¯å¤šç®—ä¸€å‘¨ï¼Œä¸å¯å°‘ä¼°ä¸€å¤©ã€‚è¿‡äº â€œä¹è§‚â€ å®¹æ˜“è®© boss å—æƒŠå“ã€‚ æœ€æœ‰ç”¨çš„è¯­è¨€æ˜¯ Englishã€‚å…¶æ¬¡çš„å¯èƒ½æ˜¯ Pythonã€‚ ç™¾é—»ä¸å¦‚ä¸€è§ã€‚ç”»å‡ºç»“æœï¼Œä¸€ç›®äº†ç„¶ã€‚è°ƒè¯•è€—æ—¶å°†å¤§å¤§ç¼©çŸ­ã€‚ èµ„æºã€ä»£ç åº”ä¸€é“å—ç‰ˆæœ¬ç®¡ç†ã€‚èµ„æºåŒ¹é…é”™è¯¯è¿œæ¯”ä»£ç åŒ¹é…é”™è¯¯æ›´éš¾æ’æŸ¥ã€‚ ä¸è¦åŸºäºæƒ³è±¡å¼€å‘ï¼Œ è¦åŸºäºåŸå‹å¼€å‘ã€‚åŸå‹çš„ä»·å€¼æ˜¯å¿«é€ŸéªŒè¯æƒ³æ³•ï¼Œå¸®å¤§å®¶èŠ‚çœæ—¶é—´ã€‚ åºåˆ—åŒ–é¦–é€‰æ˜æ–‡æ–‡æœ¬ ã€‚è¯¸å¦‚äºŒè¿›åˆ¶ã€æ··æ·†ã€åŠ å¯†ã€å‹ç¼©ç­‰ç­‰æœ‰éœ€è¦æ—¶å†åŠ ã€‚ ç¼–è¯‘å™¨æ°¸è¿œæ¯”ä½ æ‡‚å¾®è§‚ä¼˜åŒ–ã€‚åªèƒ½å‘å®ƒä¸æ“…é•¿çš„æ–¹å‘åŠªåŠ›ã€‚ ä¸è¦å®šè¿‡å¤§ã€è¿‡è¿œã€è¿‡ç»†çš„è®¡åˆ’ã€‚å³ä½¿å®šäº†ä¹Ÿæ²¡æœ‰ç”¨ã€‚ è‡³å°‘åŠæ•°æ—¶é—´å°†èŠ±åœ¨é›†æˆä¸Šã€‚æ—¶é—´ï¼Œæ—¶é—´ï¼Œæ—¶é—´æ€»æ˜¯ä¸å¤Ÿã€‚ ä¸ä¸»æµæ„è§ / æ–¹æ³• / é£æ ¼ / ä¹ æƒ¯ç›¸æ‚–æ—¶ï¼Œå…ˆæ£€è®¨è‡ªå·±æœ€å¯é ã€‚ å‡ºç° bug ä¸»åŠ¨æŸ¥ï¼Œä¸ç®¡æ˜¯ä¸æ˜¯ä½ çš„ã€‚è¿™èƒ½è®©ä½ ä¸šåŠ¡èƒ½åŠ›çŒ›æ¶¨ã€ä¸ªäººå½¢è±¡é£™å‡; å¦‚æœä½ çš„ bug è¢«åˆ«äººæªå‡ºæ¥â€¦.. å‘µå‘µï¼Œé‚£ä½ ä¼šå¾ˆè¢«åŠ¨ï½â‰§ï¹â‰¦ ä¸çŸ¥æ€ä¹ˆé€‰æŠ€æœ¯ä¹¦æ—¶å°±æŒ‘è–„çš„ã€‚èµ·ç ä¸ä¼šå¤ªè´µï¼Œä¸”ä½ èƒ½çœ‹å®Œã€‚ git æ˜¯æœ€æ£’çš„ã€‚ç®€å•ï¼Œå¯é ï¼Œå…è´¹ã€‚ ä»…å¯¹ â€œå¯é¢„æµ‹çš„éç†æ€§â€ æŠ›æ–­è¨€ã€‚ Log è¦å†™æ—¶é—´ä¸åˆ†ç±»ã€‚å¹¶ä¸”è¦èƒ½é‡å®šå‘è¾“å‡ºã€‚ æ³¨é‡Šæ˜¯ç¨å·®çš„æ–‡æ¡£ã€‚æ›´å¥½çš„æ˜¯æ¸…æ™°çš„å‘½åã€‚è®©ä»£ç è®²è‡ªå·±çš„æ•…äº‹ã€‚ é€ è½®å­æ˜¯å¾ˆå¥½çš„é”»ç‚¼æ–¹æ³•ã€‚å‰ææ˜¯ä½ è§è¿‡åˆ«çš„è½®å­ã€‚ code review æœ€å¥½ä»¥å°ç»„ / ç»“å¯¹çš„å½¢å¼ã€‚å¯¹ä¸šåŠ¡æœ‰ä¸€å®šäº†è§£ï¼Œå»ºè®®ä¼šæ›´æœ‰ä»·å€¼ï¼ˆä½†ä¸ç»å¯¹ï¼‰ã€‚è€Œä¸”ä¸ä¼šæˆä¸ºè´Ÿæ‹…ã€‚ç®¡ç†å‘˜ä¸ªäºº review åˆ™å¾ˆå®¹æ˜“æˆ team çš„ç“¶é¢ˆã€‚ æé—®å‰å…ˆåšè°ƒç ”ã€‚é—®ä¸åˆ°ç‚¹ä¸Šæ—¢è¢«é„™è§†ï¼Œåˆæµªè´¹è‡ªå·±çš„æ—¶é—´ã€‚]]></content>
      <categories>
        <category>æŠ€å·§</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Macç¯å¢ƒä¸‹MySQLçš„å®‰è£…ä¸ä½¿ç”¨]]></title>
    <url>%2FMac%E7%8E%AF%E5%A2%83%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[å¹³å°ï¼šMacç¯å¢ƒ mysqlæ“ä½œå‘½ä»¤å‚è€ƒï¼šhttp://www.runoob.com/mysql/mysql-tutorial.html å®‰è£… å®˜ç½‘ä¸‹è½½åœ°å€ https://dev.mysql.com/downloads/file/?id=473576 é»˜è®¤å®‰è£…ç›®å½• /usr/local/ å®‰è£…æ—¶å¼¹å‡ºçš„é»˜è®¤å¯†ç ï¼Œåœ¨ç¬¬ä¸€æ¬¡ç™»å½•æ—¶éœ€è¦ç”¨åˆ°ï¼š A temporary password is generated for root@localhost: gkct&gt;2Wajv5W å®‰è£…å®Œæˆ ç™»å½•mysql ï¼ˆè¿æ¥è¿œç¨‹æ•°æ®åº“ï¼Œé»˜è®¤ç«¯å£å·ï¼š3306ï¼‰ è¿œç¨‹è¿æ¥ mysql -hä¸»æœºåœ°å€ -uç”¨æˆ·å ï¼pç”¨æˆ·å¯†ç  ç™»å½•mysql ï¼ˆè¿æ¥æœ¬åœ°æ•°æ®åº“ï¼‰ mysql -u root -p è¾“å…¥å¯†ç  ç™»å½•åï¼Œä¿®æ”¹å¯†ç  SET PASSWORD FOR &apos;root&apos;@&apos;localhost&apos; = PASSWORD(&apos;æ–°å¯†ç &apos;); å¼€å¯/å…³é—­ - æ‰‹åŠ¨ ç³»ç»Ÿåå¥½è®¾ç½® -&gt; mysql ä¿®æ”¹mysqlç¼–ç  æŸ¥çœ‹ç¼–ç  é»˜è®¤è®¾ç½®ï¼š mysql&gt; show variables like &apos;%char%&apos;; +--------------------------+-----------------------------------------------------------+ | Variable_name | Value | +--------------------------+-----------------------------------------------------------+ | character_set_client | utf8 | | character_set_connection | utf8 | | character_set_database | latin1 | | character_set_filesystem | binary | | character_set_results | utf8 | | character_set_server | latin1 | | character_set_system | utf8 | | character_sets_dir | /usr/local/mysql-5.7.20-macos10.12-x86_64/share/charsets/ | +--------------------------+-----------------------------------------------------------+ 8 rows in set (0.01 sec) ä¿®æ”¹ åœ¨ç›®å½•ï¼š/usr/local/mysql/support-filesä¸‹æ‰¾é‡Œé¢æœ‰æ²¡æœ‰my-default.cnfæˆ–my.cnfæ–‡ä»¶. å¦‚æœæœ‰åˆ™ç›´æ¥æ‰“å¼€æ·»åŠ : åœ¨[client]åœ¨ä¸‹é¢æ·»åŠ  default-character-set=utf8 é»˜è®¤å­—ç¬¦é›†ä¸ºutf8 åœ¨[mysqld] æ·»åŠ  default-character-set=utf8 é»˜è®¤å­—ç¬¦é›†ä¸ºutf8 è®¾å®šè¿æ¥mysqlæ•°æ®åº“æ—¶ä½¿ç”¨utf8ç¼–ç ï¼Œä»¥è®©mysqlæ•°æ®åº“ä¸ºutf8è¿è¡Œ init_connect=&apos;SET NAMES utf8&apos; è‹¥æ˜¯æ²¡æœ‰åœ¨/etcä¸‹æ–°å»ºmy.cnfã€‚æ‰§è¡Œå‘½ä»¤ï¼š $ cd /etc $ sudo vim my.cnf å°† æœ¬æ–‡ é™„å½•å†…å®¹ç²˜è´´åˆ°æ–‡ä»¶ä¸­åï¼Œä¿å­˜é€€å‡ºå³å¯ã€‚æ³¨æ„ï¼šä¿®æ”¹å®Œç¼–ç åè¦ é€€å‡ºä¹‹åå†æ¬¡è¿›å…¥ æ‰èƒ½ç”Ÿæ•ˆä¿®æ”¹ä¹‹åçš„ç¼–ç è®¾ç½® mysql&gt; show variables like &apos;%char%&apos;; +--------------------------+-----------------------------------------------------------+ | Variable_name | Value | +--------------------------+-----------------------------------------------------------+ | character_set_client | utf8 | | character_set_connection | utf8 | | character_set_database | utf8 | | character_set_filesystem | binary | | character_set_results | utf8 | | character_set_server | utf8 | | character_set_system | utf8 | | character_sets_dir | /usr/local/mysql-5.7.20-macos10.12-x86_64/share/charsets/ | +--------------------------+-----------------------------------------------------------+ 8 rows in set (0.00 sec) å¸è½½MySQLsudo rm /usr/local/mysql sudo rm -rf /usr/local/mysql* sudo rm -rf /Library/StartupItems/MySQLCOM sudo rm -rf /Library/PreferencePanes/My* vim /etc/hostconfig (and removed the line MYSQLCOM=-YES-) rm -rf ~/Library/PreferencePanes/My* sudo rm -rf /Library/Receipts/mysql* sudo rm -rf /Library/Receipts/MySQL* sudo rm -rf /var/db/receipts/com.mysql.* MySQLæ“ä½œå‘½ä»¤ å‘½ä»¤æ“ä½œå‚è€ƒï¼šhttp://www.cnblogs.com/zhangzhu/archive/2013/07/04/3172486.htmlå‘½ä»¤æ“ä½œå‚è€ƒï¼šhttp://blog.csdn.net/qi49125/article/details/77887100 æ•°æ®åº“æ“ä½œæŸ¥çœ‹ç‰ˆæœ¬å·select version(); æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“show database; ä½¿ç”¨æ•°æ®åº“use æ•°æ®åº“åç§° åˆ›å»ºæ•°æ®åº“create database æ•°æ®åº“å åˆ é™¤æ•°æ®åº“drop database æ•°æ®åº“å å¤‡ä»½æ•°æ®åº“å¤–éƒ¨æ•°æ®åº“ å¯¼å…¥ç™»å½• mysql -u root -p; é€‰æ‹©æ•°æ®åº“ use databaseName; å°†å¤–éƒ¨çš„.sqlæ–‡ä»¶æ‹–å…¥ç»ˆç«¯ä¸­ source å‘½ä»¤åé¢ï¼Œç„¶åå›è½¦ source æ‹–å¦‚.sqlæ–‡ä»¶; å†…éƒ¨æ•°æ®åº“ å¯¼å‡ºåœ¨ç»ˆç«¯ä¸­ï¼Œè¦è¿›å…¥å­˜å‚¨æ–‡ä»¶çš„ç›®å½•ï¼Œç„¶åå†æ‰§è¡Œå¯¼å‡ºæ“ä½œ cd å¾…å­˜æ–‡ä»¶çš„ç›®å½• å¯¼å‡ºMySQLä¸­çš„æ‰€æœ‰æ•°æ®åº“ï¼ˆç»“æ„+æ•°æ®ï¼‰mysqldump -u root -p --all-databases &gt; dafadf00.sql; å¯¼å‡ºMySQLä¸­çš„å•ä¸ªæ•°æ®åº“ï¼ˆç»“æ„+æ•°æ®ï¼‰mysqldump -u root -p database_name &gt; sql_name.sql å¯¼å‡ºå•ä¸ªæ•°æ®åº“ä¸­çš„å•å¼ è¡¨ï¼Œå¯¼å‡ºå‘½ä»¤ä¸­åŠ äº†ä¸€ä¸ªè¡¨åï¼ˆç»“æ„+æ•°æ®ï¼‰mysqldump -u root -p database_name table_name &gt; sql_name.sql å¯¼å‡ºæ•°æ®åº“çš„ç»“æ„ ï¼ˆä»…ç»“æ„ï¼‰mysqldump -u root -p --add-drop-table temp &gt; /Users/yannischeng/Desktop/outfile_name.sql å¯¼å‡ºæŸ¥è¯¢æ•°æ®ç»“æœåˆ°æŒ‡å®šæ–‡ä»¶ å‚è€ƒï¼šhttp://blog.csdn.net/u011677147/article/details/64129606 åœ¨åšmysqlå¯¼å‡ºæ•°æ®çš„æ—¶å€™ï¼Œé‡åˆ°çš„é—®é¢˜å¦‚ä¸‹ï¼š ERROR 1290 (HY000): The MySQL server is running with the --secure-file-priv option so it cannot execute this statement mysql é»˜è®¤å¯¹å¯¼å‡ºçš„ç›®å½•æœ‰æƒé™é™åˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨å‘½ä»¤è¡Œè¿›è¡Œå¯¼å‡ºçš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šç›®å½•è¿›è¡Œæ“ä½œã€‚è§£å†³æ–¹æ³•ï¼š æŸ¥è¯¢mysql çš„secure_file_privé…ç½®ï¼Œä½¿ç”¨å‘½ä»¤è¡Œï¼š show global variables like &apos;%secure%&apos;; æŸ¥è¯¢ç»“æœ secure_file_prive=null -- é™åˆ¶mysqld ä¸å…è®¸å¯¼å…¥å¯¼å‡º secure_file_priv=/tmp/ -- é™åˆ¶mysqldçš„å¯¼å…¥å¯¼å‡ºåªèƒ½å‘ç”Ÿåœ¨/tmp/ç›®å½•ä¸‹ secure_file_priv=&apos; &apos; -- ä¸å¯¹mysqld çš„å¯¼å…¥ å¯¼å‡ºåšé™åˆ¶ æ›´æ”¹secure_file_priçš„å€¼ï¼š/usr/local/mysql/support-filesä¸­çš„my-default.cnfé…ç½®æ–‡ä»¶ï¼Œå°±æŠŠå®ƒå¤åˆ¶åˆ°/private/etcä¸­ï¼Œé‡å‘½åä¸ºâ€œmy.cnfâ€ï¼Œå¹¶åŠ å…¥secure_file_priv=â€™â€™ï¼Œé‡å¯mysqlæœåŠ¡å™¨å³å¯ã€‚ ä½¿ç”¨ into outfile å¼€å§‹å¯¼å‡ºï¼š select * from table_name into outfile &apos;/Users/yannischeng/Desktop/NewFile.txt&apos; FIELDS TERMINATED BY &apos;,&apos; OPTIONALLY ENCLOSED BY &apos;&quot;&apos; LINES TERMINATED BY &apos;\n&apos;; å› ä¸ºå¯¼å‡ºçš„æ•°æ®ä¼šå‡ºç°ä¸€äº›ä¹±ç æˆ–è€…ç‰¹æ®Šå­—ç¬¦ï¼Œæ‰€ä»¥ä½¿ç”¨ä»¥ä¸Šå…³é”®å­—è¿›è¡Œè½¬ä¹‰ã€‚ å‡ºç°é—®é¢˜ ERROR 1 (HY000): Can&apos;t create/write to file &apos;/Users/yannischeng/Desktop/NewFile.txt&apos; (Errcode: 13 - Permission denied è¡¨æ“ä½œuse æ•°æ®åº“å; åˆ é™¤è¡¨drop table è¡¨å; åˆ é™¤è¡¨ä¸­æ•°æ®delete from è¡¨å,â€¦â€¦ï¼Œâ€¦â€¦ where è¡¨è¾¾å¼; æ˜¾ç¤ºå½“å‰æ•°æ®åº“çš„è¡¨show tables; æ˜¾ç¤ºè¡¨çš„æ•°æ®ç»“æ„describe è¡¨å; æˆ–è€… desc è¡¨å; æˆ–è€… show columns from è¡¨å; åˆ›å»ºè¡¨mysql&gt; create table student( -&gt; id int(4) not null primary key auto_increment, -&gt; name char(20) not null, -&gt; age int(4) not null, -&gt; address char(100), -&gt; other varchar(100) default &quot;null&quot;); rename ä¿®æ”¹è¡¨åalter table æ—§è¡¨å rename æ–°è¡¨å; æˆ–è€… rename table åŸè¡¨å æ–°è¡¨å; ä¿®æ”¹è¡¨ç»“æ„ï¼šå¢ï¼ˆaddï¼‰ã€åˆ ï¼ˆdropï¼‰ã€æ”¹ï¼ˆmodifyï¼‰ã€é‡å‘½åï¼ˆchangeï¼‰å¯é€šè¿‡after å­—æ®µåã€firstç²¾ç¡®æ§åˆ¶æ·»åŠ çš„ä½ç½®ã€‚ add å¢åŠ å­—æ®µalter table è¡¨å add å­—æ®µå å­—æ®µè®¾ç½® å­—æ®µä½ç½®; modify ä¿®æ”¹å­—æ®µalter table è¡¨å modify å­—æ®µå å­—æ®µè®¾ç½® å­—æ®µä½ç½®; change é‡å‘½åå­—æ®µalter table è¡¨å change æ—§å­—æ®µå æ–°å­—æ®µå å­—æ®µè®¾ç½®; drop åˆ é™¤å­—æ®µalter table è¡¨å drop å­—æ®µå; æ•°æ®æ“ä½œå¢å•æ¡æ•°æ® insert into student (,&apos;yannis&apos;, 25, &apos;tianjin&apos;, &apos;good&apos;); å¤šæ¡æ•°æ® insert into student values (13,&apos;tom&apos;, 25, &apos;tianjin&apos;, &apos;good&apos;),(21,&apos;jack&apos;, 25, &apos;tianjin&apos;, &apos;good&apos;); æŒ‡å®šå­—æ®µæ’å…¥æ•°æ® insert into è¡¨å (å­—æ®µå) values (&apos;æ•°å€¼&apos;); åˆ delete from è¡¨å where æ¡ä»¶; æ”¹update è¡¨å set name=&apos;marry&apos; where id=13; æŸ¥æŸ¥è¯¢æ•°æ®å®Œæ•´è¯­æ³• select [distinct][ç»Ÿè®¡å‡½æ•°] å­—æ®µå/* from æ•°æ®æº [where æ¡ä»¶å­å¥] [group by å­å¥] [having å­å¥] [order by å­å¥] [limit å­å¥]; distinct ï¼šå»é‡å¤ ç»Ÿè®¡å‡½æ•° ï¼š Count()ï¼š ç»Ÿè®¡åˆ†ç»„åçš„è®°å½•æ•°ï¼Œæ¯ä¸€ç›¸åŒçš„ç»„æœ‰å¤šå°‘è¡Œè®°å½• Max()ï¼š ç»Ÿè®¡æ¯ç»„æœ€å¤§çš„å€¼ Min()ï¼š ç»Ÿè®¡æ¯ç»„æœ€å°çš„å€¼ Avg()ï¼š ç»Ÿè®¡æ¯ç»„çš„å¹³å‡å€¼ Sum()ï¼š ç»Ÿè®¡æ¯ç»„çš„å’Œ where ï¼šæ¡ä»¶ group by å­—æ®µ ï¼šåˆ†ç»„ã€‚æ ¹æ®æŸä¸ªå­—æ®µè¿›è¡Œåˆ†ç»„ï¼Œç›¸åŒçš„æ”¾ä¸€ç»„ï¼Œä¸åŒçš„åˆ†åˆ°ä¸åŒçš„ç»„ã€‚ç»Ÿè®¡çš„æ˜¯æ•°æ®ï¼Œä¸æ˜¯è®°å½•ã€‚ having å­å¥ ï¼šä¸whereå­å¥ä¸€æ ·è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œä¸ºä»€ä¹ˆæ˜¯group byâ€¦â€¦havingâ€¦â€¦ è€Œä¸æ˜¯group byâ€¦â€¦where? å› ä¸ºï¼šè¿›è¡Œæ•°æ®ç»Ÿè®¡æ—¶ï¼Œæ˜¯æ•°æ®è¿›å…¥å†…å­˜ä¹‹åï¼Œä¼šè¿›è¡Œåˆ†ç»„ -&gt; ç»Ÿè®¡ -&gt; havingæ¡ä»¶åˆ¤æ–­ã€‚è€Œwhereæ˜¯é’ˆå¯¹ä»ç£ç›˜è¯»å–æ•°æ®æ—¶è¿›è¡Œåˆ¤æ–­ï¼Œæ­¤åˆ»è¿˜æ²¡åˆ†ç»„ï¼Œè¿›è¡Œç»Ÿè®¡å°±åˆ¤æ–­äº†ã€‚æ‰€ä»¥é”™è¯¯ï¼ order by å­å¥ ï¼šorder byæ ¹æ®æŸä¸ªå­—æ®µè¿›è¡Œå‡åºæˆ–é™åºæ’åºï¼ŒåŸºæœ¬è¯­æ³•ï¼š order by å­—æ®µå [asc/desc]; ascå‡åº å¯ä¸å†™ descé™åº limit å­å¥ ï¼šæ˜¯ä¸€ç§é™åˆ¶ç»“æœçš„è¯­å¥ã€‚ 1ï¼‰ç”¨æ¥é™åˆ¶æ•°é‡ 2) é™åˆ¶èµ·å§‹ä½ç½® limit èµ·å§‹ä½ç½®ï¼Œé•¿åº¦ã€‚åˆ†é¡µå¸¸ç”¨ã€‚ å†…è¿æ¥ï¼Œå¤–è¿æ¥ï¼Œè‡ªç„¶è¿æ¥ï¼Œäº¤å‰è¿æ¥ å†…è¿æ¥ï¼šä»å·¦è¡¨ä¸­å–å‡ºæ¯ä¸€æ¡è®°å½•ï¼Œå’Œå³è¡¨ä¸­æ‰€æœ‰çš„è®°å½•è¿›è¡ŒåŒ¹é…ï¼ŒåŒ¹é…å¿…é¡»æ˜¯å·¦è¡¨ä¸­ä¸å³è¡¨ä¸­æŸä¸ªæ¡ä»¶ç›¸åŒï¼Œæœ€ç»ˆä¼šä¿ç•™ç»“æœï¼Œå¦åˆ™ä¸ä¿ç•™ã€‚åŸºæœ¬è¯­æ³•ï¼š å·¦è¡¨ [inner] join å³è¡¨ on å·¦è¡¨.å­—æ®µ = å³è¡¨.å­—æ®µ; select * from my_student inner join my_class on my_student.C_id = mu_class.id; å·¦å¤–è¿æ¥ï¼šå·¦è¡¨ä¸ºä¸»ï¼Œç„¶åæ¯æ¡è®°å½•ä¸å³è¡¨è¿›è¡Œè¿æ¥ï¼Œä¸ç®¡èƒ½ä¸èƒ½åŒ¹é…çš„ä¸Šï¼Œå·¦è¡¨éƒ½ä¼šä¿ç•™ã€‚èƒ½åŒ¹é…ï¼Œå³è¡¨æŸæ¡è®°å½•ä¿ç•™ï¼Œä¸èƒ½åŒ¹é…ï¼ŒæŸæ¡è®°å½•ç½®ä¸ºNULLï¼Œæœ€ç»ˆè®°å½•æ•°è‡³å°‘ä¸å°‘äºå·¦è¡¨å·²æœ‰çš„è®°å½•ã€‚åŸºæœ¬è¯­æ³•ï¼š å·¦è¡¨ left join å³è¡¨ on å·¦è¡¨.å­—æ®µ = å³è¡¨.å­—æ®µ; å½“å‰æ—¶é—´ï¼šselect now(); é™„å½•# Example MySQL config file for medium systems. # # This is for a system with little memory (32M - 64M) where MySQL plays # an important part, or systems up to 128M where MySQL is used together with # other programs (such as a web server) # # MySQL programs look for option files in a set of # locations which depend on the deployment platform. # You can copy this option file to one of those # locations. For information about these locations, see: # http://dev.mysql.com/doc/mysql/en/option-files.html # # In this file, you can use all long options that a program supports. # If you want to know which options a program supports, run the program # with the &quot;--help&quot; option. # The following options will be passed to all MySQL clients [client] default-character-set=utf8 #password = your_password port = 3306 socket = /tmp/mysql.sock # Here follows entries for some specific programs # The MySQL server [mysqld] character-set-server=utf8 init_connect=&apos;SET NAMES utf8 port = 3306 socket = /tmp/mysql.sock skip-external-locking key_buffer_size = 16M max_allowed_packet = 1M table_open_cache = 64 sort_buffer_size = 512K net_buffer_length = 8K read_buffer_size = 256K read_rnd_buffer_size = 512K myisam_sort_buffer_size = 8M character-set-server=utf8 init_connect=&apos;SET NAMES utf8&apos; # Don&apos;t listen on a TCP/IP port at all. This can be a security enhancement, # if all processes that need to connect to mysqld run on the same host. # All interaction with mysqld must be made via Unix sockets or named pipes. # Note that using this option without enabling named pipes on Windows # (via the &quot;enable-named-pipe&quot; option) will render mysqld useless! # #skip-networking # Replication Master Server (default) # binary logging is required for replication log-bin=mysql-bin # binary logging format - mixed recommended binlog_format=mixed # required unique id between 1 and 2^32 - 1 # defaults to 1 if master-host is not set # but will not function as a master if omitted server-id = 1 # Replication Slave (comment out master section to use this) # # To configure this host as a replication slave, you can choose between # two methods : # # 1) Use the CHANGE MASTER TO command (fully described in our manual) - # the syntax is: # # CHANGE MASTER TO MASTER_HOST=&lt;host&gt;, MASTER_PORT=&lt;port&gt;, # MASTER_USER=&lt;user&gt;, MASTER_PASSWORD=&lt;password&gt; ; # # where you replace &lt;host&gt;, &lt;user&gt;, &lt;password&gt; by quoted strings and # &lt;port&gt; by the master&apos;s port number (3306 by default). # # Example: # # CHANGE MASTER TO MASTER_HOST=&apos;125.564.12.1&apos;, MASTER_PORT=3306, # MASTER_USER=&apos;joe&apos;, MASTER_PASSWORD=&apos;secret&apos;; # # OR # # 2) Set the variables below. However, in case you choose this method, then # start replication for the first time (even unsuccessfully, for example # if you mistyped the password in master-password and the slave fails to # connect), the slave will create a master.info file, and any later # change in this file to the variables&apos; values below will be ignored and # overridden by the content of the master.info file, unless you shutdown # the slave server, delete master.info and restart the slaver server. # For that reason, you may want to leave the lines below untouched # (commented) and instead use CHANGE MASTER TO (see above) # # required unique id between 2 and 2^32 - 1 # (and different from the master) # defaults to 2 if master-host is set # but will not function as a slave if omitted #server-id = 2 # # The replication master for this slave - required #master-host = &lt;hostname&gt; # # The username the slave will use for authentication when connecting # to the master - required #master-user = &lt;username&gt; # # The password the slave will authenticate with when connecting to # the master - required #master-password = &lt;password&gt; # # The port the master is listening on. # optional - defaults to 3306 #master-port = &lt;port&gt; # # binary logging - not required for slaves, but recommended #log-bin=mysql-bin # Uncomment the following if you are using InnoDB tables #innodb_data_home_dir = /usr/local/mysql/data #innodb_data_file_path = ibdata1:10M:autoextend #innodb_log_group_home_dir = /usr/local/mysql/data # You can set .._buffer_pool_size up to 50 - 80 % # of RAM but beware of setting memory usage too high #innodb_buffer_pool_size = 16M #innodb_additional_mem_pool_size = 2M # Set .._log_file_size to 25 % of buffer pool size #innodb_log_file_size = 5M #innodb_log_buffer_size = 8M #innodb_flush_log_at_trx_commit = 1 #innodb_lock_wait_timeout = 50 [mysqldump] quick max_allowed_packet = 16M [mysql] no-auto-rehash # Remove the next comment character if you are not familiar with SQL #safe-updates default-character-set=utf8 [myisamchk] key_buffer_size = 20M sort_buffer_size = 20M read_buffer = 2M write_buffer = 2M [mysqlhotcopy] interactive-timeout]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 16-å®‰è£…çˆ¬è™«å·¥å…·Scrapy]]></title>
    <url>%2FPython3%20%2016-%E5%AE%89%E8%A3%85%E7%88%AC%E8%99%AB%E5%B7%A5%E5%85%B7Scrapy%2F</url>
    <content type="text"><![CDATA[pythonçš„å­¦ä¹ åœ¨ä»Šå¤©åˆå¼€å§‹äº†ï¼šäººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨pythonã€‚ å®‰è£…Scrapyéœ€è¦ä½¿ç”¨åˆ°ï¼špipï¼ˆpython2ï¼‰ã€pip3ï¼ˆpython3ï¼‰ï¼Œç”±äºä¹‹å‰å·²ç»å®‰è£…ï¼Œæ­¤å¤„å¿½ç•¥ã€‚ å¹³å°ï¼šMacpython2 pippython3 pip3 ä½¿ç”¨pipè¿›è¡Œå®‰è£…æ³¨æ„ï¼šå®‰è£…è¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒæ›²æŠ˜çš„ (ã€’ï¸¿ã€’) sudo pip install scrapy é”™è¯¯ - 1 ï¼š Found existing installation: six 1.4.1 DEPRECATION: Uninstalling a distutils installed project (six) has been deprecated and will be removed in a future version. This is due to the fact that uninstalling a distutils project will only partially uninstall the project. Uninstalling six-1.4.1: ... OSError: [Errno 1] Operation not permitted: &apos;/tmp/pip-89wTP6-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/six-1.4.1-py2.7.egg-info&apos; æ ¹æ®ç½‘ä¸Šå¾—å‡ºçš„è§£å†³æ–¹æ¡ˆï¼š é‡å¯ç”µè„‘ï¼ŒæŒ‰ä½ option é”®ï¼Œâ€“&gt; å†æŒ‰ command + r è¿›å…¥ Recoveryæ¨¡å¼ â€“&gt; å·¥å…·é€‰æ‹©ç»ˆç«¯è¾“å…¥ï¼š csrutil disable ç„¶å reboot å†æ¬¡æ‰§è¡Œ sudo pip install Scrapy è¿›è¡Œå®‰è£…ï¼Œç»“æœä¾ç„¶å‡ºé”™ã€‚é”™è¯¯ - 2 ï¼š Found existing installation: six 1.4.1 DEPRECATION: Uninstalling a distutils installed project (six) has been deprecated and will be removed in a future version. This is due to the fact that uninstalling a distutils project will only partially uninstall the project. Uninstalling six-1.4.1: Successfully uninstalled six-1.4.1 Running setup.py install for PyDispatcher ... done Running setup.py install for Twisted ... done æ³¨æ„ï¼š Running setup.py install for PyDispatcher ... done Running setup.py install for Twisted ... done å› ä¸ºæœªå®‰è£… ä»¥ä¸Šä¸¤ä¸ªï¼Œå¯¼è‡´ Scrapyæœªèƒ½å®‰è£…æˆåŠŸã€‚é”™è¯¯æè¿°ä¸ºï¼š AttributeError: &apos;module&apos; object has no attribute &apos;OP_NO_TLSv1_1&apos; å®‰è£… twisted $ pip install twisted==15.4.0 ä»ç„¶æŠ¥é”™ - 3 ï¼š AttributeError: &apos;module&apos; object has no attribute &apos;OP_NO_TLSv1_1&apos; æ›´æ–°pyOpenSSl sudo pip install --upgrade pyOpenSSl æœ€ç»ˆå‡ºç°ï¼š Successfully uninstalled pyOpenSSL-0.13.1 Successfully installed asn1crypto-0.23.0 cffi-1.11.2 cryptography-2.1.2 enum34-1.1.6 idna-2.6 ipaddress-1.0.18 pyOpenSSl-17.3.0 pycparser-2.18 ç„¶åè¾“å…¥ï¼š scrapy version å‡ºç°ç»“æœï¼š Scrapy 1.4.0 å®‰è£…æˆåŠŸï¼ ä½¿ç”¨pip3è¿›è¡Œå®‰è£… å‚è€ƒï¼šhttp://www.jianshu.com/p/d00a19f6c4ed æç¤ºï¼šåœ¨ä½¿ç”¨ pip3 è¿›è¡Œå®‰è£…æ—¶ï¼Œé¦–å…ˆåº”è¯¥æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š sudo -s pip3 install --ignore-installed six å¦åˆ™æŠ¥é”™ï¼š PermissionError: [Errno 13] Permission denied: &apos;/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/six.py&apos; ç„¶åæ‰§è¡Œï¼š sudo -s pip3 install scrapy ç»“æœï¼š Installing collected packages: cssselect, queuelib, w3lib, PyDispatcher, lxml, parsel, idna, pycparser, cffi, asn1crypto, cryptography, pyOpenSSL, pyasn1, attrs, pyasn1-modules, service-identity, hyperlink, incremental, zope.interface, Automat, constantly, Twisted, scrapy Successfully installed Automat-0.6.0 PyDispatcher-2.0.5 Twisted-17.9.0 asn1crypto-0.23.0 attrs-17.2.0 cffi-1.11.2 constantly-15.1.0 cryptography-2.1.2 cssselect-1.0.1 hyperlink-17.3.1 idna-2.6 incremental-17.5.0 lxml-4.1.0 parsel-1.2.0 pyOpenSSL-17.3.0 pyasn1-0.3.7 pyasn1-modules-0.1.5 pycparser-2.18 queuelib-1.4.2 scrapy-1.4.0 service-identity-17.0.0 w3lib-1.18.0 zope.interface-4.4.3 éªŒè¯ï¼š YannisCheng:source yannischeng$ python3 Python 3.6.1 (default, Apr 4 2017, 09:40:21) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.38)] on darwin Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information. &gt;&gt;&gt; import scrapy &gt;&gt;&gt; å®‰è£…æˆåŠŸ]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Studio ä½¿ç”¨å¿«äººä¸€æ­¥2 å¿«æ·é”®]]></title>
    <url>%2FAndroid-Studio%E4%BD%BF%E7%94%A8%E5%BF%AB%E4%BA%BA%E4%B8%80%E6%AD%A52%20%E5%BF%AB%E6%8D%B7%E9%94%AE%2F</url>
    <content type="text"><![CDATA[é”®ç›˜å¿«æ·é”® å¿«æ·é”®å‚è€ƒï¼šhttps://developer.android.google.cn/studio/intro/keyboard-shortcuts.htmlAndroid Studioä½¿ç”¨æŒ‡å—ï¼šhttps://developer.android.google.cn/studio/projects/android-library.html å¸¸è§„ è¯´æ˜ Windows/Linux Mac å…¨éƒ¨ä¿å­˜ Control + S Command + S åŒæ­¥ Control + Alt + Y Command + Option + Y æœ€å¤§åŒ–/æœ€å°åŒ–ç¼–è¾‘å™¨ Control + Shift + F12 Control + Command + F12 æ·»åŠ åˆ°æ”¶è—å¤¹ Alt + Shift + F Option + Shift + F ä½¿ç”¨å½“å‰é…ç½®æ–‡ä»¶æ£€æŸ¥å½“å‰æ–‡ä»¶ Alt + Shift + I Option + Shift + I å¿«é€Ÿåˆ‡æ¢æ¨¡å¼ Control + ï¼ˆåå¼•å·ï¼‰ Control + `ï¼ˆåå¼•å·ï¼‰ æ‰“å¼€è®¾ç½®å¯¹è¯æ¡† Control + Alt + S Command + ,ï¼ˆè‹±æ–‡é€—å·ï¼‰ æ‰“å¼€é¡¹ç›®ç»“æ„å¯¹è¯æ¡† Control + Alt + Shift + S Command + ;ï¼ˆè‹±æ–‡åˆ†å·ï¼‰ åœ¨æ ‡ç­¾å’Œå·¥å…·çª—å£ä¹‹é—´åˆ‡æ¢ Control + Tab Control + Tab åœ¨ Studio å†…å¯¼èˆªå’Œæœç´¢ è¯´æ˜ Windows/Linux Mac æœç´¢å…¨éƒ¨å†…å®¹ï¼ˆåŒ…æ‹¬ä»£ç å’Œèœå•ï¼‰ æŒ‰ä¸¤æ¬¡ Shift æŒ‰ä¸¤æ¬¡ Shift æŸ¥æ‰¾ Control + F Command + F æŸ¥æ‰¾ä¸‹ä¸€ä¸ª F3 Command + G æŸ¥æ‰¾ä¸Šä¸€ä¸ª Shift + F3 Command + Shift + G æ›¿æ¢ Control + R Command + R æŸ¥æ‰¾æ“ä½œ Control + Shift + A Command + Shift + A æŒ‰ç¬¦å·åç§°æœç´¢ Control + Alt + Shift + N Command + Option + O æŸ¥æ‰¾ç±» Control + N Command + O æŸ¥æ‰¾æ–‡ä»¶ï¼ˆè€Œä¸æ˜¯ç±»ï¼‰ Control + Shift + N Command + Shift + O åœ¨è·¯å¾„ä¸­æŸ¥æ‰¾ Control + Shift + F Command + Shift + F æ‰“å¼€æ–‡ä»¶ç»“æ„å¼¹å‡ºå¼èœå• Control + F12 Command + F12 åœ¨æ‰“å¼€çš„ç¼–è¾‘å™¨æ ‡ç­¾ä¹‹å‰å¯¼èˆª Alt + å‘å³/å‘å·¦ç®­å¤´ Control + å‘å³/å‘å·¦ç®­å¤´ è·³åˆ°æºä»£ç  F4 / Control + Enter F4 / Command + å‘ä¸‹ç®­å¤´ åœ¨æ–°çª—å£ä¸­æ‰“å¼€å½“å‰ç¼–è¾‘å™¨æ ‡ç­¾ Shift + F4 Shift + F4 æœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶å¼¹å‡ºå¼èœå• Control + E Command + E æœ€è¿‘ç¼–è¾‘çš„æ–‡ä»¶å¼¹å‡ºå¼èœå• Control + Shift + E Command + Shift + E è½¬åˆ°ä¸Šä¸€ä¸ªç¼–è¾‘ä½ç½® Control + Shift + é€€æ ¼é”® Command + Shift + é€€æ ¼é”® å…³é—­æ´»åŠ¨ç¼–è¾‘å™¨æ ‡ç­¾ Control + F4 Command + W ä»å·¥å…·çª—å£è¿”å›åˆ°ç¼–è¾‘å™¨çª—å£ Esc Esc éšè—æ´»åŠ¨æˆ–ä¸Šä¸€ä¸ªæ´»åŠ¨å·¥å…·çª—å£ Shift + Esc Shift + Esc è½¬åˆ°è¡Œ Control + G Command + L æ‰“å¼€ç±»å‹å±‚æ¬¡ç»“æ„ Control + H Control + H æ‰“å¼€æ–¹æ³•å±‚æ¬¡ç»“æ„ Control + Shift + H Command + Shift + H æ‰“å¼€è°ƒç”¨å±‚æ¬¡ç»“æ„ Control + Alt + H Control + Option + H s ç¼–å†™ä»£ç  è¯´æ˜ Windows/Linux Mac ç”Ÿæˆä»£ç ï¼ˆgetterã€setterã€æ„é€ å‡½æ•°ã€hashCode/equalsã€toStringã€æ–°æ–‡ä»¶ã€æ–°ç±»ï¼‰ Alt + Insert Command + N æ›¿æ¢æ–¹æ³• Control + O Control + O å®ç°æ–¹æ³• Control + I Control + I æ§åˆ¶è¯­å¥ (ifâ€¦else / tryâ€¦catch / etc.) Control + Alt + T Command + Option + T åˆ é™¤æ’å…¥ç¬¦å¤„çš„è¡Œ Control + Y Command + é€€æ ¼é”® æŠ˜å /å±•å¼€å½“å‰ä»£ç å— Control + å‡å·/åŠ å· Command + å‡å·/åŠ å· æŠ˜å /å±•å¼€æ‰€æœ‰ä»£ç å— Control + Shift + å‡å·/åŠ å· Command + Shift + å‡å·/åŠ å· å¤åˆ¶å½“å‰è¡Œæˆ–é€‰æ‹© Control + D Command + D åŸºæœ¬ä»£ç è‡ªåŠ¨å®Œæˆ Control + ç©ºæ ¼é”® Control + ç©ºæ ¼é”® æ™ºèƒ½ä»£ç è‡ªåŠ¨å®Œæˆï¼ˆæŒ‰é¢„æœŸç±»å‹è¿‡æ»¤æ–¹æ³•å’Œå˜é‡åˆ—è¡¨ï¼‰ Control + Shift + ç©ºæ ¼é”® Control + Shift + ç©ºæ ¼é”® å®Œæˆè¯­å¥ Control + Shift + Enter Command + Shift + Enter å¿«é€Ÿæ–‡æ¡£æŸ¥æ‰¾ Control + Q Control + J æ˜¾ç¤ºé€‰å®šæ–¹æ³•çš„å‚æ•° Control + P Command + P è½¬åˆ°å£°æ˜ï¼ˆç›´æ¥ï¼‰ Control + B æˆ– Control + ç‚¹å‡» Command + B æˆ– Command + ç‚¹å‡» è½¬åˆ°å®ç° Control + Alt + B Command + Alt + B è½¬åˆ°è¶…ç±»æ–¹æ³•/è¶…ç±» Control + U Command + U æ‰“å¼€å¿«é€Ÿå®šä¹‰æŸ¥æ‰¾ Control + Shift + I Command + Y åˆ‡æ¢é¡¹ç›®å·¥å…·çª—å£çš„å¯è§æ€§ Alt + 1 Command + 1 åˆ‡æ¢ä¹¦ç­¾ F11 F3 é€šè¿‡åŠ©è®°åˆ‡æ¢ä¹¦ç­¾ Control + F11 Option + F3 é€šè¿‡è¡Œæ³¨é‡Šæ·»åŠ æ³¨é‡Š/å–æ¶ˆæ³¨é‡Š Control + / Command + / é€šè¿‡å—æ³¨é‡Šæ·»åŠ æ³¨é‡Š/å–æ¶ˆæ³¨é‡Š Control + Shift + / Command + Shift + / é€‰æ‹©è¿ç»­å¢åŠ çš„ä»£ç å— Control + W Option + Up å°†å½“å‰é€‰æ‹©é€€å›åˆ°ä¸Šä¸€ä¸ªçŠ¶æ€ Control + Shift + W Option + Down ç§»åŠ¨åˆ°ä»£ç å—èµ·å§‹ä½ç½® Control + [ Option + Command + [ ç§»åŠ¨åˆ°ä»£ç å—ç»“æŸä½ç½® Control + ] Option + Command + ] ä»å½“å‰ä½ç½®é€‰æ‹©åˆ°ä»£ç å—èµ·å§‹ä½ç½® Control + Shift + [ Option + Command + Shift + [ ä»å½“å‰ä½ç½®é€‰æ‹©åˆ°ä»£ç å—ç»“æŸä½ç½® Control + Shift + ] Option + Command + Shift + ] ä»å½“å‰ä½ç½®åˆ é™¤åˆ°å•è¯ç»“å°¾ Control + Delete Option + Delete ä»å½“å‰ä½ç½®åˆ é™¤åˆ°å•è¯å¼€å¤´ Control + é€€æ ¼é”® Option + é€€æ ¼é”® ä¼˜åŒ–å¯¼å…¥ Control + Alt + O Control + Option + O é¡¹ç›®å¿«é€Ÿä¿®å¤ï¼ˆæ˜¾ç¤ºæ„å›¾æ“ä½œå’Œå¿«é€Ÿä¿®å¤ï¼‰ Alt + Enter Option + Enter é‡æ–°æ ¼å¼åŒ–ä»£ç  Control + Alt + L Command + Option + L è‡ªåŠ¨ç¼©è¿›è¡Œ Control + Alt + I Control + Option + I ç¼©è¿›/å–æ¶ˆç¼©è¿›è¡Œ Tab/Shift + Tab Tab/Shift + Tab æ™ºèƒ½è¡Œåˆå¹¶ Control + Shift + J Control + Shift + J æ™ºèƒ½è¡Œæ‹†åˆ† Control + Enter Command + Enter å¼€å§‹æ–°è¡Œ Shift + Enter Shift + Enter ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªçªå‡ºæ˜¾ç¤ºçš„é”™è¯¯ F2 / Shift + F2 F2 / Shift + F2 æ„å»ºå¹¶è¿è¡Œ è¯´æ˜ Windows/Linux Mac æ„å»º Control + F9 Command + F9 æ„å»ºå¹¶è¿è¡Œ Shift + F10 Control + R è°ƒè¯• è¯´æ˜ Windows/Linux Mac è°ƒè¯• Shift + F9 Control + D è·³è¿‡ F8 F8 é€æ­¥æ‰§è¡Œ F7 F7 æ™ºèƒ½é€æ­¥æ‰§è¡Œ Shift + F7 Shift + F7 è·³å‡º Shift + F8 Shift + F8 è¿è¡Œåˆ°å…‰æ ‡ä½ç½® Alt + F9 Option + F9 è¯„ä¼°è¡¨è¾¾å¼ Alt + F8 Option + F8 ç»§ç»­è¿è¡Œç¨‹åº F9 Command + Option + R åˆ‡æ¢æ–­ç‚¹ Control + F8 Command + F8 æŸ¥çœ‹æ–­ç‚¹ Control + Shift + F8 Command + Shift + F8 é‡æ„ è¯´æ˜ Windows/Linux Mac å¤åˆ¶ F5 F5 ç§»åŠ¨ F6 F6 å®‰å…¨åˆ é™¤ Alt + Delete Command + Delete é‡å‘½å Shift + F6 Shift + F6 æ›´æ”¹ç­¾å Control + F6 Command + F6 å†…è” Control + Alt + N Command + Option + N æå–æ–¹æ³• Control + Alt + M Command + Option + M æå–å˜é‡ Control + Alt + V Command + Option + V æå–å­—æ®µ Control + Alt + F Command + Option + F æå–å¸¸é‡ Control + Alt + C Command + Option + C æå–å‚æ•° Control + Alt + P Command + Option + P ç‰ˆæœ¬æ§åˆ¶/æœ¬åœ°å†å²è®°å½• è¯´æ˜ Windows/Linux MacOS å°†é¡¹ç›®æäº¤åˆ° VCS Control + K Command + K ä» VCS æ›´æ–°é¡¹ç›® Control + T Command + T æŸ¥çœ‹æœ€è¿‘å˜æ›´ Alt + Shift + C Option + Shift + C æ‰“å¼€ VCS å¼¹å‡ºå¼èœå• Alt + `ï¼ˆåå¼•å·ï¼‰ Control + V]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Android Studio</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidèµ„æºæ–‡ä»¶-color]]></title>
    <url>%2FAndroid%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6-color%2F</url>
    <content type="text"><![CDATA[å®˜æ–¹å‚è€ƒï¼šhttps://material.io/guidelines/style/color.html#color-color-palette 16è¿›åˆ¶é€æ˜åº¦ 100%-0% 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101100% â€” FF99% â€” FC98% â€” FA97% â€” F796% â€” F595% â€” F294% â€” F093% â€” ED92% â€” EB91% â€” E890% â€” E689% â€” E388% â€” E087% â€” DE86% â€” DB85% â€” D984% â€” D683% â€” D482% â€” D181% â€” CF80% â€” CC79% â€” C978% â€” C777% â€” C476% â€” C275% â€” BF74% â€” BD73% â€” BA72% â€” B871% â€” B570% â€” B369% â€” B068% â€” AD67% â€” AB66% â€” A865% â€” A664% â€” A363% â€” A162% â€” 9E61% â€” 9C60% â€” 9959% â€” 9658% â€” 9457% â€” 9156% â€” 8F55% â€” 8C54% â€” 8A53% â€” 8752% â€” 8551% â€” 8250% â€” 8049% â€” 7D48% â€” 7A47% â€” 7846% â€” 7545% â€” 7344% â€” 7043% â€” 6E42% â€” 6B41% â€” 6940% â€” 6639% â€” 6338% â€” 6137% â€” 5E36% â€” 5C35% â€” 5934% â€” 5733% â€” 5432% â€” 5231% â€” 4F30% â€” 4D29% â€” 4A28% â€” 4727% â€” 4526% â€” 4225% â€” 4024% â€” 3D23% â€” 3B22% â€” 3821% â€” 3620% â€” 3319% â€” 3018% â€” 2E17% â€” 2B16% â€” 2915% â€” 2614% â€” 2413% â€” 2112% â€” 1F11% â€” 1C10% â€” 1A9% â€” 178% â€” 147% â€” 126% â€” 0F5% â€” 0D4% â€” 0A3% â€” 082% â€” 051% â€” 030% â€” 00 éƒ¨åˆ†16è¿›åˆ¶é€æ˜åº¦ 12345678910111213141516171819202122ä¸é€æ˜åº¦ 16è¿›åˆ¶å€¼100% FF95% F290% E685% D980% CC75% BF70% B365% A660% 9955% 8C50% 8045% 7340% 6635% 5930% 4D25% 4020% 3315% 2610% 1A5% 0D0% 00 Android Material Design å­—ä½“é¢œè‰²é€æ˜åº¦ 1234567100%: FF87%: DE70%: B354%: 8A50%: 8038%: 6112%: 1F å„ä¸ªé¢œè‰²æ•°å€¼ 1234&lt;!-- 0 Black é»‘è‰² --&gt;&lt;color name="Black"&gt;#000000&lt;/color&gt;&lt;!-- 0 White ç™½è‰² --&gt;&lt;color name="White"&gt;#FFFFFF&lt;/color&gt; 1234567891011&lt;!-- 1 Grey ç°è‰² --&gt;&lt;color name="Grey_50"&gt;#FAFAFA&lt;/color&gt;&lt;color name="Grey_100"&gt;#F5F5F5&lt;/color&gt;&lt;color name="Grey_200"&gt;#EEEEEE&lt;/color&gt;&lt;color name="Grey_300"&gt;#E0E0E0&lt;/color&gt;&lt;color name="Grey_400"&gt;#BDBDBD&lt;/color&gt;&lt;color name="Grey_500_bar"&gt;#9E9E9E&lt;/color&gt;&lt;color name="Grey_600"&gt;#757575&lt;/color&gt;&lt;color name="Grey_700"&gt;#616161&lt;/color&gt;&lt;color name="Grey_800"&gt;#424242&lt;/color&gt;&lt;color name="Grey_900"&gt;#212121&lt;/color&gt; 1234567891011&lt;!-- 2 Blue Grey è“ç°è‰²--&gt;&lt;color name="Blue_Grey_50"&gt;#FAFAFA&lt;/color&gt;&lt;color name="Blue_Grey_100"&gt;#CFD8DC&lt;/color&gt;&lt;color name="Blue_Grey_200"&gt;#B0BEC5&lt;/color&gt;&lt;color name="Blue_Grey_300"&gt;#90A4AE&lt;/color&gt;&lt;color name="Blue_Grey_400"&gt;#78909C&lt;/color&gt;&lt;color name="Blue_Grey_500_bar"&gt;#607D8B&lt;/color&gt;&lt;color name="Blue_Grey_600"&gt;#546E7A&lt;/color&gt;&lt;color name="Blue_Grey_700"&gt;#455A64&lt;/color&gt;&lt;color name="Blue_Grey_800"&gt;#37474F&lt;/color&gt;&lt;color name="Blue_Grey_900"&gt;#263238&lt;/color&gt; 123456789101112131415&lt;!-- 3 Red çº¢è‰²--&gt;&lt;color name="r_50"&gt;#FFEBEE&lt;/color&gt;&lt;color name="r_100"&gt;#FFCDD2&lt;/color&gt;&lt;color name="r_200"&gt;#EF9A9A&lt;/color&gt;&lt;color name="r_300"&gt;#E57373&lt;/color&gt;&lt;color name="r_400"&gt;#EF5350&lt;/color&gt;&lt;color name="r_500_bar"&gt;#F44336&lt;/color&gt;&lt;color name="r_600"&gt;#E53935&lt;/color&gt;&lt;color name="r_700"&gt;#D32F2F&lt;/color&gt;&lt;color name="r_800"&gt;#C62828&lt;/color&gt;&lt;color name="r_900"&gt;#B71C1C&lt;/color&gt;&lt;color name="r_a100"&gt;#FF8A80&lt;/color&gt;&lt;color name="r_a200"&gt;#FF5252&lt;/color&gt;&lt;color name="r_a400"&gt;#FF1744&lt;/color&gt;&lt;color name="r_a700"&gt;#D50000&lt;/color&gt; 123456789101112131415&lt;!-- 4 Pink ç²‰è‰²--&gt;&lt;color name="p_50"&gt;#FCE4EC&lt;/color&gt;&lt;color name="p_100"&gt;#F8BBD0&lt;/color&gt;&lt;color name="p_200"&gt;#F48FB1&lt;/color&gt;&lt;color name="p_300"&gt;#F06292&lt;/color&gt;&lt;color name="p_400"&gt;#EC407A&lt;/color&gt;&lt;color name="p_500_bar"&gt;#E91E63&lt;/color&gt;&lt;color name="p_600"&gt;#D81B60&lt;/color&gt;&lt;color name="p_700"&gt;#C2185B&lt;/color&gt;&lt;color name="p_800"&gt;#AD1457&lt;/color&gt;&lt;color name="p_900"&gt;#880E4F&lt;/color&gt;&lt;color name="p_a100"&gt;#FF80AB&lt;/color&gt;&lt;color name="p_a200"&gt;#FF4081&lt;/color&gt;&lt;color name="p_a400"&gt;#F50057&lt;/color&gt;&lt;color name="p_a700"&gt;#C51162&lt;/color&gt; 123456789101112131415&lt;!-- 5 Purple ç´«è‰²--&gt;&lt;color name="pur_50"&gt;#F3E5F5&lt;/color&gt;&lt;color name="pur_100"&gt;#E1BEE7&lt;/color&gt;&lt;color name="pur_200"&gt;#CE93D8&lt;/color&gt;&lt;color name="pur_300"&gt;#BA68C8&lt;/color&gt;&lt;color name="pur_400"&gt;#AB47BC&lt;/color&gt;&lt;color name="pur_500_bar"&gt;#9C27B0&lt;/color&gt;&lt;color name="pur_600"&gt;#8E24AA&lt;/color&gt;&lt;color name="pur_700"&gt;#7B1FA2&lt;/color&gt;&lt;color name="pur_800"&gt;#6A1B9A&lt;/color&gt;&lt;color name="pur_900"&gt;#4A148C&lt;/color&gt;&lt;color name="pur_a100"&gt;#EA80FC&lt;/color&gt;&lt;color name="pur_a200"&gt;#E040FB&lt;/color&gt;&lt;color name="pur_a400"&gt;#D500F9&lt;/color&gt;&lt;color name="pur_a700"&gt;#AA00FF&lt;/color&gt; 123456789101112131415&lt;!-- 6 Deep Purple æ·±ç´«è‰²--&gt;&lt;color name="deep_pur_50"&gt;#EDE7F6&lt;/color&gt;&lt;color name="deep_pur_100"&gt;#D1C4E9&lt;/color&gt;&lt;color name="deep_pur_200"&gt;#B39DDB&lt;/color&gt;&lt;color name="deep_pur_300"&gt;#9575CD&lt;/color&gt;&lt;color name="deep_pur_400"&gt;#7E57C2&lt;/color&gt;&lt;color name="deep_pur_500_bar"&gt;#673AB7&lt;/color&gt;&lt;color name="deep_pur_600"&gt;#5E35B1&lt;/color&gt;&lt;color name="deep_pur_700"&gt;#512DA8&lt;/color&gt;&lt;color name="deep_pur_800"&gt;#4527A0&lt;/color&gt;&lt;color name="deep_pur_900"&gt;#311B92&lt;/color&gt;&lt;color name="deep_pur_a100"&gt;#B388FF&lt;/color&gt;&lt;color name="deep_pur_a200"&gt;#7C4DFF&lt;/color&gt;&lt;color name="deep_pur_a400"&gt;#651FFF&lt;/color&gt;&lt;color name="deep_pur_a700"&gt;#6200EA&lt;/color&gt; 123456789101112131415&lt;!-- 7 Indigo é›è“è‰² --&gt;&lt;color name="Indigo_50"&gt;#E8EAF6&lt;/color&gt;&lt;color name="Indigo_100"&gt;#C5CAE9&lt;/color&gt;&lt;color name="Indigo_200"&gt;#9FA8DA&lt;/color&gt;&lt;color name="Indigo_300"&gt;#7986CB&lt;/color&gt;&lt;color name="Indigo_400"&gt;#5C6BC0&lt;/color&gt;&lt;color name="Indigo_500_bar"&gt;#3F51B5&lt;/color&gt;&lt;color name="Indigo_600"&gt;#3949AB&lt;/color&gt;&lt;color name="Indigo_700"&gt;#303F9F&lt;/color&gt;&lt;color name="Indigo_800"&gt;#283593&lt;/color&gt;&lt;color name="Indigo_900"&gt;#1A237E&lt;/color&gt;&lt;color name="Indigo_a100"&gt;#8C9EFF&lt;/color&gt;&lt;color name="Indigo_a200"&gt;#536DFE&lt;/color&gt;&lt;color name="Indigo_a400"&gt;#3D5AFE&lt;/color&gt;&lt;color name="Indigo_a700"&gt;#304FFE&lt;/color&gt; 123456789101112131415&lt;!-- 8 Blue è“è‰² --&gt;&lt;color name="Blue_50"&gt;#E3F2FD&lt;/color&gt;&lt;color name="Blue_100"&gt;#BBDEFB&lt;/color&gt;&lt;color name="Blue_200"&gt;#90CAF9&lt;/color&gt;&lt;color name="Blue_300"&gt;#64B5F6&lt;/color&gt;&lt;color name="Blue_400"&gt;#42A5F5&lt;/color&gt;&lt;color name="Blue_500_bar"&gt;#2196F3&lt;/color&gt;&lt;color name="Blue_600"&gt;#1E88E5&lt;/color&gt;&lt;color name="Blue_700"&gt;#1976D2&lt;/color&gt;&lt;color name="Blue_800"&gt;#1565C0&lt;/color&gt;&lt;color name="Blue_900"&gt;#0D47A1&lt;/color&gt;&lt;color name="Blue_a100"&gt;#82B1FF&lt;/color&gt;&lt;color name="Blue_a200"&gt;#448AFF&lt;/color&gt;&lt;color name="Blue_a400"&gt;#2979FF&lt;/color&gt;&lt;color name="Blue_a700"&gt;#2962FF&lt;/color&gt; 123456789101112131415&lt;!-- 9 Light Blue äº®è“è‰²--&gt;&lt;color name="Light_Blue_50"&gt;#E1F5FE&lt;/color&gt;&lt;color name="Light_Blue_100"&gt;#B3E5FC&lt;/color&gt;&lt;color name="Light_Blue_200"&gt;#81D4FA&lt;/color&gt;&lt;color name="Light_Blue_300"&gt;#4FC3F7&lt;/color&gt;&lt;color name="Light_Blue_400"&gt;#29B6F6&lt;/color&gt;&lt;color name="Light_Blue_500_bar"&gt;#03A9F4&lt;/color&gt;&lt;color name="Light_Blue_600"&gt;#039BE5&lt;/color&gt;&lt;color name="Light_Blue_700"&gt;#0288D1&lt;/color&gt;&lt;color name="Light_Blue_800"&gt;#0277BD&lt;/color&gt;&lt;color name="Light_Blue_900"&gt;#01579B&lt;/color&gt;&lt;color name="Light_Blue_a100"&gt;#80D8FF&lt;/color&gt;&lt;color name="Light_Blue_a200"&gt;#40C4FF&lt;/color&gt;&lt;color name="Light_Blue_a400"&gt;#00B0FF&lt;/color&gt;&lt;color name="Light_Blue_a700"&gt;#0091EA&lt;/color&gt; 123456789101112131415&lt;!-- 10 Cyan é’è‰² --&gt;&lt;color name="Cyan_50"&gt;#E0F7FA&lt;/color&gt;&lt;color name="Cyan_100"&gt;#B2EBF2&lt;/color&gt;&lt;color name="Cyan_200"&gt;#80DEEA&lt;/color&gt;&lt;color name="Cyan_300"&gt;#4DD0E1&lt;/color&gt;&lt;color name="Cyan_400"&gt;#26C6DA&lt;/color&gt;&lt;color name="Cyan_500_bar"&gt;#00BCD4&lt;/color&gt;&lt;color name="Cyan_600"&gt;#00ACC1&lt;/color&gt;&lt;color name="Cyan_700"&gt;#0097A7&lt;/color&gt;&lt;color name="Cyan_800"&gt;#00838F&lt;/color&gt;&lt;color name="Cyan_900"&gt;#006064&lt;/color&gt;&lt;color name="Cyan_a100"&gt;#84FFFF&lt;/color&gt;&lt;color name="Cyan_a200"&gt;#18FFFF&lt;/color&gt;&lt;color name="Cyan_a400"&gt;#00E5FF&lt;/color&gt;&lt;color name="Cyan_a700"&gt;#00B8D4&lt;/color&gt; 123456789101112131415&lt;!-- 11 Teal è“ç»¿è‰² --&gt;&lt;color name="Teal_50"&gt;#E0F2F1&lt;/color&gt;&lt;color name="Teal_100"&gt;#B2DFDB&lt;/color&gt;&lt;color name="Teal_200"&gt;#80CBC4&lt;/color&gt;&lt;color name="Teal_300"&gt;#4DB6AC&lt;/color&gt;&lt;color name="Teal_400"&gt;#26A69A&lt;/color&gt;&lt;color name="Teal_500_bar"&gt;#009688&lt;/color&gt;&lt;color name="Teal_600"&gt;#00897B&lt;/color&gt;&lt;color name="Teal_700"&gt;#00796B&lt;/color&gt;&lt;color name="Teal_800"&gt;#00695C&lt;/color&gt;&lt;color name="Teal_900"&gt;#004D40&lt;/color&gt;&lt;color name="Teal_a100"&gt;#A7FFEB&lt;/color&gt;&lt;color name="Teal_a200"&gt;#64FFDA&lt;/color&gt;&lt;color name="Teal_a400"&gt;#1DE9B6&lt;/color&gt;&lt;color name="Teal_a700"&gt;#00BFA5&lt;/color&gt; 123456789101112131415&lt;!-- 12 Green ç»¿è‰² --&gt;&lt;color name="Green_50"&gt;#E8F5E9&lt;/color&gt;&lt;color name="Green_100"&gt;#C8E6C9&lt;/color&gt;&lt;color name="Green_200"&gt;#A5D6A7&lt;/color&gt;&lt;color name="Green_300"&gt;#81C784&lt;/color&gt;&lt;color name="Green_400"&gt;#66BB6A&lt;/color&gt;&lt;color name="Green_500_bar"&gt;#4CAF50&lt;/color&gt;&lt;color name="Green_600"&gt;#43A047&lt;/color&gt;&lt;color name="Green_700"&gt;#388E3C&lt;/color&gt;&lt;color name="Green_800"&gt;#2E7D32&lt;/color&gt;&lt;color name="Green_900"&gt;#1B5E20&lt;/color&gt;&lt;color name="Green_a100"&gt;#B9F6CA&lt;/color&gt;&lt;color name="Green_a200"&gt;#69F0AE&lt;/color&gt;&lt;color name="Green_a400"&gt;#00E676&lt;/color&gt;&lt;color name="Green_a700"&gt;#00C853&lt;/color&gt; 123456789101112131415&lt;!-- 13 Light Green äº®ç»¿è‰²--&gt;&lt;color name="Light_Green_50"&gt;#F1F8E9&lt;/color&gt;&lt;color name="Light_Green_100"&gt;#DCEDC8&lt;/color&gt;&lt;color name="Light_Green_200"&gt;#C5E1A5&lt;/color&gt;&lt;color name="Light_Green_300"&gt;#AED581&lt;/color&gt;&lt;color name="Light_Green_400"&gt;#9CCC65&lt;/color&gt;&lt;color name="Light_Green_500_bar"&gt;#8BC34A&lt;/color&gt;&lt;color name="Light_Green_600"&gt;#7CB342&lt;/color&gt;&lt;color name="Light_Green_700"&gt;#689F38&lt;/color&gt;&lt;color name="Light_Green_800"&gt;#558B2F&lt;/color&gt;&lt;color name="Light_Green_900"&gt;#33691E&lt;/color&gt;&lt;color name="Light_Green_a100"&gt;#CCFF90&lt;/color&gt;&lt;color name="Light_Green_a200"&gt;#B2FF59&lt;/color&gt;&lt;color name="Light_Green_a400"&gt;#76FF03&lt;/color&gt;&lt;color name="Light_Green_a700"&gt;#64DD17&lt;/color&gt; 123456789101112131415&lt;!-- 14 Lime é…¸æ©™æ±é¥®æ–™ --&gt;&lt;color name="Lime_50"&gt;#F9FBE7&lt;/color&gt;&lt;color name="Lime_100"&gt;#F0F4C3&lt;/color&gt;&lt;color name="Lime_200"&gt;#E6EE9C&lt;/color&gt;&lt;color name="Lime_300"&gt;#DCE775&lt;/color&gt;&lt;color name="Lime_400"&gt;#D4E157&lt;/color&gt;&lt;color name="Lime_500_bar"&gt;#CDDC39&lt;/color&gt;&lt;color name="Lime_600"&gt;#C0CA33&lt;/color&gt;&lt;color name="Lime_700"&gt;#AFB42B&lt;/color&gt;&lt;color name="Lime_800"&gt;#9E9D24&lt;/color&gt;&lt;color name="Lime_900"&gt;#827717&lt;/color&gt;&lt;color name="Lime_a100"&gt;#F4FF81&lt;/color&gt;&lt;color name="Lime_a200"&gt;#EEFF41&lt;/color&gt;&lt;color name="Lime_a400"&gt;#C6FF00&lt;/color&gt;&lt;color name="Lime_a700"&gt;#AEEA00&lt;/color&gt; 123456789101112131415 &lt;!-- 15 Yellow é»„è‰² --&gt;&lt;color name="Yellow_50"&gt;#FFFDE7&lt;/color&gt;&lt;color name="Yellow_100"&gt;#FFF9C4&lt;/color&gt;&lt;color name="Yellow_200"&gt;#FFF59D&lt;/color&gt;&lt;color name="Yellow_300"&gt;#FFF176&lt;/color&gt;&lt;color name="Yellow_400"&gt;#FFEE58&lt;/color&gt;&lt;color name="Yellow_500_bar"&gt;#FFEB3B&lt;/color&gt;&lt;color name="Yellow_600"&gt;#FDD835&lt;/color&gt;&lt;color name="Yellow_700"&gt;#FBC02D&lt;/color&gt;&lt;color name="Yellow_800"&gt;#F9A825&lt;/color&gt;&lt;color name="Yellow_900"&gt;#F57F17&lt;/color&gt;&lt;color name="Yellow_a100"&gt;#FFFF8D&lt;/color&gt;&lt;color name="Yellow_a200"&gt;#FFFF00&lt;/color&gt;&lt;color name="Yellow_a400"&gt;#FFEA00&lt;/color&gt;&lt;color name="Yellow_a700"&gt;#FFD600&lt;/color&gt; 123456789101112131415&lt;!-- 16 Amber ç¥ç€è‰²--&gt;&lt;color name="Amber_50"&gt;#FFF8E1&lt;/color&gt;&lt;color name="Amber_100"&gt;#FFECB3&lt;/color&gt;&lt;color name="Amber_200"&gt;#FFE082&lt;/color&gt;&lt;color name="Amber_300"&gt;#FFD54F&lt;/color&gt;&lt;color name="Amber_400"&gt;#FFCA28&lt;/color&gt;&lt;color name="Amber500_bar"&gt;#FFC107&lt;/color&gt;&lt;color name="Amber_600"&gt;#FFB300&lt;/color&gt;&lt;color name="Amber_700"&gt;#FFA000&lt;/color&gt;&lt;color name="Amber_800"&gt;#FF8F00&lt;/color&gt;&lt;color name="Amber_900"&gt;#FF6F00&lt;/color&gt;&lt;color name="Amber_a100"&gt;#FFE57F&lt;/color&gt;&lt;color name="Amber_a200"&gt;#FFD740&lt;/color&gt;&lt;color name="Amber_a400"&gt;#FFC400&lt;/color&gt;&lt;color name="Amber_a700"&gt;#FFAB00&lt;/color&gt; 123456789101112131415&lt;!-- 17 Orange æ©˜é»„è‰²--&gt;&lt;color name="Orange_50"&gt;#FFF3E0&lt;/color&gt;&lt;color name="Orange_100"&gt;#FFE0B2&lt;/color&gt;&lt;color name="Orange_200"&gt;#FFCC80&lt;/color&gt;&lt;color name="Orange_300"&gt;#FFB74D&lt;/color&gt;&lt;color name="Orange_400"&gt;#FFA726&lt;/color&gt;&lt;color name="Orange_500_bar"&gt;#FF9800&lt;/color&gt;&lt;color name="Orange_600"&gt;#FB8C00&lt;/color&gt;&lt;color name="Orange_700"&gt;#F57C00&lt;/color&gt;&lt;color name="Orange_800"&gt;#EF6C00&lt;/color&gt;&lt;color name="Orange_900"&gt;#E65100&lt;/color&gt;&lt;color name="Orange_a100"&gt;#FFD180&lt;/color&gt;&lt;color name="Orange_a200"&gt;#FFAB40&lt;/color&gt;&lt;color name="Orange_a400"&gt;#FF9100&lt;/color&gt;&lt;color name="Orange_a700"&gt;#FF6D00&lt;/color&gt; 123456789101112131415&lt;!-- 18 Deep Orange æ·±æ©˜é»„è‰²--&gt;&lt;color name="Deep_Orange_50"&gt;#FBE9E7&lt;/color&gt;&lt;color name="Deep_Orange_100"&gt;#FFCCBC&lt;/color&gt;&lt;color name="Deep_Orange_200"&gt;#FFAB91&lt;/color&gt;&lt;color name="Deep_Orange_300"&gt;#FF8A65&lt;/color&gt;&lt;color name="Deep_Orange_400"&gt;#FF7043&lt;/color&gt;&lt;color name="Deep_Orange_500_bar"&gt;#FF5722&lt;/color&gt;&lt;color name="Deep_Orange_600"&gt;#F4511E&lt;/color&gt;&lt;color name="Deep_Orange_700"&gt;#E64A19&lt;/color&gt;&lt;color name="Deep_Orange_800"&gt;#D84315&lt;/color&gt;&lt;color name="Deep_Orange_900"&gt;#BF360C&lt;/color&gt;&lt;color name="Deep_Orange_a100"&gt;#FF9E80&lt;/color&gt;&lt;color name="Deep_Orange_a200"&gt;#FF6E40&lt;/color&gt;&lt;color name="Deep_Orange_a400"&gt;#FF3D00&lt;/color&gt;&lt;color name="Deep_Orange_a700"&gt;#DD2C00&lt;/color&gt; 1234567891011&lt;!-- 19 Brown æ£•è‰²--&gt;&lt;color name="Brown_50"&gt;#EFEBE9&lt;/color&gt;&lt;color name="Brown_100"&gt;#D7CCC8&lt;/color&gt;&lt;color name="Brown_200"&gt;#BCAAA4&lt;/color&gt;&lt;color name="Brown_300"&gt;#A1887F&lt;/color&gt;&lt;color name="Brown_400"&gt;#8D6E63&lt;/color&gt;&lt;color name="Brown_500_bar"&gt;#795548&lt;/color&gt;&lt;color name="Brown_600"&gt;#6D4C41&lt;/color&gt;&lt;color name="Brown_700"&gt;#5D4037&lt;/color&gt;&lt;color name="Brown_800"&gt;#4E342E&lt;/color&gt;&lt;color name="Brown_900"&gt;#3E2723&lt;/color&gt;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>èµ„æºæ–‡ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Sutdio ä½¿ç”¨å¿«äººä¸€æ­¥1 æ’ä»¶é…ç½®]]></title>
    <url>%2FAndroid%20Studio%E4%BD%BF%E7%94%A8%E5%BF%AB%E4%BA%BA%E4%B8%80%E6%AD%A51%20%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ä»Šæ—¥æ„Ÿæ‚Ÿï¼Œå†™åœ¨å‰é¢ï¼š æ”¾æ‰‹æ— å…³ç´§è¦ï¼Œç²¾äºæ”»åšå…‹éš¾ã€‚ ä¸€ã€Android Studio 3.0 - Android Profileråˆ†æå™¨ å‚è€ƒï¼šhttp://blog.csdn.net/niubitianping/article/details/72617864Android Studio 3.0 æ–°ç‰¹æ€§ï¼šhttp://blog.csdn.net/niubitianping/article/details/72600923 äºŒã€Android Studio å®˜æ–¹ç”¨æˆ·æŒ‡å— https://developer.android.google.cn/studio/intro/index.html ä¸‰ã€ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„3ä¸ªå¿«æ·é”®ï¼š âŒ˜ + nï¼šå„ç§è‡ªåŠ¨ç”Ÿæˆã€‚ ï¼ˆcontrolï¼‰âŒƒ + t å„ä½çœ‹å®˜è‡ªå·±ç§ç§ï¼š ï¼ˆshiftï¼‰â‡§ + ï¼ˆcontrolï¼‰âŒƒ + ï¼ˆenterï¼‰ â è¡¥å……å¿«æ·é”® å››ã€æ’ä»¶æ’ä»¶å®‰è£…ä½ç½®ï¼šAndroid Studio -&gt; Preferences -&gt; Pluginsã€‚å¿«æ·é”®ï¼šâŒ˜ + ,æ•²å‡ºâŒ˜ï¼šâŒƒ + âŒ˜ + spaceï¼Œä¹‹åè¿›è¡Œé€‰æ‹© 1. ä»£ç è§„èŒƒ - Alibaba Java Coding Guidelinesé˜¿é‡Œå·´å·´Javaå¼€å‘è§„çº¦çš„æ’ä»¶ã€‚å®‰è£…ååœ¨Android Studioæ˜¾ç¤ºä¸ºï¼šå¯é€‰æ‹©å®æ—¶ç›‘æµ‹ï¼Œä¹Ÿå¯ä»¥å…³é—­æ£€æµ‹ã€‚ 2. çœŸæœºæ— çº¿è°ƒè¯• - Android WiFi ADBé€šè¿‡WIFIè¿æ¥æ‰‹æœºå’Œç”µè„‘ã€‚æ•°æ®çº¿æ’å…¥ä½ çš„æ‰‹æœºï¼Œç„¶åç‚¹å‡»Connectï¼Œæ˜¾ç¤ºState = Connectåæ‹”æ‰æ•°æ®çº¿å³å¯ã€‚ 3. å¸ƒå±€æ–‡ä»¶åˆ†ç»„çš„æ’ä»¶ - folding-pluginå›¾ç‰‡æ¥è‡ªç½‘ç»œ 4. Viewæ³¨è§£ç»‘å®š - Android ButterKnife ZeleznyButterKnifeæ˜¯ä¸€ä¸ªä¸“æ³¨äºAndroidç³»ç»Ÿçš„Viewæ³¨å…¥æ¡†æ¶,å¯ä»¥å‡å°‘å¤§é‡çš„findViewByIdä»¥åŠsetOnClickListenerä»£ç ï¼Œå¯è§†åŒ–ä¸€é”®ç”Ÿæˆã€‚å¿«æ·é”®ï¼šâŒ˜ + nä½¿ç”¨æ—¶å¿…é¡»è¦å°†å…‰æ ‡æ‚¬æµ®äº activity_mainä¹‹ä¸Šæ‰èƒ½æœ‰æ•ˆã€‚ 4.1 æ§ä»¶çš„ç‚¹å‡»äº‹ä»¶å¼‚å¸¸æ—¶ åªæ˜¯åœ¨Javaä»£ç ä¸­å†™æ˜äº†æ–¹æ³•ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åœ¨XMLä»£ç ä¸­ä½¿ç”¨onClick=&quot;&quot;æ¥æè¿°æ­¤æ–¹æ³• åœ¨Javaä»£ç ä¸­åªæ˜¯å£°æ˜äº†æ–¹æ³•ï¼Œå½“æ—¶å¹¶æ²¡æœ‰åœ¨æ–¹æ³•ä¸­å£°æ˜å‚æ•°ï¼š(View view)ã€‚å¦‚æœä¸å†™æ­¤å‚æ•°ï¼Œå°†ä¼šå¯¼è‡´åœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œæ‰¾ä¸åˆ°Viewä¸­çš„ æŒ‡å®šid å€¼ã€‚ 4.2 ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼š Android Studio3.0ä¹‹å‰ åœ¨ appæ¨¡å— çš„ gradle ç¼–è¯‘æ–‡ä»¶ build.gradle åŠ å…¥ä¸‹åˆ—ä»£ç ï¼š apply plugin: &apos;com.neenbedankt.android-apt&apos; åœ¨ appæ¨¡å— çš„ gradle ç¼–è¯‘æ–‡ä»¶ build.gradle ä¸­çš„ dependenciesä¸­åŠ å…¥ apt &apos;com.jakewharton:butterknife-compiler:8.0.1&apos; compile &apos;com.jakewharton:butfe:8.0.1&apos; åœ¨ é¡¹ç›® çš„ gradle ç¼–è¯‘æ–‡ä»¶ build.gradle æ–‡ä»¶ï¼Œåœ¨ dependencies ä¸­åŠ å…¥ classpath &apos;com.neenbedankt.gradle.plugins:android-apt:1.8&apos; Android Studio3.0 åœ¨ appæ¨¡å— çš„ gradle ä¸­çš„ dependenciesä¸­åŠ å…¥ compile &apos;com.jakewharton:butterknife:8.8.1&apos; annotationProcessor &apos;com.jakewharton:butterknife-compiler:8.8.1&apos; 5. èµ„æºæ–‡ä»¶çŠ¶æ€ç”Ÿæˆ - SelectorChapek for Androidé€šè¿‡èµ„æºæ–‡ä»¶å‘½åè‡ªåŠ¨ç”ŸæˆSelectoræ–‡ä»¶ã€‚ 6. ViewHolderä»£ç è‡ªåŠ¨ç”Ÿæˆ - AndroidCodeGeneratoråœ¨ res/layout/æ–‡ä»¶å¤¹ä¸‹é€‰æ‹©ä½ é€‚é…å™¨çš„item layoutçš„å¸ƒå±€æ–‡ä»¶ï¼Œç„¶åå³é”®ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š é€‰æ‹©å…¶ä¸­ä¸€é¡¹ä¹‹åï¼Œä¼šå¼¹å‡ºä¸€ä¸ªçª—å£ï¼Œåœ¨è¿™ä¸ªçª—å£å·²ç»æ ¹æ®itemå¸ƒå±€æ–‡ä»¶é»˜è®¤ç”Ÿæˆäº†ä¸€ä¸ªé€‚é…å™¨ç±»ï¼Œä½ æ‰€è¦åšçš„å°±æ˜¯æ ¹æ®è‡ªå·±çš„å®é™…éœ€æ±‚è¿›è¡Œä¿®æ”¹ã€‚ 7. è‡ªåŠ¨findViewById() - Prettifyæ®Layoutè‡ªåŠ¨ç”ŸæˆfindViewByIdã€‚ä½¿ç”¨æ–¹å¼åŒButterKnifeå¿«æ·é”®ï¼šâŒ˜ + n åé€‰æ‹© View Variables æˆ–è€… View FieldsåŒºåˆ«ï¼š å‰è€…View Variablesç”Ÿæˆçš„æ˜¯ç§æœ‰å˜é‡ åè€… View Fieldsç”Ÿæˆçš„æ˜¯æˆå‘˜å˜é‡ 8. è‡ªåŠ¨ç”Ÿæˆstyleä»£ç  - Android Stylerå¿«æ·é”®ï¼šâ‡§ + âŒ˜ + dæ•ˆæœå¦‚å›¾ï¼š 9. ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä½ç½®æ’åº - Lifecycle Sorteræ ¹æ®Activityæˆ–è€…fragmentçš„ç”Ÿå‘½å‘¨æœŸå¯¹å…¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä½ç½®è¿›è¡Œå…ˆåæ’åºã€‚å¿«æ·é”® âŒ˜ + âŒ¥ + K 10. å…³äºJsonæ•°æ®10.1 Jsonæ•°æ® -&gt; javaå¯¹è±¡ ï¼šGsonFormatGsonFormatæ˜¯ä¸€ä¸ªå¿«é€Ÿæ ¼å¼åŒ–jsonæ•°æ®ï¼Œè‡ªåŠ¨ç”Ÿæˆå®ä½“ç±»å‚æ•°çš„æ’ä»¶ã€‚å¿«æ·é”®ï¼šâŒ˜ + n åé€‰æ‹© GsonFormatã€‚ 10.2 Javaå¯¹è±¡ -&gt; jsonæ ¼å¼æ•°æ® ï¼šJavaåº“ï¼šGson å‚è€ƒï¼šhttp://blog.csdn.net/oQiHaoGongYuan/article/details/50944755 æ·»åŠ gsonåº“ï¼š é¦–å…ˆï¼Œåœ¨è‡ªå·±çš„android studioçš„é¡¹ç›®ä¸­æŠŠgsonåº“æ·»åŠ è¿›æ¥ï¼Œå³é”® app é€‰æ‹© open module settings é€‰æ‹©å½“å‰ Moduleï¼Œç„¶åç‚¹å‡» Dependencies,åœ¨ç‚¹å‡»3æ­¥ä¸­çš„Library dependencyï¼ˆä¾èµ–çš„åº“ï¼‰ åœ¨1æ‰€æŒ‡çš„å¼¹å‡ºçš„æ”¶ç´¢æ¡†ä¸­æ”¶ç´¢gsonï¼Œç„¶åç‚¹å‡»2 æ‰€æŒ‡çš„æ”¶ç´¢ï¼Œç„¶åä¸‹é¢å°±ä¼šå‡ºç°æœ€æ–°çš„gsonåº“ï¼Œç‚¹å‡»OK ç‚¹å‡»ä¸Šå›¾OKåï¼Œgsonåº“å°±å‡ºç°åœ¨äº†dependencyä¸­äº†ï¼Œè¿™ä¸ªæ—¶å€™è¿˜å¾—ç‚¹å‡» 2æ‰€æŒ‡çš„OKï¼ˆç¡®è®¤ï¼‰æŒ‰é’®ã€‚ æœ€åæŸ¥çœ‹build.gradleä¸­çœ‹çœ‹gsonåº“æœ‰æ²¡æœ‰æ·»åŠ æˆåŠŸï¼Œå¦‚ä¸‹å›¾2æ‰€æŒ‡çš„åœ°æ–¹ï¼Œç°åœ¨å¯ä»¥çœ‹åˆ°googleå®˜æ–¹çš„gsonåº“å°±æ·»åŠ åˆ°äº†é¡¹ç›®ä¸­æ¥ã€‚ ä½¿ç”¨gsonæŠŠJavaå¯¹è±¡è½¬åŒ–ä¸ºJsonæ ¼å¼ 12Gson gson = new Gson();gson.toJson(å¯¹è±¡); 11. Parcelableè‡ªåŠ¨ç”Ÿæˆ - ParcelableGeneratorè‡ªåŠ¨ç”ŸæˆParcelableæ¥å£æ‰€éœ€çš„ä»£ç ã€‚ Serializableçš„ä½œç”¨æ˜¯ä¸ºäº†ä¿å­˜å¯¹è±¡çš„å±æ€§åˆ°æœ¬åœ°æ–‡ä»¶ã€æ•°æ®åº“ã€ç½‘ç»œæµã€rmiä»¥æ–¹ä¾¿æ•°æ®ä¼ è¾“ï¼Œå½“ç„¶è¿™ç§ä¼ è¾“å¯ä»¥æ˜¯ç¨‹åºå†…çš„ä¹Ÿå¯ä»¥æ˜¯ä¸¤ä¸ªç¨‹åºé—´çš„ã€‚ è€ŒSerializableå¯å°†æ•°æ®æŒä¹…åŒ–æ–¹ä¾¿ä¿å­˜ï¼Œæ‰€ä»¥åœ¨éœ€è¦ä¿å­˜æˆ–ç½‘ç»œä¼ è¾“æ•°æ®æ—¶é€‰æ‹©Serializableï¼Œå› ä¸ºandroidä¸åŒç‰ˆæœ¬Parcelableå¯èƒ½ä¸åŒï¼Œæ‰€ä»¥ä¸æ¨èä½¿ç”¨Parcelableè¿›è¡Œæ•°æ®æŒä¹…åŒ–ã€‚ Androidçš„Parcelableçš„è®¾è®¡åˆè¡·æ˜¯å› ä¸ºSerializableæ•ˆç‡è¿‡æ…¢ï¼Œä¸ºäº†åœ¨ç¨‹åºå†…ä¸åŒç»„ä»¶é—´ä»¥åŠä¸åŒAndroidç¨‹åºé—´(AIDL)é«˜æ•ˆçš„ä¼ è¾“æ•°æ®è€Œè®¾è®¡ï¼Œè¿™äº›æ•°æ®ä»…åœ¨å†…å­˜ä¸­å­˜åœ¨ï¼ŒParcelableæ˜¯é€šè¿‡IBinderé€šä¿¡çš„æ¶ˆæ¯çš„è½½ä½“ã€‚ Parcelableçš„æ€§èƒ½æ¯”Serializableå¥½ï¼Œåœ¨å†…å­˜å¼€é”€æ–¹é¢è¾ƒå°ï¼Œæ‰€ä»¥åœ¨å†…å­˜é—´æ•°æ®ä¼ è¾“æ—¶æ¨èä½¿ç”¨Parcelableï¼Œå¦‚activityé—´ä¼ è¾“æ•°æ®ã€‚ å¿«æ·é”®ï¼šâŒ˜ + n 12. Android Material Design é£æ ¼å›¾æ ‡å…¨é›† - Android Material Design Icon Generatoré€šè¿‡æ­¤åº“å¯ä»¥è·å–MDé£æ ¼çš„æ‰€æœ‰å›¾æ ‡ï¼Œæ›´è®©äººæƒŠå–œçš„æ˜¯ï¼šé€‰ä¸­çš„å›¾æ ‡ä¼šè‡ªåŠ¨ç”Ÿæˆå„ç§ drawable æ–‡ä»¶å¤¹çš„å›¾æ ‡ï¼Œè€Œä¸”å¯ä»¥è‡ªå®šä¹‰é¢œè‰²ï¼Œç»å¯¹è®©äººæƒŠå–œã€‚å¿«æ·é”®ï¼šâŒ¥ + âŒ˜ + m é€‰æ‹©æŒ‡å®šå›¾æ ‡ä»¥åŠè‡ªå®šä¹‰é¢œè‰²ã€‚ 13. Androidæœ¬åœ°æ•°æ®/æ•°æ®åº“æµè§ˆå™¨æŸ¥è¯¢ã€ä¿®æ”¹ç¬¬ä¸‰æ–¹åº“å¼•å…¥ï¼šåœ¨moduleçš„gradleä¸­ debugCompile &apos;com.amitshekhar.android:debug-db:1.0.0&apos; ä½¿ç”¨ï¼š macä¸‹æŒ‰ä½âŒ˜ + å•å‡»å³å¯åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°å½“å‰Appçš„æ•°æ®ã€‚ äº”ã€ç»„åˆæŒ‡ä»¤1. è‡ªå®šä¹‰ç»„æŒ‡ä»¤å¿«æ·é”®ï¼šâŒ˜ + , åé€‰æ‹© Live TemPlatesï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š å•å‡»ä¸Šå›¾ä¸­çš„+å¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„ç»„åˆé”®é€‰æ‹©å…¶ä¸­çš„AndroidLogå³å¯è¿›è¡Œè‡ªå®šä¹‰è®¾ç½®ï¼š 2. å·²å­˜åœ¨ç»„åˆæŒ‡ä»¤2.1 Logè¾“å‡ºè‡ªå®šä¹‰ logt private static final String TAG = &quot;MainActivity &quot;; loge logi logd 2.2 å¾ªç¯ foreach for (:) {} fori for (int i = 0; i &lt; ; i++) {} itar (array) for (int i = 0; i &lt; array.length; i++) { = array[i]; } iten (enum) while (enumeration.hasMoreElements()) { Object nextElement = enumeration.nextElement(); } itit (iterator) while (iterator.hasNext()) { Object next = iterator.next(); } itli (List) for (int i = 0; i &lt; list.size(); i++) { Object o = list.get(i); } 2.3 åˆ¤å®š ifn if (savedInstanceState == null) {} inn if (savedInstanceState != null) {} lazy if (savedInstanceState == null) { savedInstanceState = new Bundle(); } lnst if (savedInstanceState instanceof Object) { Object instanceState = (Object) savedInstanceState; } 2.4 Viewç›¸å…³ gone .setVisibility(View.GONE); visible Toast Toast.makeText(this, &quot;&quot;, Toast.LENGTH_SHORT).show(); fbc () findViewById(R.id.); fixme // FIXME: 2017/10/26 todo lhm lhw 2.5 å…¨å±€ static final å˜é‡ psf public static final psfi public static final int psfs St]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Android Studio</tag>
        <tag>æ’ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HHKB é”®ä½ç»„åˆ]]></title>
    <url>%2FHHKB%20%E9%94%AE%E4%BD%8D%E7%BB%84%E5%90%88%2F</url>
    <content type="text"><![CDATA[Macç¯å¢ƒä¸‹çš„é”®ä½ç»„åˆ é”®ä½ç»„åˆ æ•ˆæœ é”®ä½ç»„åˆ æ•ˆæœ Shift + Option + Q Å’ Option + Q Å“ W â€ W âˆ‘ E Â´ E R â€° R Â® T Ë‡ T â€  Y Ã Y Â¥ U Â¨ U I Ë† I O Ã˜ O Ã¸ P âˆ P Ï€ A Ã… A Ã¥ D Ã D âˆ‚ F Ã F Æ’ G Ë G Â© H Ã“ H Ë™ J Ã” J âˆ† K ï£¿ K Ëš L Ã’ L Â¬ Z Â¸ Z Î© X Ë› X â‰ˆ C Ã‡ C Ã§ V â—Š V âˆš B Ä± B âˆ« N Ëœ N M Ã‚ M Âµ 1 â„ 1 Â¡ 2 â‚¬ 2 â„¢ 3 â€¹ 3 Â£ 4 â€º 4 Â¢ 5 ï¬ 5 âˆ 6 ï¬‚ 6 Â§ 7 â€¡ 7 Â¶ 8 Â° 8 â€¢ 9 Â· 9 Âª 0 â€š 0 Âº - â€” - â€“ = = = â‰  \ Â» \ Â« ` ` ` [ â€ [ â€œ ] â€™ ] â€˜ ; Ãš ; â€¦ â€˜ Ã† â€˜ Ã¦ , Â¯ , â‰¤ . Ë˜ . â‰¥ / Â¿ / Ã·Ã·]]></content>
      <categories>
        <category>å¤–è®¾</category>
      </categories>
      <tags>
        <tag>å¤–è®¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Macç¯å¢ƒä¸‹Hexo-GitHub-MWebæ­å»ºä¸ªäººåšå®¢]]></title>
    <url>%2FMac%E7%8E%AF%E5%A2%83%E4%B8%8BHexo-GitHub-MWeb%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[éœ€è¦çš„å·¥å…·ï¼šNode.jsã€Gitã€Hexoã€Codingï¼ˆè‡ªé€‰ï¼‰ã€MWebï¼ˆè‡ªé€‰ï¼‰ å®‰è£…Gitéé‡ç‚¹ï¼Œè‡ªè¡Œå®‰è£… Node.jséé‡ç‚¹ï¼Œè‡ªè¡Œå®‰è£… HexoæŒ‰ç…§æ­¤å‘½ä»¤è¿›è¡Œå®‰è£…Hexo$ sudo npm install -g hexo åˆå§‹åŒ–Hexoå…¶ä¸­Blog_Hexoä¸ºè‡ªå·±å»ºç«‹çš„ç›®æ ‡æ–‡ä»¶å¤¹ã€‚åªè¦æ˜¯å»ºç«‹è‡ªå·±çš„ä»»æ„ä¸€ä¸ªåšå®¢ï¼Œéƒ½å¯ä½¿ç”¨ä¸€ä¸‹æ­¥éª¤ã€‚ $ hexo init Blog_Hexo åœ¨â€œblogâ€æ–‡ä»¶å¤¹ä¸­å®‰è£…npm $ npm install æ‰§è¡Œä¸€ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ $ hexo s åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼šhttp://localhost:4000 èƒ½çœ‹åˆ°â€œHexoâ€é¡µé¢è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š å…³è”GitHubç™»å½•ä½ çš„Githubå¸å·ï¼Œæ–°å»ºä»“åº“ï¼Œåä¸ºï¼šç”¨æˆ·å.github.io ï¼Œæ­¤ä¸ºå›ºå®šå†™æ³•ã€‚åˆ›å»ºä¹‹åä¸ºï¼š åˆ›å»ºçš„Hexoæ–‡ä»¶å¤¹ä¸ºï¼š cdåˆ°Blog_Hexoæ–‡ä»¶å¤¹ä¸‹ï¼Œç¼–è¾‘_config.ymlã€‚æ³¨æ„ï¼š_config.yml æ–‡ä»¶ä¸­çš„ ï¼šåé¢è¦åŠ ä¸€ä¸ªç©ºæ ¼ 1ï¼‰è‹¥æ˜¯åªå°†åšå®¢ä¸Šä¼ è‡³GItHubä¸­ï¼Œç¼–å†™ deploy: type: git repository: https://github.com/gonghonglou/gonghonglou.github.io.git branch: master 2ï¼‰è‹¥æ˜¯å°†åšå®¢åŒæ—¶ä¸Šä¼ è‡³GItHubå’ŒCodingä¸­ï¼Œç¼–å†™ï¼š deploy: type: git repo: github: git@github.com:YannisCheng/YannisCheng.github.io.git,master coding: git@git.coding.net:yannischeng/blog.git,master åœ¨Blog_Hexoæ–‡ä»¶å¤¹ç›®å½•ä¸‹æ‰§è¡Œç”Ÿæˆé™æ€é¡µé¢å‘½ä»¤ï¼š $ hexo g æ­¤æ—¶è‹¥å‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼š ERROR Local hexo not found in ~/blog ERROR Try runing: &apos;npm install hexo --save&apos; åˆ™æ‰§è¡Œå‘½ä»¤ï¼š npm install hexo --save è‹¥æ— æŠ¥é”™ï¼Œè‡ªè¡Œå¿½ç•¥æ­¤æ­¥éª¤ã€‚å†æ‰§è¡Œé…ç½®å‘½ä»¤ï¼š $ hexo d æ‰§è¡Œå‘½ä»¤hexo deployä»ç„¶æŠ¥é”™ï¼šæ— æ³•è¿æ¥gitæˆ–æ‰¾ä¸åˆ°gitï¼Œåˆ™æ‰§è¡Œå¦‚ä¸‹å‘½ï¼š $ npm install hexo-deployer-git --save è‹¥ä½ æœªå…³è”Githubï¼Œåˆ™æ‰§è¡Œhexo deployå‘½ä»¤æ—¶ç»ˆç«¯ä¼šæç¤ºä½ è¾“å…¥Githubçš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå³ Username for &apos;https:// .github.com&apos;: Password for &apos;https:// .github.com&apos;: hexo deployå‘½ä»¤æ‰§è¡ŒæˆåŠŸåï¼Œæµè§ˆå™¨ä¸­æ‰“å¼€ç½‘å€http:// .github.io èƒ½çœ‹åˆ°å’Œæ‰“å¼€ http://localhost:4000 æ—¶ä¸€æ ·çš„é¡µé¢ã€‚ å‘å¸ƒcdåˆ°Blog_Hexoä¸­ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ–°å»ºæ–‡ç«  hexo new &quot;hello-world&quot; æ–°çš„æ–‡ä»¶å»ºç«‹ä¹‹åçš„ä½ç½®ä¸º ç¼–è¾‘ä¹‹åï¼Œåœ¨ Blog_Hexo æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ hexo generate //ç”Ÿæˆé™æ€é¡µé¢ hexo deploy //å°†æ–‡ç« éƒ¨ç½²åˆ°Github è‡³æ­¤ï¼Œå®‰è£…ç¯èŠ‚ç»“æŸï¼Œå¯ä»¥è¿›è¡ŒåŸºæœ¬çš„ä½¿ç”¨äº†ã€‚ å®‰è£…ä¸»é¢˜NexTä¸»é¢˜åœ¨Blog_Hexoç›®å½•ä¸‹æ‰§è¡Œï¼š git clone https://github.com/iissnan/hexo-theme-next themes/next å®‰è£…ä¹‹åçš„æ–‡ä»¶ä½ç½®ä¸ºï¼š å¯ç”¨ä¸»é¢˜ä¸æ‰€æœ‰ Hexo ä¸»é¢˜å¯ç”¨çš„æ¨¡å¼ä¸€æ ·ã€‚ å½“ å…‹éš†/ä¸‹è½½ å®Œæˆåï¼Œæ‰“å¼€ ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œ æ‰¾åˆ° theme å­—æ®µï¼Œå¹¶å°†å…¶å€¼æ›´æ”¹ä¸º nextã€‚ theme: next ä¿®æ”¹ä¸»é¢˜ä¸ºä¸»é¢˜å¢åŠ æ ‡ç­¾ï¼šhexo new page tags ä¸ºä¸»é¢˜ä¿®æ”¹èƒŒæ™¯ï¼šåœ¨ \themes\next\layout\_layout.swigæ–‡ä»¶çš„&lt;/body&gt;ä¸Šé¢æ·»åŠ  &lt;script type=&quot;text/javascript&quot; src=&quot;//cdn.bootcss.com/canvas-nest.js/1.0.0/ca å…·ä½“è¯¦ç»†è®¾ç½®å‚è€ƒï¼šhttps://github.com/hustcc/canvas-nest.js/blob/master/README-zh.md é—®é¢˜æ‚é›†ä¸»é¢˜ç›¸å…³hexo next5.0ä¸»é¢˜ä¸æ˜¾ç¤ºå‰¯æ ‡é¢˜æ‰“å¼€themes/next/source/css/_schemes/Mist/_logo.styl ä½ ä¼šçœ‹è§.site-subtitle { display: none; }åˆ å»æˆ–æ”¹æˆä½ æƒ³è¦çš„å³å¯ ä¸ºä¸»é¢˜ æ·»åŠ å­—æ•°ç»Ÿè®¡ã€é˜…è¯»æ—¶é•¿ã€å‹æƒ…é“¾æ¥å¼€å¯è®¾ç½®NexTä¸»é¢˜é»˜è®¤å·²ç»é›†æˆäº†æ–‡ç« ã€å­—æ•°ç»Ÿè®¡ã€‘ã€ã€é˜…è¯»æ—¶é•¿ã€‘ç»Ÿè®¡åŠŸèƒ½ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ä½¿ç”¨ï¼Œåªéœ€è¦åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶Blog\themes\next_config.ymlä¸­æ‰“å¼€wordcountç»Ÿè®¡åŠŸèƒ½å³å¯ # Post wordcount display settings # Dependencies: https://github.com/willin/hexo-wordcount post_wordcount: item_text: true wordcount: true min2read: true è‹¥åªæ˜¯æ‰“å¼€å¼€å…³ï¼Œéƒ¨ç½²ä¹‹åä¼šå‘ç°æ–‡ç« çš„ã€å­—æ•°ç»Ÿè®¡ã€‘å’Œã€é˜…è¯»æ—¶é•¿ã€‘åé¢æ²¡æœ‰å¯¹åº”çš„xxxå­—ï¼Œxxåˆ†é’Ÿç­‰å­—æ ·ã€‚ å‚è€ƒï¼šhttp://blog.csdn.net/wangxw725/article/details/71602256?utm_source=itdadao&amp;utm_medium=referral æ‰¾åˆ°Blog\themes\next\layout\_macro\post.swig æ–‡ä»¶æ³¨æ„ï¼š åœ¨æ­¤æ–‡ä¸­å‡ºç° å­—æ•°ç»Ÿè®¡çš„é…ç½®è‹±æ–‡å­—æ ·æ—¶ä¼šæŠ¥é”™ï¼ å®‰è£…ç»Ÿè®¡æ’ä»¶å¦‚æœæ²¡æœ‰å®‰è£… hexo-wordcount æ’ä»¶ï¼Œå…ˆå®‰è£…è¯¥æ’ä»¶ï¼š npm i --save hexo-wordcount Node ç‰ˆæœ¬ 7.6.0 ä¹‹å‰,è¯·å®‰è£… 2.x ç‰ˆæœ¬ (Node.js v7.6.0 and previous) ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š npm install hexo-wordcount@2 --save å®‰è£…å®Œæˆåï¼Œé‡æ–°æ‰§è¡Œå¯åŠ¨æœåŠ¡é¢„è§ˆå°±å¯ä»¥äº†ã€‚ Hexoç›¸å…³æ·»åŠ åˆ†ç±»ã€æ ‡ç­¾äº‘ã€å…³äºç­‰é¡µé¢ä»¥æ·»åŠ åˆ†ç±»é¡µé¢ä¸ºä¾‹ï¼Œåœ¨ç«™ç‚¹ç›®å½•ä¸‹ï¼Œæ‰“å¼€git bashï¼Œè¾“å…¥ hexo new page &quot;categories&quot; ä¹‹ååœ¨ç«™ç‚¹ç›®å½•ä¸‹çš„sourceæ–‡ä»¶å¤¹ä¸‹ï¼Œä¼šæ–°å¢ä¸€ä¸ªcategoriesçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªindex.mdæ–‡ä»¶ï¼Œæ‰“å¼€å¦‚ä¸‹ --- title: categories date: 2015-12-04 15:37:22 type: &quot;categories&quot; comments: false --- å…¶ä¸­ï¼Œcommentså¯ä»¥è®¾ç½®ä¸ºfalseï¼Œå«ä¹‰æ˜¯æ‰“å¼€åˆ†ç±»é¡µé¢ã€è¯„è®ºæ’ä»¶ä¸æ˜¾ç¤ºï¼›å¦‚è¦æ˜¾ç¤ºåˆ™æ”¹ä¸ºtrueã€‚tags, abouté¡µé¢çš„åˆ›å»ºç±»ä¼¼ï¼Œè¾“å…¥ hexo new page &quot;tags&quot; hexo new page &quot;about&quot; æ ‡ç­¾çš„ä½¿ç”¨ + æ–‡ç« æ¨¡æ¿--- title: Macç¯å¢ƒä¸‹Hexo-GitHub-MWebæ­å»ºä¸ªäººåšå®¢ date: 2017-10-22 23:48:37 tags: [Mac,åšå®¢] categories: åšå®¢ --- hexoè‰ç¨¿æ¨¡å¼ å‚è€ƒï¼šhttp://blog.csdn.net/wizardforcel/article/details/40684575 è‰ç¨¿æ¨¡å¼ä¸­çš„æ–‡ä»¶ä¸ä¼šå…¬å¼€æ˜¾ç¤ºï¼Œé€‚ç”¨äºï¼šæœ‰äº›æ–‡æ¡£éå¸¸é‡è¦ä½†æ˜¯åˆä¸æƒ³å…¬å¼€ã€åˆä¸æƒ³åˆ é™¤ï¼Œæ­¤æ—¶ä½¿ç”¨hexoæ¨¡å¼æœ€åˆé€‚ã€‚ä½¿ç”¨ hexo new draft &quot;Androidçƒ­ä¿®å¤&quot; æ‰§è¡Œæ­¤å‘½ä»¤ä¹‹åï¼Œä¼šåœ¨ç›¸åº”ç›®å½•ä¸‹ç”Ÿæˆç›¸å…³æ–‡ä»¶ï¼š~/HexoBLog/source/_drafts/Androidçƒ­ä¿®å¤.mdã€‚å›¾ç¤ºï¼š å¼ºè¡Œé¢„è§ˆè‰ç¨¿æ›´çˆ±é…ç½®æ–‡ä»¶ï¼š render _drafts: true é€šè¿‡æœåŠ¡é¢„è§ˆï¼š hexo server --drafts å°†è‰ç¨¿è½¬å˜ä¸ºæ­£å¼æ–‡ç« ï¼š hexo publish [layout] &lt;filename&gt;]]></content>
      <categories>
        <category>åšå®¢</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šä»£ç æ•´æ´ä¹‹é“ clean codeã€‹ç¬”è®° - 1]]></title>
    <url>%2F%E3%80%8A%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93%20clean%20code%E3%80%8B%E7%AC%94%E8%AE%B0%20-%201%2F</url>
    <content type="text"><![CDATA[ç¬¬1ç«  æ•´æ´ä»£ç è¯»æ­¤ä¹¦æœ‰ä¸¤ç§åŸå› ï¼š1.ä½ æ˜¯ä¸ªç¨‹åºå‘˜ 2.ä½ æƒ³æˆä¸ºæ›´å¥½çš„ç¨‹åºå‘˜ åŸºç¡€ä»·å€¼è°œé¢˜ï¼šå¼€å‘æœŸé™å‹åŠ›çš„æ¥æºâ€”â€”æ··ä¹±çš„ä»£ç ã€‚ è°œé¢˜çš„ç­”æ¡ˆå°±æ˜¯ï¼šå§‹ç»ˆå°½å¯èƒ½ä¿æŒä»£ç çš„æ•´æ´ã€‚ å¦‚ä½•å†™å‡ºæ•´æ´çš„ä»£ç ï¼šéµå¾ªâ€œå°æŠ€å·§â€ + â€œä»£ç æ„Ÿâ€ ç¼–ç¨‹çš„æ—¶é—´èŠ±è´¹ï¼šè¯»ï¼šå†™ = 10ï¼š1 é€šè¿‡è¯»æ—§ä»£ç  -&gt; å†™å‡ºæ–°ä»£ç  ä¿®æ”¹ä»£ç çš„åŸåˆ™ï¼šâ€œè®©è¥åœ°æ¯”ä½ æ¥çš„æ—¶å€™æ›´å¹²å‡€â€ â€”â€” ç«¥å­å†›å†›è§„ â€œæ•´æ´ä»£ç â€çš„å„ç§å®šä¹‰ï¼šï¼ˆ1ï¼‰C++å‘æ˜è€…ï¼šä¼˜é›…+é«˜æ•ˆ ä»£ç é€»è¾‘ç›´æ¥äº†å½“ï¼Œä½¿å¾—ç¼ºé™·éš¾ä»¥éšè—ï¼› å°½é‡å‡å°‘ä¾èµ–å…³ç³»ï¼Œä½¿ä¹‹ä¾¿äºç»´æŠ¤ï¼› ä¾æ®æŸç§åˆ†å±‚æˆ˜ç•¥å®Œå–„é”™è¯¯å¤„ç†ä»£ç ï¼› æ€§èƒ½è°ƒåˆ¶æœ€ä¼˜ï¼Œä½¿å¾—ä»–äººæ— æ³•ä¿®æ”¹ï¼› æ•´æ´çš„ä»£ç åªåšå¥½ä¸€ä»¶äº‹ã€‚ ï¼ˆ2ï¼‰ã€Šé¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ã€‹ä½œè€…ï¼š ä»ä¸éšè—è®¾è®¡è€…çš„æ„å›¾ï¼Œå¹²å‡€åˆ©è½çš„æŠ½è±¡+ç›´æˆªäº†å½“çš„æ§åˆ¶è¯­å¥ ï¼ˆ3ï¼‰Eclipseæ•™çˆ¶ï¼ŒOTIå…¬å¸åˆ›å§‹äººï¼š å°ä»£ç å—ï¼Œè¶Šå°è¶Šå¥½ â€”â€” â€œå•ä¸€èŒèƒ½åŸåˆ™â€ï¼› ä¾¿äºä»–äººè¿›è¡Œå¢è¡¥å’Œä¿®æ”¹ï¼› å•å…ƒ+éªŒæ”¶æµ‹è¯•ï¼› æœ‰æ„ä¹‰çš„å‘½åï¼Œè§å­—çŸ¥æ„ â€”â€” â€œå­—é¢ç¼–ç¨‹â€ï¼› åªæä¾›ä¸€ç§åšä¸€ä»¶äº‹çš„é€”å¾„+å°½é‡å‡å°‘ä¾èµ–å…³ç³»ï¼Œæ˜ç¡®çš„å®šä¹‰+æä¾›æ¸…æ™°ã€å°½é‡å°‘çš„API ï¼ˆ4ï¼‰ã€Šä¿®æ”¹ä»£ç çš„è‰ºæœ¯ã€‹ä½œè€…ï¼š æ•´æ´çš„ä»£ç æ€»æ˜¯çœ‹èµ·æ¥åƒæ˜¯æŸä½ç‰¹åˆ«åœ¨æ„ä»–çš„äººå†™çš„ï¼Œå‡ ä¹æ²¡æœ‰æ”¹è¿›çš„ä½™åœ°ã€‚ä»£ç çš„ä½œè€…ä»€ä¹ˆéƒ½æƒ³åˆ°äº†ï¼Œè‹¥æ˜¯ä¼å›¾æ”¹è¿›å®ƒï¼Œåªèƒ½æ˜¯å›åˆ°åŸç‚¹ã€‚ ï¼ˆ5ï¼‰ã€Šæé™ç¼–ç¨‹å®æ–½ã€‹ä½œè€…ï¼š èƒ½é€šè¿‡æ‰€æœ‰æµ‹è¯•ï¼› æ²¡æœ‰é‡å¤ä»£ç ï¼› ä½“ç°ç³»ç»Ÿä¸­çš„å…¨éƒ¨è®¾è®¡ç†å¿µï¼› åŒ…æ‹¬å°½é‡å°‘çš„å®ä½“ã€æ¯”å¦‚ï¼šç±»ã€æ–¹æ³•ã€å‡½æ•°ç­‰ã€‚ å¯¹è±¡åŠŸèƒ½å¤ªå¤šï¼Œå°±è¦å°†å¯¹è±¡è¿›è¡Œç»†åˆ†ï¼›æ–¹æ³•åŠŸèƒ½å¤ªå¤šï¼Œå°±è¦è¿›è¡Œâ€œæ–¹æ³•æŠ½å–â€ ï¼ˆ6ï¼‰WiKiå‘æ˜è€…ï¼Œåœ¨æ„ä»£ç è€…çš„æ•™çˆ¶ï¼š è‹¥æ¯ä¸ªä»£ç å—éƒ½èƒ½è®©ä½ æ„Ÿåˆ°æ·±åˆå·±æ„ï¼Œé‚£å°±æ˜¯ç®€æ´çš„ä»£ç ï¼› å¦‚æœä»£ç è®©ç¼–ç¨‹è¯­è¨€çœ‹èµ·æ¥å°±åƒæ˜¯ä¸“é—¨ä¸ºè§£å†³é‚£ä¸ªé—®é¢˜è€Œå­˜åœ¨çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç§°ä¹‹ä¸ºæ¼‚äº®çš„ä»£ç ã€‚ å‡å°‘é‡å¤çš„ä»£ç  + æé«˜è¡¨è¾¾åŠ› + ææ—©æ„å»ºç®€å•æŠ½è±¡]]></content>
      <categories>
        <category>é˜…è¯»ç¬”è®°</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>ä»£ç æ•´æ´ä¹‹é“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidçš„menuæ–‡ä»¶]]></title>
    <url>%2FAndroid%E7%9A%84menu%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[åœ¨Activityä¸­ä½¿ç”¨menuï¼š/** * toolbar menu çš„å›¾æ ‡ç‚¹åˆå§‹åŒ– * @param menu * @return */ @Override public boolean onCreateOptionsMenu(Menu menu) { super.onCreateOptionsMenu(menu); getMenuInflater().inflate(R.menu.tool_bar, menu); return true; } ä¸€ä¸ªmenuæ–‡ä»¶ç¤ºä¾‹ï¼šåŒ…æ‹¬ï¼šå•ä¸ªitem menuï¼Œç»„item menu &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; tools:context=&quot;.MainActivity&quot; &gt; &lt;item android:id=&quot;@+id/choose_day&quot; android:icon=&quot;@drawable/date_choose_bg&quot; android:orderInCategory=&quot;80&quot; android:title=&quot;é€‰æ‹©æ—¶é—´èŒƒå›´&quot; app:showAsAction=&quot;always&quot;&gt; &lt;!-- itemåŒ…å«menuè¡¨ç¤ºè¯¥menuæ˜¯itemä¸‹çš„å­èœå• --&gt; &lt;!--&lt;menu&gt; &amp;lt;!&amp;ndash; å°†groupä¸­çš„èœå•é¡¹æ”¾äºä¸€ä¸ªç»„é‡Œé¢ &amp;ndash;&amp;gt; &lt;group android:id=&quot;@+id/group&quot; android:menuCategory=&quot;secondary&quot; android:visible=&quot;true&quot;&gt; &lt;item android:id=&quot;@+id/today&quot; android:icon=&quot;@drawable/menu_bg&quot; android:orderInCategory=&quot;80&quot; android:title=&quot;ä»Šå¤©&quot; app:showAsAction=&quot;never&quot;/&gt; &lt;item android:id=&quot;@+id/week&quot; android:icon=&quot;@drawable/menu_bg&quot; android:orderInCategory=&quot;80&quot; android:title=&quot;æœ¬å‘¨&quot; app:showAsAction=&quot;never&quot;/&gt; &lt;/group&gt; &lt;/menu&gt;--&gt; &lt;/item&gt; &lt;item android:id=&quot;@+id/recorder_voice&quot; android:icon=&quot;@drawable/recoder_selector&quot; android:orderInCategory=&quot;80&quot; android:title=&quot;ç‚¹å‡»å½•éŸ³&quot; app:showAsAction=&quot;always&quot;&gt; &lt;/item&gt; &lt;/menu&gt; æ–¹æ³•çš„ä½¿ç”¨åœ¨å»ºç«‹actionbaræˆ–æ˜¯toolbarçš„æ—¶å€™ï¼Œéƒ½ä¼šé»˜è®¤çš„å®ç°ä¸¤ä¸ªæ–¹æ³•ï¼š onCreateOptionsMenu ï¼š å»ºç«‹èœå•ï¼Œåªåœ¨é¡µé¢åŠ è½½çš„æ—¶å€™ï¼Œè¿è¡Œä¸€æ¬¡ï¼Œå…¶åå°±ä¸åœ¨è¿è¡Œäº†ï¼Œæƒ³æ”¹å˜Menuåœ¨è¿™é‡Œæ˜¯ä¸å¯èƒ½çš„ã€‚ onOptionsItemSelected ï¼šå¯¹é€‰ä¸­çš„èœå•è¿›è¡Œæ“ä½œ Androidæä¾›äº†ä¸€ä¸ªæ–¹æ³•å«onPrepareOptionsMenuï¼Œå®ƒçš„åŠŸèƒ½æ˜¯åœ¨æ¯æ¬¡ç‚¹å‡»ä¸€ä¸ªMenuçš„æ—¶å€™ï¼Œå®ƒå°±æ”¹å˜ä¸€æ¬¡ï¼Œæ‰€ä»¥ä½ æƒ³è¦æ”¹å˜Menuçš„å€¼ï¼Œå°±å¾—åœ¨è¿™é‡Œè¿è¡Œã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>menu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[XMLç»˜åˆ¶]]></title>
    <url>%2FXML%E7%BB%98%E5%88%B6%2F</url>
    <content type="text"><![CDATA[AndroidåŠ¨ç”»å‚è€ƒ ï¼šhttp://blog.csdn.net/harvic880925/article/details/39996643/å„ä¸ªå½¢çŠ¶ä»‹ç» ï¼šhttp://blog.csdn.net/yangyahuiguo/article/details/52131658 shapeç»˜åˆ¶1. ovalï¼šæ¤­åœ†gradient:è¡¨ç¤ºæ¸å˜å±æ€§ type è¡¨ç¤ºæ¸å˜çš„æ ·å¼ 123456789101112131415161718&lt;!-- ç»˜åˆ¶åœ†å½¢ --&gt;&lt;shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval" android:useLevel="false"&gt; &lt;!-- å½“åªä½¿ç”¨æ­¤å±æ€§æ—¶ï¼Œæ­¤åœ†çš„èƒŒæ™¯è‰²ä¸ºæ­¤å±æ€§çš„é¢œè‰² --&gt; &lt;!-- é»˜è®¤è¿‡åº¦é¢œè‰²ï¼šä»å³ -ã€‹ å·¦--&gt; &lt;!-- é»˜è®¤è¿‡åº¦æ•ˆæœä¸ºï¼šlinear --&gt; &lt;gradient android:angle="180" android:endColor="@color/Amber_900" android:startColor="@color/Orange_100"/&gt; &lt;!-- å½“ä½¿ç”¨æ­¤å±æ€§æ—¶ï¼Œè¿‡åº¦é¢œè‰²çš„èƒŒæ™¯å°†è¢«é®ç›–ï¼Œåªæ˜¾ç¤ºå½“å‰å±æ€§çš„é¢œè‰² --&gt; &lt;!--&lt;solid android:color="@color/Deep_Orange_a700"/&gt;--&gt; &lt;!-- æ­¤é¢œè‰²æ€»æ˜¯æ˜¾ç¤º --&gt; &lt;stroke android:width="5px" android:color="@color/Blue_600"/&gt;&lt;/shape&gt; gradientRadius:å’Œé•œåƒå±æ€§ç»“åˆä½¿ç”¨ï¼Œä¹Ÿæ˜¯å¿…é¡»è¦è®¾å®šçš„å±æ€§ã€‚è¡¨ç¤ºé•œåƒåŠå¾„çš„å¤§å° 1234567891011121314151617&lt;!-- ç»˜åˆ¶åœ†å½¢ --&gt;&lt;shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval" android:useLevel="false"&gt; &lt;!-- å½“åªä½¿ç”¨æ­¤å±æ€§æ—¶ï¼Œæ­¤åœ†çš„èƒŒæ™¯è‰²ä¸ºæ­¤å±æ€§çš„é¢œè‰² --&gt; &lt;!-- sweep å±æ€§æ­£å¸¸ä½¿ç”¨ï¼Œæ— éœ€å…¶ä»–æ¡ä»¶--&gt; &lt;!-- radial å±æ€§ä½¿ç”¨éœ€è¦æ­é…ï¼šgradientRadiuså±æ€§ ï¼š æ•ˆæœï¼š ç”±å†…è€Œå¤–çš„æ‰©æ•£--&gt; &lt;gradient android:endColor="@color/Amber_900" android:gradientRadius="100px" android:startColor="@color/Orange_100" android:type="radial"/&gt; &lt;!-- æ­¤é¢œè‰²æ€»æ˜¯æ˜¾ç¤º --&gt; &lt;stroke android:width="5px" android:color="@color/Blue_600"/&gt;&lt;/shape&gt; 12345678910111213141516171819&lt;!-- ç»˜åˆ¶åœ†å½¢ --&gt;&lt;shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval" android:useLevel="false"&gt; &lt;!-- å½“åªä½¿ç”¨æ­¤å±æ€§æ—¶ï¼Œæ­¤åœ†çš„èƒŒæ™¯è‰²ä¸ºæ­¤å±æ€§çš„é¢œè‰² --&gt; &lt;!-- é»˜è®¤è¿‡åº¦é¢œè‰²ï¼šä»å³ -ã€‹ å·¦--&gt; &lt;!-- é»˜è®¤è¿‡åº¦æ•ˆæœä¸ºï¼šlinear --&gt; &lt;gradient android:angle="180" android:centerColor="@color/white" android:endColor="@color/Amber_900" android:gradientRadius="200px" android:startColor="@color/Orange_100" android:type="radial"/&gt; &lt;!-- æ­¤é¢œè‰²æ€»æ˜¯æ˜¾ç¤º --&gt; &lt;stroke android:width="5px" android:color="@color/Blue_600"/&gt;&lt;/shape&gt; 1234567891011121314151617181920&lt;!-- ç»˜åˆ¶åœ†å½¢ --&gt;&lt;shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval" android:useLevel="false"&gt; &lt;!-- å½“åªä½¿ç”¨æ­¤å±æ€§æ—¶ï¼Œæ­¤åœ†çš„èƒŒæ™¯è‰²ä¸ºæ­¤å±æ€§çš„é¢œè‰² --&gt; &lt;!-- é»˜è®¤è¿‡åº¦é¢œè‰²ï¼šä»å³ -&gt; å·¦--&gt; &lt;!-- é»˜è®¤è¿‡åº¦æ•ˆæœä¸ºï¼šlinear --&gt; &lt;!-- android:centerY floatã€‚æ¸å˜ä¸­å¿ƒçš„ç›¸å¯¹Yåæ ‡ï¼Œåœ¨0åˆ°1.0ä¹‹é—´ã€‚ --&gt; &lt;!-- x,y è¡¨ç¤ºå¼€å§‹é¢œè‰² å¼€å§‹çš„ä½ç½®--&gt; &lt;gradient android:type="radial" android:gradientRadius="100px" android:centerX="0.3" android:centerY="0.3" android:endColor="@color/Amber_900" android:startColor="@color/Orange_100"/&gt; &lt;!-- æ­¤é¢œè‰²æ€»æ˜¯æ˜¾ç¤º --&gt; &lt;stroke android:width="5px" android:color="@color/Blue_600"/&gt;&lt;/shape&gt; åœ†ç¯ 12345678910111213141516171819&lt;!-- ç»˜åˆ¶åœ†ç¯ --&gt;&lt;!--innerRadius : å†…ç¯çš„åŠå¾„ã€‚ä¸€ä¸ªå°ºå¯¸å€¼ï¼ˆdipç­‰ç­‰ï¼‰æˆ–è€…ä¸€ä¸ªå°ºå¯¸èµ„æº --&gt;&lt;!--innerRadiusRatio : Floatç±»å‹ã€‚è¿™ä¸ªå€¼è¡¨ç¤ºå†…éƒ¨ç¯çš„æ¯”ä¾‹ï¼Œä¾‹å¦‚,å¦‚æœandroid:innerRadiusRatio = " 5 ",é‚£ä¹ˆå†…éƒ¨çš„åŠå¾„ç­‰äºç¯çš„å®½åº¦é™¤ä»¥5ã€‚è¿™ä¸ªå€¼ä¼šè¢«android:innerRadiusé‡å†™ã€‚ é»˜è®¤å€¼æ˜¯9ã€‚( innerRaiusRatio=viewçš„å®½åº¦/åŠå¾„) --&gt;&lt;!-- thickness : ç¯çš„åšåº¦ï¼Œæ˜¯ä¸€ä¸ªå°ºå¯¸å€¼æˆ–å°ºå¯¸çš„èµ„æºã€‚--&gt;&lt;!-- thicknessRatio : Floatç±»å‹ã€‚åšåº¦çš„æ¯”ä¾‹ã€‚ä¾‹å¦‚,å¦‚æœandroid:thicknessRatio= " 2 ",ç„¶ååšåº¦ç­‰äºç¯çš„å®½åº¦é™¤ä»¥2ã€‚è¿™ä¸ªå€¼æ˜¯è¢«android:innerRadiusé‡å†™ï¼Œ é»˜è®¤å€¼æ˜¯3ã€‚(thickenessRatio=Viewçš„å®½åº¦/ç¯åšåº¦ï¼‰--&gt;&lt;shape xmlns:android="http://schemas.android.com/apk/res/android" android:innerRadius="120px" android:innerRadiusRatio="9" android:shape="ring" android:thickness="20px" android:thicknessRatio="3" android:useLevel="false"&gt; &lt;gradient android:endColor="#00000000" android:startColor="#ff0000" android:type="sweep"/&gt;&lt;/shape&gt; shapeä¸­å„ä¸ªå±æ€§çš„ä»‹ç»1. å½¢çŠ¶åˆ†ç±» çŸ©å½¢rectangle æ¤­åœ†å½¢oval çº¿æ€§å½¢çŠ¶line ç¯å½¢ring æ°´æ³¢çº¹ripple 2. ringä¸“æœ‰å±æ€§android:innerRadius å°ºå¯¸ï¼Œå†…ç¯çš„åŠå¾„ã€‚android:innerRadiusRatio æµ®ç‚¹å‹ï¼Œä»¥ç¯çš„å®½åº¦æ¯”ç‡æ¥è¡¨ç¤ºå†…ç¯çš„åŠå¾„ï¼Œä¾‹å¦‚ï¼Œå¦‚æœ:android:innerRadiusRatio=â€5â€ï¼Œè¡¨ç¤ºå†…ç¯åŠå¾„ç­‰äºç¯çš„å®½åº¦é™¤ä»¥5ï¼Œè¿™ä¸ªå€¼æ˜¯å¯ä»¥è¢«è¦†ç›–çš„ï¼Œé»˜è®¤ä¸º9. android:thickness å°ºå¯¸ï¼Œç¯çš„åšåº¦android:thicknessRatioæµ®ç‚¹å‹ï¼Œä»¥ç¯çš„å®½åº¦æ¯”ç‡æ¥è¡¨ç¤ºç¯çš„åšåº¦ï¼Œä¾‹å¦‚ï¼Œå¦‚æœandroid:thicknessRatio=â€2â€ï¼Œé‚£ä¹ˆç¯çš„åšåº¦å°±ç­‰äºç¯çš„å®½åº¦é™¤ä»¥2ã€‚è¿™ä¸ªå€¼æ˜¯å¯ä»¥è¢«android:thicknessè¦†ç›–çš„ï¼Œé»˜è®¤å€¼æ˜¯3.android:useLevel booleanå€¼ï¼Œå¦‚æœå½“åšæ˜¯LevelListDrawableä½¿ç”¨æ—¶å€¼ä¸ºtrueï¼Œå¦åˆ™ä¸ºfalse. 3. ä¸€ä¸ªxmlæ–‡ä»¶ 6ä¸ªå…ƒç´ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788&lt;shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle"&gt; &lt;!-- 1- åœ†è§’ android:radius æ•´å‹ åŠå¾„ android:topLeftRadius æ•´å‹ å·¦ä¸Šè§’åŠå¾„ android:topRightRadius æ•´å‹ å³ä¸Šè§’åŠå¾„ android:bottomLeftRadius æ•´å‹ å·¦ä¸‹è§’åŠå¾„ android:bottomRightRadius æ•´å‹ å³ä¸‹è§’åŠå¾„ --&gt; &lt;corners android:radius="8dp" android:topLeftRadius="5dp" android:topRightRadius="15dp" android:bottomLeftRadius="20dp" android:bottomRightRadius="25dp" /&gt; &lt;!-- 2- æ¸å˜è‰² android:startColor é¢œè‰²å€¼ èµ·å§‹é¢œè‰² android:endColor é¢œè‰²å€¼ ç»“æŸé¢œè‰² android:centerColor æ•´å‹ æ¸å˜ä¸­é—´é¢œè‰²ï¼Œå³å¼€å§‹é¢œè‰²ä¸ç»“æŸé¢œè‰²ä¹‹é—´çš„é¢œè‰² android:angle æ•´å‹ æ¸å˜è§’åº¦(PSï¼šå½“angle=0æ—¶ï¼Œæ¸å˜è‰²æ˜¯ä»å·¦å‘å³ã€‚ ç„¶åé€†æ—¶é’ˆæ–¹å‘è½¬ï¼Œå½“angle=90æ—¶ä¸ºä»ä¸‹å¾€ä¸Šã€‚angleå¿…é¡»ä¸º45çš„æ•´æ•°å€) android:type ["linear" | "radial" | "sweep"] æ¸å˜ç±»å‹(å–å€¼ï¼šlinearã€radialã€sweep) linear çº¿æ€§æ¸å˜ï¼Œè¿™æ˜¯é»˜è®¤è®¾ç½® radial æ”¾å°„æ€§æ¸å˜ï¼Œä»¥å¼€å§‹è‰²ä¸ºä¸­å¿ƒã€‚ sweep æ‰«æçº¿å¼çš„æ¸å˜ã€‚ android:useLevel ["true" | "false"] å¦‚æœè¦ä½¿ç”¨LevelListDrawableå¯¹è±¡ï¼Œå°±è¦è®¾ç½®ä¸ºtrueã€‚è®¾ç½®ä¸ºtrueæ— æ¸å˜ã€‚falseæœ‰æ¸å˜è‰² android:gradientRadius æ•´å‹ æ¸å˜è‰²åŠå¾„.å½“ android:type="radial" æ—¶æ‰ä½¿ç”¨ã€‚å•ç‹¬ä½¿ç”¨ android:type="radial"ä¼šæŠ¥é”™ã€‚ android:centerX æ•´å‹ æ¸å˜ä¸­å¿ƒXç‚¹åæ ‡çš„ç›¸å¯¹ä½ç½® android:centerY æ•´å‹ æ¸å˜ä¸­å¿ƒYç‚¹åæ ‡çš„ç›¸å¯¹ä½ç½® --&gt; &lt;gradient android:startColor="#FFFF0000" android:endColor="#80FF00FF" android:angle="45" /&gt; &lt;!-- 3- å†…â€è¾¹è·"ï¼Œå³å†…å®¹ä¸è¾¹çš„è·ç¦» android:left æ•´å‹ å·¦å†…è¾¹è· android:top æ•´å‹ ä¸Šå†…è¾¹è· android:right æ•´å‹ å³å†…è¾¹è· android:bottom æ•´å‹ ä¸‹å†…è¾¹è· --&gt; &lt;padding android:left="10dp" android:top="10dp" android:right="10dp" android:bottom="10dp" /&gt; &lt;!-- 4- â€å¤§å°" android:width æ•´å‹ å®½åº¦ android:height æ•´å‹ é«˜åº¦ --&gt; &lt;size android:width="600dp" /&gt; &lt;!-- 5- â€å†…éƒ¨å¡«å……" android:color é¢œè‰²å€¼ å¡«å……é¢œè‰² --&gt; &lt;solid android:color="#ffff9d77" /&gt; &lt;!-- 6- â€æè¾¹" android:width æ•´å‹ æè¾¹çš„å®½åº¦ android:color é¢œè‰²å€¼ æè¾¹çš„é¢œè‰² android:dashWidth æ•´å‹ è¡¨ç¤ºæè¾¹çš„æ ·å¼æ˜¯è™šçº¿çš„å®½åº¦ï¼Œ å€¼ä¸º0æ—¶ï¼Œè¡¨ç¤ºä¸ºå®çº¿ã€‚å€¼å¤§äº0åˆ™ä¸ºè™šçº¿ã€‚ android:dashGap æ•´å‹ è¡¨ç¤ºæè¾¹ä¸ºè™šçº¿æ—¶ï¼Œè™šçº¿ä¹‹é—´çš„é—´éš” å³â€œ - - - - â€ --&gt; &lt;stroke android:width="2dp" android:color="#dcdcdc" /&gt;&lt;/shape&gt; é˜´å½±ç»˜åˆ¶ å‚è€ƒï¼šhttp://blog.csdn.net/lihenair/article/details/50111231 ç»˜åˆ¶åŸç†&lt;layer_list&gt; : å°†å¤šä¸ªâ€œå›¾ç‰‡â€æˆ– å¤šç§æ•ˆæœçš„shape æŒ‰ç…§é¡ºåºå±‚å èµ·æ¥ åŸç†å›¾è§£ å®ä¾‹ 1234567891011121314151617181920212223242526&lt;layer-list xmlns:android="http://schemas.android.com/apk/res/android"&gt;&lt;!-- åº•å±‚--&gt;&lt;!-- æ­¤å¤„çš„ä½ç½®æ•°å€¼è¡¨ç¤ºï¼šç›¸å¯¹äºé¡¶å±‚çš„ä½ç½®åç§»--&gt; &lt;item android:top="10px" android:left="10px"&gt; &lt;shape&gt; &lt;solid android:color="#bbb" /&gt; &lt;!-- æè¾¹ --&gt; &lt;stroke android:width="1px" android:color="#ccc" /&gt; &lt;/shape&gt; &lt;/item&gt; &lt;!-- é¡¶å±‚--&gt; &lt;!-- æ­¤å¤„çš„ä½ç½®æ•°å€¼è¡¨ç¤ºï¼šç›¸å¯¹äºåº•å±‚çš„ä½ç½®åç§»--&gt; &lt;item android:bottom="10px" android:right="10px"&gt; &lt;shape&gt; &lt;solid android:color="#ffffff" /&gt; &lt;!-- æè¾¹ --&gt; &lt;stroke android:width="0.3px" android:color="#ddd" /&gt; &lt;/shape&gt; &lt;/item&gt;&lt;/layer-list&gt; å®é™…åº”ç”¨çš„ä¾‹å­ï¼šåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå½“æŒ‰é’®è¢«æŒ‰ä¸‹æ—¶ï¼Œæˆ‘ä»¬å–æ¶ˆäº†é˜´å½±æ¥äº§ç”Ÿåé¦ˆæ•ˆæœã€‚ 123456789101112131415161718192021222324252627282930313233&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item android:state_pressed="true"&gt; &lt;layer-list&gt; &lt;item android:left="4dp" android:top="4dp"&gt; &lt;shape&gt; &lt;solid android:color="#ff58bb52" /&gt; &lt;corners android:radius="30dip"/&gt; &lt;/shape&gt; &lt;/item&gt; &lt;/layer-list&gt; &lt;/item&gt; &lt;item&gt; &lt;layer-list&gt; &lt;!-- SHADOW LAYER --&gt; &lt;item android:left="4dp" android:top="4dp"&gt; &lt;shape&gt; &lt;solid android:color="#66000000" /&gt; &lt;corners android:radius="30dip"/&gt; &lt;/shape&gt; &lt;/item&gt; &lt;!-- CONTENT LAYER --&gt; &lt;item android:bottom="4dp" android:right="4dp"&gt; &lt;shape&gt; &lt;solid android:color="#ff58bb52" /&gt; &lt;corners android:radius="30dip"/&gt; &lt;/shape&gt; &lt;/item&gt; &lt;/layer-list&gt; &lt;/item&gt;&lt;/selector&gt;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 15-I/O]]></title>
    <url>%2FPython3%20%2015-I%3AO%2F</url>
    <content type="text"><![CDATA[å…³äºOpen()æºç æ–‡æ¡£æ‰“å¼€æ–‡ä»¶å¹¶è¿”å›æµã€‚å¤±è´¥æ—¶æé«˜IOErrorã€‚ æ–‡ä»¶æ˜¯ä¸€ä¸ªæ–‡æœ¬æˆ–å­—èŠ‚ä¸²ï¼Œç»™å‡ºè¦æ‰“å¼€çš„æ–‡ä»¶çš„åç§°ï¼ˆå¦‚æœæ–‡ä»¶ä¸åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­çš„è·¯å¾„ï¼‰æˆ–è¦åŒ…è£…çš„æ–‡ä»¶çš„æ•´æ•°æ–‡ä»¶æè¿°ç¬¦ã€‚ ï¼ˆå¦‚æœç»™å‡ºäº†ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œåˆ™å½“è¿”å›çš„I / Oå¯¹è±¡å…³é—­æ—¶ï¼Œå®ƒå°†è¢«å…³é—­ï¼Œé™¤éclosefdè®¾ç½®ä¸ºFalseã€‚ï¼‰modeæ˜¯ä¸€ä¸ªå¯é€‰å­—ç¬¦ä¸²ï¼Œç”¨äºæŒ‡å®šæ–‡ä»¶æ‰“å¼€çš„æ–¹å¼ã€‚å®ƒé»˜è®¤ä¸º&apos;r&apos;ï¼Œè¿™æ„å‘³ç€åœ¨æ–‡æœ¬æ¨¡å¼ä¸‹æ‰“å¼€é˜…è¯»ã€‚å…¶ä»–å¸¸è§çš„å€¼æ˜¯â€œwâ€ç”¨äºå†™å…¥ï¼ˆæˆªæ–­æ–‡ä»¶å·²å­˜åœ¨ï¼‰ï¼Œâ€œxâ€ç”¨äºåˆ›å»ºå’Œå†™å…¥æ–°æ–‡ä»¶ï¼Œâ€œaâ€ç”¨äºé™„åŠ ï¼ˆåœ¨æŸäº›Unixç³»ç»Ÿä¸Šï¼Œè¿™æ„å‘³ç€æ‰€æœ‰å†™å…¥éƒ½é™„åŠ åˆ°æ— è®ºå½“å‰æŸ¥æ‰¾ä½ç½®å¦‚ä½•ï¼Œæ–‡ä»¶çš„ç»“å°¾ï¼‰ã€‚åœ¨æ–‡æœ¬æ¨¡å¼ä¸‹ï¼Œå¦‚æœæœªæŒ‡å®šç¼–ç ï¼Œåˆ™ä½¿ç”¨çš„ç¼–ç ä¸å¹³å°ç›¸å…³ï¼šè°ƒç”¨locale.getpreferredencodingï¼ˆFalseï¼‰ä»¥è·å–å½“å‰è¯­è¨€ç¯å¢ƒç¼–ç ã€‚ ï¼ˆç”¨äºè¯»å–å’Œå†™å…¥åŸå§‹å­—èŠ‚ä½¿ç”¨äºŒè¿›åˆ¶æ¨¡å¼å¹¶ä¿ç•™ç¼–ç æœªæŒ‡å®šã€‚ï¼‰å¯ç”¨çš„æ¨¡å¼æœ‰ï¼š &apos;r&apos;å¼€æ”¾é˜…è¯»ï¼ˆé»˜è®¤ï¼‰ &apos;w&apos;æ‰“å¼€å†™å…¥ï¼Œé¦–å…ˆæˆªæ–­æ–‡ä»¶ &apos;x&apos;åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¹¶å°†å…¶æ‰“å¼€ä»¥è¿›è¡Œå†™å…¥ &apos;a&apos;å¼€æ”¾å†™ä½œï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œåˆ™é™„åŠ åˆ°æ–‡ä»¶æœ«å°¾ &apos;b&apos;äºŒè¿›åˆ¶æ¨¡å¼ &apos;t&apos;æ–‡å­—æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ &apos;+&apos;æ‰“å¼€ä¸€ä¸ªç£ç›˜æ–‡ä»¶è¿›è¡Œæ›´æ–°ï¼ˆè¯»å†™ï¼‰ &apos;U&apos;é€šç”¨æ¢è¡Œæ¨¡å¼ï¼ˆå¼ƒç”¨ï¼‰ é»˜è®¤æ¨¡å¼ä¸ºâ€œrtâ€ï¼ˆæ‰“å¼€é˜…è¯»æ–‡æœ¬ï¼‰ã€‚å¯¹äºäºŒè¿›åˆ¶éšæœºè®¿é—®ï¼Œæ¨¡å¼&apos;w + b&apos;æ‰“å¼€å¹¶å°†æ–‡ä»¶æˆªæ–­ä¸º0å­—èŠ‚ï¼Œè€Œ&apos;r + b&apos;æ‰“å¼€æ–‡ä»¶è€Œä¸æˆªæ–­ã€‚å¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œ&apos;x&apos;æ¨¡å¼æ„å‘³ç€&apos;w&apos;å¹¶å¼•å‘ä¸€ä¸ª`FileExistsError`ã€‚ PythonåŒºåˆ†ä»¥äºŒè¿›åˆ¶å’Œæ–‡æœ¬æ¨¡å¼æ‰“å¼€çš„æ–‡ä»¶ï¼Œå³ä½¿åº•å±‚æ“ä½œç³»ç»Ÿæ²¡æœ‰ã€‚æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€ï¼ˆå°†&apos;b&apos;è¿½åŠ åˆ°æ¨¡å¼å‚æ•°ï¼‰è¿”å›å†…å®¹ä½œä¸ºå­—èŠ‚å¯¹è±¡è€Œä¸è¿›è¡Œä»»ä½•è§£ç ã€‚åœ¨æ–‡æœ¬æ¨¡å¼ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ–åœ¨æ¨¡å¼å‚æ•°é™„åŠ äº†&apos;t&apos;ï¼‰æ—¶ï¼Œæ–‡ä»¶çš„å†…å®¹å°†è¿”å›ä¸ºå­—ç¬¦ä¸²ï¼Œé¦–å…ˆä½¿ç”¨å¹³å°ç›¸å…³ç¼–ç å¯¹å­—èŠ‚è¿›è¡Œäº†è§£ç ï¼Œå¦‚æœç»™å‡ºï¼Œåˆ™ä½¿ç”¨æŒ‡å®šçš„ç¼–ç ã€‚ &apos;U&apos;æ¨¡å¼å·²è¢«å¼ƒç”¨ï¼Œå¹¶ä¼šåœ¨å°†æ¥çš„Pythonç‰ˆæœ¬ä¸­å¼•å‘å¼‚å¸¸ã€‚å®ƒå¯¹Python 3æ²¡æœ‰å½±å“ã€‚ä½¿ç”¨æ¢è¡Œæ¥æ§åˆ¶é€šç”¨æ¢è¡Œç¬¦æ¨¡å¼ã€‚ç¼“å†²æ˜¯ç”¨äºè®¾ç½®ç¼“å†²ç­–ç•¥çš„å¯é€‰æ•´æ•°ã€‚é€šè¿‡0ä»¥åˆ‡æ¢ç¼“å†²ï¼ˆä»…å…è®¸åœ¨äºŒè¿›åˆ¶æ¨¡å¼ä¸‹ï¼‰ï¼Œ1é€‰æ‹©è¡Œç¼“å†²ï¼ˆä»…åœ¨æ–‡æœ¬æ¨¡å¼ä¸‹å¯ç”¨ï¼‰ï¼Œæ•´æ•°&gt; 1è¡¨ç¤ºå›ºå®šå¤§å°çš„å—ç¼“å†²åŒºçš„å¤§å°ã€‚å½“æ²¡æœ‰ç»™å‡ºç¼“å†²å‚æ•°æ—¶ï¼Œé»˜è®¤ç¼“å†²ç­–ç•¥çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š *äºŒè¿›åˆ¶æ–‡ä»¶ä»¥å›ºå®šå¤§å°çš„å—è¿›è¡Œç¼“å†²;ä½¿ç”¨å¯å‘å¼æ–¹æ³•æ¥é€‰æ‹©ç¼“å†²åŒºçš„å¤§å°ï¼Œè¯•å›¾ç¡®å®šåº•å±‚è®¾å¤‡çš„â€œå—å¤§å°â€å¹¶è½å›åˆ°â€œio.DEFAULT_BUFFER_SIZEâ€ä¸Šã€‚åœ¨è®¸å¤šç³»ç»Ÿä¸Šï¼Œç¼“å†²åŒºé€šå¸¸ä¸º4096æˆ–8192å­—èŠ‚é•¿ã€‚ *â€œäº¤äº’å¼â€æ–‡æœ¬æ–‡ä»¶ï¼ˆå…¶ä¸­isattyï¼ˆï¼‰è¿”å›Trueçš„æ–‡ä»¶ï¼‰ä½¿ç”¨è¡Œç¼“å†²ã€‚å…¶ä»–æ–‡æœ¬æ–‡ä»¶ä½¿ç”¨ä¸Šè¿°é’ˆå¯¹äºŒè¿›åˆ¶æ–‡ä»¶çš„ç­–ç•¥ã€‚ encodingæ˜¯ç”¨äºå¯¹æ–‡ä»¶è¿›è¡Œè§£ç æˆ–ç¼–ç çš„ç¼–ç åç§°ã€‚è¿™åªèƒ½åœ¨æ–‡æœ¬æ¨¡å¼ä¸‹ä½¿ç”¨ã€‚é»˜è®¤ç¼–ç æ˜¯å¹³å°ä¾èµ–çš„ï¼Œä½†æ˜¯Pythonå¯ä»¥æ”¯æŒä»»ä½•ç¼–ç ã€‚æœ‰å…³æ”¯æŒçš„ç¼–ç åˆ—è¡¨ï¼Œè¯·å‚é˜…ç¼–è§£ç å™¨æ¨¡å—ã€‚ errorsæ˜¯ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šå¦‚ä½•å¤„ç†ç¼–ç é”™è¯¯ - æ­¤å‚æ•°ä¸åº”åœ¨äºŒè¿›åˆ¶æ¨¡å¼ä¸‹ä½¿ç”¨ã€‚å¦‚æœå­˜åœ¨ç¼–ç é”™è¯¯ï¼ˆé»˜è®¤å€¼ä¸ºNoneï¼‰å…·æœ‰ç›¸åŒçš„æ•ˆæœï¼Œåˆ™é€šè¿‡&apos;strict&apos;æ¥å¼•å‘ValueErrorå¼‚å¸¸ï¼Œæˆ–è€…é€šè¿‡&apos;ignore&apos;å¿½ç•¥é”™è¯¯ã€‚ ï¼ˆè¯·æ³¨æ„ï¼Œå¿½ç•¥ç¼–ç é”™è¯¯å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚ï¼‰æœ‰å…³ç¼–ç é”™è¯¯å­—ç¬¦ä¸²çš„åˆ—è¡¨ï¼Œè¯·å‚é˜…codecs.registerçš„æ–‡æ¡£æˆ–è¿è¡Œ&apos;helpï¼ˆcodecs.Codecï¼‰&apos;ã€‚ æ¢è¡Œç¬¦æ§åˆ¶é€šç”¨æ¢è¡Œç¬¦çš„å·¥ä½œåŸç†ï¼ˆä»…é€‚ç”¨äºæ–‡æœ¬æ¨¡å¼ï¼‰ã€‚å®ƒå¯ä»¥æ˜¯æ— ï¼Œ&apos;&apos;ï¼Œ&apos;\ n&apos;ï¼Œ&apos;\ r&apos;å’Œ&apos;\ r \ n&apos;ã€‚å®ƒçš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š *è¾“å…¥æ—¶ï¼Œå¦‚æœæ¢è¡Œç¬¦ä¸ºNoneï¼Œåˆ™å¯ç”¨é€šç”¨æ¢è¡Œç¬¦æ¨¡å¼ã€‚è¾“å…¥ä¸­çš„è¡Œå¯ä»¥&apos;\ n&apos;ï¼Œ&apos;\ r&apos;æˆ–&apos;\ r \ n&apos;ç»“å°¾ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸º&apos;\ n&apos;ï¼Œç„¶åè¿”å›ç»™è°ƒç”¨è€…ã€‚å¦‚æœæ˜¯&apos;&apos;ï¼Œåˆ™å¯ç”¨é€šç”¨æ¢è¡Œæ¨¡å¼ï¼Œä½†æ˜¯è¡Œç»“æŸå°†è¿”å›ç»™æœªç»ç¿»è¯‘çš„è°ƒç”¨è€…ã€‚å¦‚æœå®ƒå…·æœ‰ä»»ä½•å…¶ä»–åˆæ³•å€¼ï¼Œåˆ™è¾“å…¥è¡Œä»…ç”±ç»™å®šç»ˆæ­¢ 2017å¹´07æœˆ21æ—¥09:44:52 æš‚åœ]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 14-è°ƒè¯•]]></title>
    <url>%2FPython3%20%2014-%E8%B0%83%E8%AF%95%2F</url>
    <content type="text"><![CDATA[æ–¹æ³• .print()æ‰“å°ç”¨print()æœ€å¤§çš„åå¤„æ˜¯å°†æ¥è¿˜å¾—åˆ æ‰å®ƒï¼Œæƒ³æƒ³ç¨‹åºé‡Œåˆ°å¤„éƒ½æ˜¯print()ï¼Œè¿è¡Œç»“æœä¹Ÿä¼šåŒ…å«å¾ˆå¤šåƒåœ¾ä¿¡æ¯ã€‚ assertæ–­è¨€å‡¡æ˜¯ç”¨print()æ¥è¾…åŠ©æŸ¥çœ‹çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ç”¨æ–­è¨€assertæ¥æ›¿ä»£ã€‚ä»£ç ç¤ºä¾‹ï¼š 1234567def foo(s): n = int(s) assert n != 0, 'n is zero!' return 10 / ndef main(): foo('0') åœ¨ç¨‹åºä¸­ä½¿ç”¨assertå’Œprint()ç›¸æ¯”ä¹Ÿå¥½ä¸åˆ°å“ªå»ã€‚ä½†æ˜¯ï¼šå¯åŠ¨Pythonè§£é‡Šå™¨æ—¶å¯ä»¥ç”¨-Oå‚æ•°æ¥å…³é—­assert 1$ python3 -O err.py å…³é—­åï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰çš„assertè¯­å¥å½“æˆpassæ¥çœ‹ã€‚ loggingæ—¥å¿—æŠŠprint()æ›¿æ¢ä¸ºloggingæ˜¯ç¬¬3ç§æ–¹å¼ï¼Œå’Œassertæ¯”ï¼Œloggingä¸ä½†ä¼šæŠ›å‡ºé”™è¯¯ï¼Œè€Œä¸”å¯ä»¥è¾“å‡ºåˆ°æ–‡ä»¶ã€‚æ³¨æ„ï¼šå¯¼å…¥loggingåŒ…ä¹‹åï¼Œåº”åœ¨æ·»åŠ é…ç½®è¯­å¥logging.basicConfig(level=logging.INFO)ä»£ç ç¤ºä¾‹ 1234567891011121314151617181920212223242526272829303132333435363738import logging# logging.basicConfig(level=logging.INFO)# é…ç½®æ—¥å¿—ä¿¡æ¯logging.basicConfig(level=logging.DEBUG, format='%(asctime)-8s %(name)-8s %(levelname)-8s %(message)s - [%(filename)s:%(lineno)s]', datefmt='%Y-%m-%d %H:%M:%S', filename='myapp.log', filemode='w')# å®šä¹‰ä¸€ä¸ªHandleræ‰“å°INFOåŠä»¥ä¸Šçº§åˆ«çš„æ—¥å¿—åˆ°sys.stderrconsole = logging.StreamHandler()console.setLevel(logging.DEBUG)# è®¾ç½®æ§åˆ¶å°æ—¥å¿—æ‰“å°æ ¼å¼formatter = logging.Formatter('%(name)-12s: %(levelname)-8s %(message)s')console.setFormatter(formatter)# å°†å®šä¹‰å¥½çš„consoleæ—¥å¿—handleræ·»åŠ åˆ°root loggerlogging.getLogger('').addHandler(console)"""æµ‹è¯•logging"""s = '0'n = int(s)logging.info('n = %d' % n)print(10 / n)'''ç»“æœè¾“å‡ºINFO:root:n = 0Traceback (most recent call last): File "/Users/yannischeng/PycharmProjects/First_Python_Project/py_obj_end_12/TestObj.py", line 69, in &lt;module&gt; print(10 / n)ZeroDivisionError: division by zero''''''è¾“å‡ºåˆ°æ–‡ä»¶ä¸­çš„ä¿¡æ¯ï¼š2017-07-20 09:57:51 root INFO n = 0 - [LogSet.py:27]''' ä¼˜ç‚¹ å…è®¸ä½ æŒ‡å®šè®°å½•ä¿¡æ¯çš„çº§åˆ«ï¼Œæœ‰debugï¼Œinfoï¼Œwarningï¼Œerrorç­‰å‡ ä¸ªçº§åˆ«ã€‚ é€šè¿‡ç®€å•çš„é…ç½®ï¼Œä¸€æ¡è¯­å¥å¯ä»¥åŒæ—¶è¾“å‡ºåˆ°ä¸åŒçš„åœ°æ–¹ï¼Œæ¯”å¦‚consoleå’Œæ–‡ä»¶ã€‚ å‚è€ƒ loggingçš„é…ç½®å‚è€ƒï¼šhttp://blog.csdn.net/naiveloafer/article/details/7630903 Formatç¼–å†™ Format Description %(name)s Name of the logger (logging channel). %(levelno)s |Numeric logging level for the message (DEBUG, INFO, WARNING, ERROR, CRITICAL).%(levelname)s |Text logging level for the message (â€˜DEBUGâ€™, â€˜INFOâ€™, â€˜WARNINGâ€™, â€˜ERRORâ€™, â€˜CRITICALâ€™).%(pathname)s |Full pathname of the source file where the logging call was issued (if available).%(filename)s | Filename portion of pathname.%(module)s | Module (name portion of filename).%(funcName)s | Name of function containing the logging call.%(lineno)d | Source line number where the logging call was issued (if available).%(created)f | Time when the LogRecord was created (as returned by time.time()).%(relativeCreated)d | Time in milliseconds when the LogRecord was created, relative to the time the logging module was loaded.%(asctime)s |Human-readable time when the LogRecord was created. By default this is of the form â€œ2003-07-08 16:49:45,896â€ (the numbers after the comma are millisecond portion of the time).%(msecs)d | Millisecond portion of the time when the LogRecord was created.%(thread)d | Thread ID (if available).%(threadName)s | Thread name (if available).%(process)d | Process ID (if available).%(message)s | The logged message, computed as msg % args. basicConfig()ç¼–å†™ å¯¹æ—¥å¿—è®°å½•ç³»ç»Ÿè¿›è¡ŒåŸºæœ¬é…ç½®ï¼š å¦‚æœæ ¹è®°å½•å™¨å·²ç»å…·æœ‰å¤„ç†ç¨‹åºï¼Œåˆ™æ­¤å‡½æ•°ä¸èµ·ä½œç”¨é…ç½®ã€‚è¿™æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„æ–¹æ³•ï¼Œä¾›ç®€å•çš„è„šæœ¬ä½¿ç”¨åšä¸€æ¬¡æ€§é…ç½®çš„æ—¥å¿—è®°å½•åŒ…ã€‚ é»˜è®¤è¡Œä¸ºæ˜¯åˆ›å»ºä¸€ä¸ªå†™å…¥çš„StreamHandler sys.stderrï¼Œä½¿ç”¨BASIC_FORMATæ ¼å¼å­—ç¬¦ä¸²è®¾ç½®æ ¼å¼åŒ–ç¨‹åºï¼Œå’Œå°†å¤„ç†ç¨‹åºæ·»åŠ åˆ°æ ¹è®°å½•å™¨ã€‚ å¯ä»¥æŒ‡å®šä¸€äº›å¯é€‰çš„å…³é”®å­—å‚æ•°ï¼Œè¿™å¯ä»¥æ”¹å˜é»˜è®¤è¡Œä¸ºã€‚ Optional Keyword Description filename æŒ‡å®šä½¿ç”¨æŒ‡å®šçš„FileHandlerè¿›è¡Œåˆ›å»ºæ–‡ä»¶åï¼Œè€Œä¸æ˜¯ä¸€ä¸ªStreamHandlerã€‚ filemode | æŒ‡å®šæ‰“å¼€æ–‡ä»¶çš„æ–¹å¼ï¼Œå¦‚æœæŒ‡å®šäº†filenameï¼ˆå¦‚æœfilemodeæœªæŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸º&apos;a&apos;ï¼‰ã€‚ format | ä¸ºå¤„ç†ç¨‹åºä½¿ç”¨æŒ‡å®šçš„æ ¼å¼å­—ç¬¦ä¸²ã€‚ datefmt | ä½¿ç”¨æŒ‡å®šçš„æ—¥æœŸ/æ—¶é—´æ ¼å¼ã€‚ style | å¦‚æœæŒ‡å®šäº†æ ¼å¼å­—ç¬¦ä¸²ï¼Œè¯·ä½¿ç”¨æ­¤å­—ç¬¦ä¸²æŒ‡å®šæ ¼å¼å­—ç¬¦ä¸²çš„ç±»å‹ï¼ˆå¯èƒ½çš„å€¼&apos;ï¼…&apos;ï¼Œ&apos;{&apos;ï¼Œ&apos;$&apos;ï¼Œfor ï¼…-formattingï¼Œï¼šmethï¼š`str.format`å’Œï¼šclassï¼š`string.Template` - é»˜è®¤ä¸º&apos;ï¼…&apos;ï¼‰ã€‚ level | å°†æ ¹è®°å½•å™¨çº§åˆ«è®¾ç½®ä¸ºæŒ‡å®šçº§åˆ«ã€‚ stream | ä½¿ç”¨æŒ‡å®šçš„æµæ¥åˆå§‹åŒ–StreamHandlerã€‚æ³¨æ„è¯¥å‚æ•°ä¸â€œfilenameâ€ä¸å…¼å®¹ - å¦‚æœåŒæ—¶ä½¿ç”¨å­˜åœ¨ï¼Œâ€œæµâ€è¢«å¿½ç•¥ã€‚ handlers | å¦‚æœæŒ‡å®šï¼Œè¿™åº”è¯¥æ˜¯å·²ç»åˆ›å»ºçš„è¿­ä»£å¤„ç†ç¨‹åºï¼Œå°†è¢«æ·»åŠ åˆ°æ ¹å¤„ç†ç¨‹åºã€‚ä»»ä½•å¤„ç†ç¨‹åºåœ¨æ²¡æœ‰æ ¼å¼åŒ–ç¨‹åºåˆ†é…çš„åˆ—è¡¨ä¸­åˆ†é…åœ¨æ­¤å‡½æ•°ä¸­åˆ›å»ºçš„æ ¼å¼åŒ–ç¨‹åºã€‚ è¯·æ³¨æ„ï¼š å¯ä»¥æŒ‡å®šä½¿ç”¨openï¼ˆfilenameï¼Œmodeï¼‰åˆ›å»ºçš„æµè€Œä¸æ˜¯ä¼ é€’æ–‡ä»¶åå’Œæ¨¡å¼ã€‚ä½†æ˜¯åº”è¯¥è®°ä½StreamHandlerå¹¶ä¸å…³é—­å®ƒçš„æµï¼ˆå› ä¸ºå®ƒå¯èƒ½ä½¿ç”¨sys.stdoutæˆ–sys.stderrï¼‰ï¼Œè€ŒFileHandlerå…³é—­å…¶æµå½“å¤„ç†ç¨‹åºå…³é—­æ—¶ã€‚ .è°ƒè¯•å™¨pdb â€“ æœ‰äº†PyCharmç›®å‰ä¸è€ƒè™‘æ­¤ç§æ–¹å¼å¯åŠ¨Pythonçš„è°ƒè¯•å™¨pdbï¼Œè®©ç¨‹åºä»¥å•æ­¥æ–¹å¼è¿è¡Œï¼Œå¯ä»¥éšæ—¶æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ã€‚]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 14-å•å…ƒæµ‹è¯•]]></title>
    <url>%2FPython3%20%2014-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%2F</url>
    <content type="text"><![CDATA[â€œæµ‹è¯•é©±åŠ¨å¼€å‘â€ï¼ˆTDDï¼šTest-Driven Developmentï¼‰â€“ å•å…ƒæµ‹è¯• æ˜¯ç”¨æ¥å¯¹ä¸€ä¸ªæ¨¡å—ã€ä¸€ä¸ªå‡½æ•°æˆ–è€…ä¸€ä¸ªç±»æ¥è¿›è¡Œæ­£ç¡®æ€§æ£€éªŒçš„æµ‹è¯•å·¥ä½œã€‚ åœ¨pycharmä¸­åˆ›å»ºå•å…ƒæµ‹è¯• åˆ›å»ºå‚è€ƒï¼šhttp://blog.csdn.net/u013088062/article/details/50183789ä¸€ä¸ªæ¡ˆä¾‹ï¼šhttp://www.cnblogs.com/iamjqy/p/7155315.html å…·ä½“åˆ›å»ºè¿‡ç¨‹å‚è€ƒpythonæ–‡ä»¶å¤¹çš„.pngå›¾ç‰‡ã€‚ é€‰ä¸­å¾…è¦ç¼–å†™æµ‹è¯•ä»£ç çš„ç±»å â€“&gt; å³é”® é€‰æ‹© Go To â€“&gt; Test Object å•å…ƒæµ‹è¯•å®ç°å¾…æµ‹è¯•ç±»ä»£ç 12345678910111213141516class MyDict(dict): def __init__(self, **kwargs): super().__init__(**kwargs) def __getattr__(self, item): try: return self[item] except KeyError: raise AttributeError(r"'MyDict' object has no attribute '%s'" % item) def __setattr__(self, key, value): self[key] = value def add(self, m, n): print("%d + %d = %d" % (m, n, (m+n))) å•å…ƒæµ‹è¯•ç±»ä»£ç 123456789101112131415161718192021222324from unittest import TestCasefrom py_unittext_14.MyDict import MyDictclass TestMyDict(TestCase): # setUpä¸tearDown # è¿™ä¸¤ä¸ªæ–¹æ³•ä¼šåˆ†åˆ«åœ¨æ¯è°ƒç”¨ä¸€ä¸ªæµ‹è¯•æ–¹æ³•çš„å‰ååˆ†åˆ«è¢«æ‰§è¡Œã€‚ # setUp()å’ŒtearDown()æ–¹æ³•æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿè®¾æƒ³ä½ çš„æµ‹è¯•éœ€è¦å¯åŠ¨ä¸€ä¸ªæ•°æ®åº“ï¼Œè¿™æ—¶ï¼Œå°±å¯ä»¥åœ¨setUp()æ–¹æ³•ä¸­è¿æ¥æ•°æ®åº“ï¼Œåœ¨tearDown()æ–¹æ³•ä¸­å…³é—­æ•°æ®åº“ï¼Œè¿™æ ·ï¼Œä¸å¿…åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¸­é‡å¤ç›¸åŒçš„ä»£ç  def setUp(self): print('setUp...') def tearDown(self): print('tearDown...') def test_add(self): d = MyDict(name='ç¨‹æ–‡ä½³', age='24', city='Tianjin') self.assertEqual(d.name, 'ç¨‹æ–‡ä½³') self.assertEqual(d['name'], 'ç¨‹æ–‡ä½³') print(d.name) def test_add2(self): d = MyDict(name='ç¨‹æ–‡ä½³', age='24', city='Tianjin') d.add(3, 4) æµ‹è¯•ç»“æœ1234567891011setUp...ç¨‹æ–‡ä½³tearDown...setUp...3 + 4 = 7tearDown...Ran 2 tests in 0.002sOK å°ç»“ å•å…ƒæµ‹è¯•å¯ä»¥æœ‰æ•ˆåœ°æµ‹è¯•æŸä¸ªç¨‹åºæ¨¡å—çš„è¡Œä¸ºï¼Œæ˜¯æœªæ¥é‡æ„ä»£ç çš„ä¿¡å¿ƒä¿è¯ã€‚ å•å…ƒæµ‹è¯•çš„æµ‹è¯•ç”¨ä¾‹è¦è¦†ç›–å¸¸ç”¨çš„è¾“å…¥ç»„åˆã€è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸ã€‚ å•å…ƒæµ‹è¯•ä»£ç è¦éå¸¸ç®€å•ï¼Œå¦‚æœæµ‹è¯•ä»£ç å¤ªå¤æ‚ï¼Œé‚£ä¹ˆæµ‹è¯•ä»£ç æœ¬èº«å°±å¯èƒ½æœ‰bugã€‚ å•å…ƒæµ‹è¯•é€šè¿‡äº†å¹¶ä¸æ„å‘³ç€ç¨‹åºå°±æ²¡æœ‰bugäº†ï¼Œä½†æ˜¯ä¸é€šè¿‡ç¨‹åºè‚¯å®šæœ‰bugã€‚]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 11-é¢å‘å¯¹è±¡+æšä¸¾]]></title>
    <url>%2FPython3%20%2011-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%2B%E6%9E%9A%E4%B8%BE%2F</url>
    <content type="text"><![CDATA[Pythonä¸­Enumæšä¸¾çš„å®ç°ï¼šhttp://www.cnblogs.com/codingmylife/archive/2013/05/31/3110656.html å®šä¹‰å¸¸é‡çš„ä¸€èˆ¬æ–¹æ³•ï¼šå®šä¹‰å˜é‡æ¨èçš„æ–¹æ³•ä¸ºï¼šå°†æšä¸¾ç±»å‹å®šä¹‰ä¸€ä¸ªclassç±»å‹ã€‚æ¯ä¸ªå¸¸é‡éƒ½æ˜¯classçš„å”¯ä¸€å®ä¾‹pythonæä¾›äº†Enumæ¥å®ç°æšä¸¾åŠŸèƒ½ 12345678910111213141516171819202122232425262728293031323334353637# å®ç°æ–¹å¼1from enum import EnumWeek = Enum('WeekInfo', ('Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'))# å®ç°æ–¹å¼2from enum import Enum, unique# @uniqueè£…é¥°å™¨æ£€æŸ¥ä¿è¯æ²¡æœ‰é‡å¤å€¼@uniqueclass MyEnum02(Enum): Sun = 0 Mon = 1 Tue = 2 Wed = 3 Thu = 4 Fri = 5 Sta = 6# éå†Enumfor name, value in Week.__members__.items(): print(name, value, m.value)print(Week.Mon.value) # 1"""Mon WeekInfo.Mon 1Tue WeekInfo.Tue 2Wed WeekInfo.Wed 3Thu WeekInfo.Thu 4Fri WeekInfo.Fri 5Sat WeekInfo.Sat 6Sun WeekInfo.Sun 7"""# ä½¿ç”¨MyEnum02print(MyEnum02(1)) # MyEnum02.Mon]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 13-é”™è¯¯+æµ‹è¯•+è°ƒè¯•]]></title>
    <url>%2FPython3%20%2013-%E9%94%99%E8%AF%AF%2B%E6%B5%8B%E8%AF%95%2B%E8%B0%83%E8%AF%95%2F</url>
    <content type="text"><![CDATA[é”™è¯¯12345678try: """ å¯èƒ½å‡ºé”™çš„ä»£ç å— """except ZeroDivisionError as e: print('except:', e)finally: print('finally...') é”™è¯¯ç‰¹ç‚¹ Pythonçš„é”™è¯¯å…¶å®ä¹Ÿæ˜¯classï¼Œæ‰€æœ‰çš„é”™è¯¯ç±»å‹éƒ½ç»§æ‰¿è‡ªBaseExceptionï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨exceptæ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒä¸ä½†æ•è·è¯¥ç±»å‹çš„é”™è¯¯ï¼Œè¿˜æŠŠå…¶å­ç±»ä¹Ÿâ€œä¸€ç½‘æ‰“å°½â€ã€‚ ä½¿ç”¨try...exceptæ•è·é”™è¯¯è¿˜æœ‰ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„ï¼Œå°±æ˜¯å¯ä»¥è·¨è¶Šå¤šå±‚è°ƒç”¨ï¼Œå³ï¼šä¸éœ€è¦åœ¨æ¯ä¸ªå¯èƒ½å‡ºé”™çš„åœ°æ–¹å»æ•è·é”™è¯¯ï¼Œåªè¦åœ¨åˆé€‚çš„å±‚æ¬¡å»æ•è·é”™è¯¯å°±å¯ä»¥äº†ã€‚æ¯”å¦‚å‡½æ•°main()è°ƒç”¨foo()ï¼Œfoo()è°ƒç”¨bar()ï¼Œç»“æœbar()å‡ºé”™äº†ã€‚è¿™æ—¶ï¼Œåªè¦main()æ•è·åˆ°äº†å°±å¯ä»¥å¤„ç†bar()ä¸­çš„é”™è¯¯ã€‚ è®°å½•é”™è¯¯ æ•è·é”™è¯¯ï¼ŒæŠŠé”™è¯¯å †æ ˆæ‰“å°å‡ºæ¥ï¼Œåˆ†æé”™è¯¯åŸå› ï¼ŒåŒæ—¶ï¼Œè®©ç¨‹åºç»§ç»­æ‰§è¡Œä¸‹å»è€Œä¸æ˜¯ä½¿å¾—ç¨‹åºè¢«ç»“æŸã€‚ ä½¿ç”¨æ–¹æ³• 12345678import logging# åŒæ ·æ˜¯å‡ºé”™ï¼Œä½†ç¨‹åºæ‰“å°å®Œé”™è¯¯ä¿¡æ¯åä¼šç»§ç»­æ‰§è¡Œï¼Œå¹¶æ­£å¸¸é€€å‡º.# é€šè¿‡é…ç½®ï¼Œloggingè¿˜å¯ä»¥æŠŠé”™è¯¯è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶é‡Œï¼Œæ–¹ä¾¿äº‹åæ’æŸ¥ã€‚try: bar('0')except Exception as e: logging.exception(e) æŠ›å‡ºé”™è¯¯ å› ä¸ºé”™è¯¯æ˜¯classã€‚æ•è·ä¸€ä¸ªé”™è¯¯å°±æ˜¯æ•è·åˆ°è¯¥classçš„ä¸€ä¸ªå®ä¾‹ã€‚ æ—¢å¯ä»¥ä½¿ç”¨pythonçš„å†…ç½®å‡½æ•°æŠ›å‡ºé”™è¯¯ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™å‡½æ•°æŠ›å‡ºé”™è¯¯ã€‚ ä½¿ç”¨å…³é”®å­—raiseæŠ›å‡ºä¸€ä¸ªé”™è¯¯å®ä¾‹ ä»£ç ç¤ºä¾‹ 1234567891011121314151617181920# ç¼–å†™è‡ªå®šä¹‰å¼‚å¸¸ç±»class FooError(ValueError): passdef foo(s): n = int(s) if n==0: raise FooError('invalid value: %s' % s) return 10 / n# è°ƒç”¨è‡ªå®šä¹‰çš„å¼‚å¸¸ç±»foo('0')# æŠ¥çš„é”™è¯¯Traceback (most recent call last): File "err_throw.py", line 11, in &lt;module&gt; foo('0') File "err_throw.py", line 8, in foo raise FooError('invalid value: %s' % s)__main__.FooError: invalid value: 0]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 12-é¢å‘å¯¹è±¡+å…ƒç±»]]></title>
    <url>%2FPython3%20%2012-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%2B%E5%85%83%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[é™æ€è¯­è¨€å’ŒåŠ¨æ€è¯­è¨€æœ€å¤§çš„ä¸åŒï¼Œå°±æ˜¯å‡½æ•°å’Œç±»çš„å®šä¹‰ã€‚ä¸æ˜¯ç¼–è¯‘æ—¶å®šä¹‰çš„ï¼Œè€Œæ˜¯è¿è¡Œæ—¶åŠ¨æ€ç¼–è¯‘çš„ã€‚ å…³é”®å­—ï¼štype(), metaclass ä¸€èˆ¬çš„classåˆ›å»º123456789101112131415class Hello(object): def hello(self): print('Hello World !')from py_obj_end_12.Hello import Hello"""å¯¼å…¥Helloç±»åçš„æµ‹è¯•"""h = Hello()print(h.hello()) # Hello World !# æŸ¥çœ‹å®ä¾‹hæ‰€å±çš„ç±»å‹ï¼Œæ˜¯class Helloprint(type(h)) # &lt;class 'py_obj_end_12.Hello.Hello'&gt;# æŸ¥çœ‹Helloæ‰€å±çš„ç±»å‹ï¼Œæ˜¯ type ç±»å‹print(type(Hello)) # &lt;class 'type'&gt; ä½¿ç”¨type()æ¥åŠ¨æ€åˆ›å»ºç±»type æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ Hello ä¼šæ˜¯ type ç±»å‹çš„ï¼Ÿ å› ä¸ºPythonæ˜¯åŠ¨æ€è¯­è¨€ï¼Œæ‰€ä»¥classçš„å®šä¹‰æ˜¯è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºçš„ï¼Œè€Œåˆ›å»ºclassä½¿ç”¨çš„å°±æ˜¯type()å‡½æ•° type()å‡½æ•°æ—¢å¯ä»¥è¿”å›ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œåˆå¯ä»¥åˆ›å»ºå‡ºæ–°çš„ç±»å‹ã€‚ é€šè¿‡type()åˆ›å»ºclasså’Œç›´æ¥å†™classæ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ å› ä¸ºpythonè§£é‡Šå™¨é‡åˆ°classå®šä¹‰æ—¶ï¼Œä»…ä»…æ˜¯æ‰«æä¸€ä¸‹classå®šä¹‰çš„è¯­æ³•ï¼Œç„¶åè°ƒç”¨type()å‡½æ•°åˆ›å»ºå‡ºclassã€‚ æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨class Xxxåˆ›å»ºä¸€ä¸ªç±»ã€‚ä½†æ˜¯ï¼Œå› ä¸ºtype()å‡½æ•°å…è®¸æˆ‘ä»¬åŠ¨æ€çš„å°†ç±»åˆ›å»ºå‡ºæ¥ã€‚ åŠ¨æ€è¯­è¨€æœ¬èº«æ”¯æŒå¤„äºè¿è¡ŒæœŸçš„ç¨‹åºåŠ¨æ€åˆ›å»ºä¸€ä¸ªç±»ã€‚è¿™å’ŒJavaçš„é™æ€è¯­è¨€ä¸åŒã€‚ type()ä½¿ç”¨ï¼šhttp://www.cnblogs.com/ccorz/p/6120783.html type(name, bases, dict) è¿”å›ä¸€ä¸ªæ–°çš„typeå¯¹è±¡. åŸºæœ¬ä¸Šæ˜¯ class è¯­å¥çš„åŠ¨æ€å½¢å¼. å‚æ•°: name , å­—ç¬¦ä¸², åˆ¶å®šè¦æ„é€ ç±»çš„åå­—, èµ‹ç»™æ–°å¯¹è±¡çš„ __name__ å±æ€§; basesï¼Œä¸€ä¸ªtupleï¼ŒæŒ‡å®šæ–°ç±»å‹çš„æ‰€æœ‰åŸºç±»ï¼Œèµ‹ç»™æ–°å¯¹è±¡çš„__bases__ å±æ€§; dictï¼Œ å­—å…¸ç±»å‹ï¼Œä½œä¸ºæ–°ç±»çš„åå­—ç©ºé—´ï¼Œèµ‹ç»™æ–°å¯¹è±¡çš„__dict__ å±æ€§ 12345678910111213141516171819# ç”¨type()å‡½æ•°åˆ›å»ºHelloç±»# 1.å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚å³ï¼šç±»çš„æ–¹æ³•def say(self): print('Hello, World 2!')# 2.åˆ›å»ºä¸€ä¸ªclass Hello2ã€‚type()å‡½æ•°ä¸­ä¼ å…¥çš„å‚æ•°ï¼š# 1ï¼‰classç±»åï¼Œ2ï¼‰ç»§æ‰¿çš„çˆ¶ç±»é›†åˆï¼Œ3ï¼‰classçš„æ–¹æ³•åä¸å‡½æ•°çš„ç»‘å®šï¼Œæ­¤å¤„å³ï¼šå°†å‡½æ•°say()ç»‘å®šè‡³æ–¹æ³•åhelloä¸Š# å…¶å®classå®šä¹‰ä¸€ä¸ªç±»ä¸»è¦ä¹Ÿæ˜¯è¿™3ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†ï¼šç±»åã€ç»§æ‰¿ç±»ã€æ–¹æ³•# Hello2æ˜¯ä¸€ä¸ªä»¥åä¸º"Hello22"çš„ç±»çš„å¼•ç”¨ã€‚è¿™ä¸ªåä¸º"Hello22"çš„ç±»ä»¥objectä¸ºåŸºç±»,ç±»ä¸­æœ‰ä¸€ä¸ªsay()å‡½æ•°Hello2 = type('Hello22', (object,), dict(say=say))# 3.ä¸ºç±»ç»‘å®šä¸€ä¸ªå˜é‡Hello2.name = 'cwj'# æµ‹è¯•h2 = Hello2()print(h2.say()) # Hello, World 2!print(h2.name) # cwj metaclassä½¿ç”¨metaclassæ¥æ§åˆ¶ç±»çš„åˆ›å»ºè¡Œä¸º]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 10-é¢å‘å¯¹è±¡+å®šåˆ¶å¯¹è±¡]]></title>
    <url>%2FPython3%20%2010-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%2B%E5%AE%9A%E5%88%B6%E5%AF%B9%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[åœ¨ç¼–å†™ä¸€ä¸ªåŸºç¡€ç±»çš„åŸºç¡€ä¸Šï¼Œä¸ºå…¶é‡å†™æŸäº›é­”æ³•æ–¹æ³•ã€‚ pythonå…¶ä»–å†…ç½®é­”æ³•æ–¹æ³•ï¼š https://docs.python.org/3/reference/datamodel.html#special-method-nameshttp://www.cnblogs.com/simayixin/archive/2011/05/04/2036295.htmlpythonå¸¸ç”¨é­”æ³•æ–¹æ³•çš„å®ç°ï¼šhttp://www.cnblogs.com/scolia/p/5690210.html é­”æ³•æ–¹æ³•æœ‰ï¼š-1.__new__()ï¼šå¯¹è±¡çš„åˆ›å»ºï¼Œæ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯clsã€‚(ä¸å¯èƒ½æ˜¯selfï¼Œå› ä¸ºå¯¹è±¡è¿˜æ²¡åˆ›å»ºï¼Œå“ªæ¥çš„self)â€”æç¤ºå•ä¾‹æ¨¡å¼ä¸æ­¤æœ‰å…³ã€‚0.__init__()ï¼šå¯¹è±¡çš„åˆå§‹åŒ–ï¼Œ æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯selfã€‚1.__slots__()ï¼šçº¦æŸè¦ç»‘å®šçš„ä¸´æ—¶å˜é‡2.__len__()ï¼šè®©ç±»ä½œç”¨äºlen()3.__str__()ï¼šç±»ä¼¼äºjavaä¸­çš„toString()ï¼Œè¿”å›ç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²4.__repe__()ï¼šè¿”å›å¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²5.__iter__()ï¼šå°†ä¸€ä¸ªç±»è¢«ç”¨äºfor...inå¾ªç¯ä¸­ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å¯¹è±¡6.__getitem__()ï¼šåƒlisté‚£æ ·æŒ‰ç…§ä¸‹æ ‡å–å‡ºå…ƒç´ ï¼Œè¦åœ¨å…¶ä¸­å¤„ç†sliceåˆ‡ç‰‡ã€stepæ­¥é•¿7.__getattr__()ï¼šå½“è°ƒç”¨ä¸å­˜åœ¨çš„å±æ€§æ—¶ï¼ŒPythonè§£é‡Šå™¨ä¼šè¯•å›¾è°ƒç”¨__getattr__(self, &#39;attr&#39;)æ¥å°è¯•è·å¾—å±æ€§ã€‚åªæœ‰åœ¨æ²¡æœ‰æ‰¾åˆ°å±æ€§çš„æƒ…å†µä¸‹ï¼Œæ‰è°ƒç”¨__getattr__ï¼Œå·²æœ‰çš„å±æ€§å°†ä¸ä¼šåœ¨__getattr__ä¸­æŸ¥æ‰¾ã€‚è€Œä¸”ï¼Œå®é™…ä¸Šå¯ä»¥æŠŠä¸€ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•è°ƒç”¨å…¨éƒ¨åŠ¨æ€åŒ–å¤„ç†äº†ï¼Œä¸éœ€è¦ä»»ä½•ç‰¹æ®Šæ‰‹æ®µã€‚8.__call__() __iter__() é…åˆ __next__()ä½¿ç”¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354class Person(object): # æ„é€ æ–¹æ³• def __init__(self, name): self._name = name self.a, self.sum = 1, 0 # ä½¿æœ¬ç±»å¯ä»¥è¿­ä»£ def __iter__(self): return self # å…·ä½“çš„è¿­ä»£æ–¹æ³•ï¼Œæ­¤æ–¹æ³•çš„å®ç°æ˜¯å…³é”® def __next__(self): self.sum = self.sum + self.a if self.sum &gt; 10: raise StopIteration return self.sum # é‡å†™ toString()æ–¹æ³• def __str__(self): return 'Person name is ' + self._name __repr__ = __str__ '''æµ‹è¯•'''person = Person("cwj")# é‡å†™ __str__() ä¹‹åçš„æ•ˆæœprint(Person("cwj")) # Person name is cwjprint(person) # Person name is cwjprint(isinstance(person, Iterator)) # Trueprint(isinstance(person, Iterable)) # Truel = []# éå†Personåºåˆ—ï¼Œæ­¤æ—¶Personæ˜¯ä¸€ä¸ªIteratorfor n in person: l.append(n) print(n)# å°†ä¸€ä¸ªç±»éå†åå¾—åˆ°çš„ç»“æœèµ‹å€¼ç»™låºåˆ—print(l) # [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]'''12345678910''' __getitme__()é…åˆ__setitme__()ä½¿ç”¨12345678910111213141516171819class DictDemo(object): def __init__(self): self.dict = &#123;&#125; def __getitem__(self, item): if item in self.dict: return self.dict[item] else: return 'ä¸å­˜åœ¨' def __setitem__(self, key, value): self.dict[key] = value '''æµ‹è¯•'''dictD = DictDemo()dictD['1'] = 'cwj'dictD.__setitem__('1','234')print(dictD.__getitem__('1')) # 234print(dictD['2']) # ä¸å­˜åœ¨ ä¸€ä¸ªå®ç°è¿­ä»£ã€å®¹å™¨çš„ä¾‹å­ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112'''Animalç±» è‡ªå®šä¹‰é­”æ³•å‡½æ•°'''from pip._vendor.requests.packages.urllib3.connectionpool import xrange'''åˆ›å»ºä¸€ä¸ªæ¨¡æ‹Ÿå­—å…¸çš„ç±»ï¼Œè¿™ä¸ªç±»çš„å†…éƒ¨ç»´æŠ¤äº†ä¸¤ä¸ªåˆ—è¡¨ï¼Œkey è´Ÿè´£å‚¨å­˜é”®ï¼Œvalue è´Ÿè´£å‚¨å­˜å€¼ï¼Œä¸¤ä¸ªåˆ—è¡¨é€šè¿‡ç´¢å¼•çš„ä¸€ä¸€å¯¹åº”ï¼Œä»è€Œè¾¾åˆ°æ¨¡æ‹Ÿå­—å…¸çš„ç›®çš„'''class Animal(object): def __init__(self, key, value): self.key = [] self.value = [] self.key.append(key) self.value.append(value) self.__index = 0 # __len__æ–¹æ³•ï¼ŒæŒ‰ç…§åè®®ï¼Œè¿™ä¸ªæ–¹æ³•åº”è¯¥è¿”å›å®¹å™¨çš„é•¿åº¦ def __len__(self): return len(self.key) # __getitem__æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šåœ¨a['scolia']æ—¶ï¼Œè°ƒç”¨a.__getitem__('scolia')ã€‚ # ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ–¹æ³•å®šä¹‰äº†å…ƒç´ çš„è·å–. # å…ˆæ‰¾åˆ° key åˆ—è¡¨ä¸­å»ºçš„ç´¢å¼•ï¼Œç„¶åç”¨ç´¢å¼•å» value åˆ—è¡¨ä¸­æ‰¾å¯¹åº”çš„å…ƒç´ ï¼Œç„¶åå°†å…¶è¿”å› def __getitem__(self, item): if item in self.key: return self.value[self.key.index(item)] else: return 'ä¸å­˜åœ¨' # __setitem__(self, key, value)æ–¹æ³•å®šä¹‰äº† a['scolia'] = 'good' è¿™ç§æ“ä½œæ—¶çš„è¡Œä¸ºï¼Œ # æ­¤æ—¶å°†ä¼šè°ƒç”¨a.__setitem__('scolia', 'good') å› ä¸ºæ˜¯ç»‘å®šæ–¹æ³•ï¼Œæ‰€ä»¥selfæ˜¯è‡ªåŠ¨ä¼ é€’çš„ def __setitem__(self, key, value): if key not in self.key: self.key.append(key) self.value.append(value) else: __index = self.key.index(key) self.value[__index] = value # __delitem__(self, key)æ–¹æ³•å®šä¹‰äº†del a['scolia'] è¿™ç±»æ“ä½œæ—¶å€™çš„è¡Œä¸ºï¼Œ # é‡Œé¢çš„â€˜scoliaâ€™å°±ä½œä¸ºå‚æ•°ä¼ è¿›å» def __delitem__(self, key): if key in self.key: __index = self.key.index(key) del self.key[__index] del self.value[__index] else: return "keyå€¼ä¸å­˜åœ¨" '''åªæœ‰å®ç°é‡Œä»¥ä¸Šå››ä¸ªæ–¹æ³•ï¼Œå°±å¯ä»¥å½“åšå¯å˜å®¹å™¨æ¥ä½¿ç”¨äº†ã€‚''' # __str__ æ˜¯å¯¹åº”äº str() å‡½æ•°ï¼Œåœ¨ç±»çš„è¡¨ç¤ºä¸­ä¼šç»§ç»­è®¨è®ºï¼Œè¿™é‡Œæ˜¯ä¸ºäº† print è¯­å¥å¥½çœ‹æ‰åŠ è¿›å»çš„ï¼Œ # å› ä¸ºprintè¯­å¥é»˜è®¤å°±æ˜¯è°ƒç”¨str()å‡½æ•° def __str__(self): l = [] for index in xrange(len(self.key)): __key = self.key[index] __value = self.value[index] result = __key,__value l.append(result) return str(l) # å®ç°ä¸€ä¸ª__iter__æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è´Ÿè´£è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ def __iter__(self): return self # å†…éƒ¨å®ç°äº†nextï¼ˆpython3.xä¸º__next__ï¼‰æ–¹æ³•ï¼ŒçœŸæ­£è´Ÿè´£è¿­ä»£çš„å®ç°ã€‚ # å½“è¿­ä»£å™¨å†…çš„å…ƒç´ ç”¨å°½ä¹‹åï¼Œä»»ä½•çš„è¿›ä¸€æ­¥è°ƒç”¨éƒ½ä¹‹åè§¦å‘ StopIteration å¼‚å¸¸ # ä¸€èˆ¬ä¼šåœ¨ä¸€ä¸ªç±»é‡ŒåŒæ—¶å®ç°è¿™ä¸¤ç§æ–¹æ³•ï¼ˆå³æ˜¯å¯è¿­ä»£å¯¹è±¡åˆæ˜¯è¿­ä»£å™¨ï¼‰ï¼Œæ­¤æ—¶__iter__æ–¹æ³•åªè¦è¿”å›selfå°±è¶³å¤Ÿçš„äº† def __next__(self): if self.__index == len(self.key): self.__index = 0 raise StopIteration() else: __key = self.key[self.__index] __value = self.value[self.__index] result = __key, __value self.__index += 1 return result # __contains__å®ç°äº†æˆå‘˜åˆ¤æ–­ï¼Œè¿™é‡Œæˆ‘ä»¬æ›´å…³å¿ƒvalueåˆ—è¡¨ä¸­çš„æ•°æ®ï¼Œæ‰€ä»¥åˆ¤æ–­çš„æ˜¯valueåˆ—è¡¨ã€‚ # è¯¥æ–¹æ³•è¦æ±‚è¿”å›å¸ƒå°”å€¼ã€‚ def __contains__(self, item): if item in self.value: return True else: return False # __reversed__(self)æ–¹æ³•è¿”å›ä¸€ä¸ªå€’åºåçš„å‰¯æœ¬ï¼Œè¿™é‡Œä½“ç°äº†æœ‰åºæ€§ def __reversed__(self): __result = self.value __result.reverse() return __result'''å®é™…æµ‹è¯•'''m = Animal('1', 'cwj')print(m) # [('1', 'cwj')]print(m.__len__()) # 1m['2'] = 'ddd'm['3'] = 'qwe'm['2'] = 'lkj'print(m) # [('1', 'cwj'), ('2', 'lkj'), ('3', 'qwe')]print(m.__len__()) # 3del m['3']print(m) # [('1', 'cwj'), ('2', 'lkj')]print(m.__len__()) # 2print(reversed(m)) # ['lkj', 'cwj']print('cwj' in m) # True ç±»çš„åˆ‡ç‰‡æ“ä½œ å‚è€ƒï¼šhttp://www.cnblogs.com/scolia/p/5690210.html ä»£ç ç¤ºä¾‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758class Slices(object): def __init__(self, x): self._x = x self._index = -1 ''' # __getitem__()å®ç°æ”¯æŒforå¾ªç¯ def __getitem__(self, item): if isinstance(self._x, list): self._index += 1 return self._x[self._index] else: raise 'å‚æ•°ç±»å‹é”™è¯¯' ''' def __getitem__(self, item): # print(item.start, item.stop, item.step) # 1 2 1 # return item # slice(1, 2, 1) if isinstance(item, slice): return self._x[item.start:item.stop:item.step]'''æµ‹è¯•Slicesç±»''''''s = Slices([1, 2, 3, 4])for n in s: print(n)'''1234'''s2 = Slices('1234')for n in s2: print(n)'''s3 = Slices([1, 2, 3, 4, 5])# å½“ç›´æ¥è¿”å›itemå‚æ•°æ—¶çš„ç»“æœ# print(s3[1:4:1]) # slice(1, 2, 1)print(s3[1:4:1]) # [2, 3, 4]print(s3[-4:-2]) # [2, 3]print(s3[-3:-1]) # [3, 4]print(s3[-5:]) # [1, 2, 3, 4, 5]print(s3[:]) # [1, 2, 3, 4, 5]print(s3[-1::-1]) # [5, 4, 3, 2, 1]print(s3[-1:]) # [5]``` ## `__getattr__()`æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ç±»çš„`æ–¹æ³•`æˆ–`å±æ€§`æ—¶ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±ä¼šæŠ¥é”™ã€‚å¦‚ï¼š```pythonAttributeError: 'Student' object has no attribute 'score' è¦é¿å…è¿™ä¸ªé”™è¯¯ï¼ŒPythonæœ‰ä¸€ä¸ªæœºåˆ¶ï¼šå†™ä¸€ä¸ª__getattr__()æ–¹æ³•ï¼ŒåŠ¨æ€è¿”å›ä¸€ä¸ªå±æ€§ã€‚å½“è°ƒç”¨ä¸å­˜åœ¨çš„å±æ€§æ—¶ï¼Œæ¯”å¦‚colorï¼ŒPythonè§£é‡Šå™¨ä¼šè¯•å›¾è°ƒç”¨__getattr__(self, &#39;color&#39;)æ¥å°è¯•è·å¾—å±æ€§ï¼Œè¿™æ ·æˆ‘ä»¬å°±æœ‰æœºä¼šè¿”å›colorçš„å€¼ 123456789101112131415# è¿”å›ä¸å­˜åœ¨çš„å±æ€§ä¸å‡½æ•°# ä½œç”¨ï¼šå¯ä»¥é’ˆå¯¹å®Œå…¨åŠ¨æ€çš„æƒ…å†µä½œè°ƒç”¨def __getattr__(self, item): # è¿”å›æœªå®šä¹‰çš„å±æ€§ if item == 'color': return 'æ‚¨çœŸæ˜¯ 666 å•Š ~ è¿™ä¸ªå±æ€§éƒ½é¥çŒœåˆ°' elif item == 'address': return 'å“ˆå“ˆå“ˆ' # è¿”å›æœªå®šä¹‰çš„å‡½æ•° elif item == 'add': return lambda: 100 else: # æ³¨æ„åˆ°ä»»æ„è°ƒç”¨å¦‚s.abcéƒ½ä¼šè¿”å›Noneï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å®šä¹‰çš„__getattr__é»˜è®¤è¿”å›å°±æ˜¯None # è¦è®©classåªå“åº”ç‰¹å®šçš„å‡ ä¸ªå±æ€§,è¦æŒ‰ç…§çº¦å®šï¼ŒæŠ›å‡ºAttributeErroré”™è¯¯ raise AttributeError('\'Student\' object has no attribute \'%s\'' % item) __call__()ä¸__getattr__()ç»„åˆå®ç°URLä¸­çš„é“¾å¼(chain)è°ƒç”¨åœ¨pythonä¸­ï¼Œå‡½æ•°å…¶å®æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å¦‚ï¼š 12345&gt;&gt;&gt; f = abs&gt;&gt;&gt; f.__name__'abs'&gt;&gt;&gt; f(-123)123 ç”±äº f å¯ä»¥è¢«è°ƒç”¨ï¼Œæ‰€ä»¥ï¼Œf è¢«ç§°ä¸ºå¯è°ƒç”¨å¯¹è±¡ã€‚æ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯å¯è°ƒç”¨å¯¹è±¡ã€‚ä¸€ä¸ªç±»çš„å®ä¾‹å¯¹è±¡æƒ³è¦å˜æˆä¸€ä¸ªå¯è°ƒç”¨çš„å¯¹è±¡ï¼Œåªéœ€è¦å®ç°ä¸€ä¸ªé­”æ³•æ–¹æ³•__call__()ã€‚ å¯è°ƒç”¨å¯¹è±¡ä¸ä¸€èˆ¬å¯¹è±¡ å¯è°ƒç”¨å¯¹è±¡ï¼šobj.name(â€˜sourceâ€™).ageã€‚å³ï¼šæ—¢å¯ä»¥ä½¿ç”¨.è°ƒç”¨å±æ€§æˆ–æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨obj()ä»¥ä¸€ç§å‡½æ•°æ ·å¼ä½¿ç”¨æ­¤å¯¹è±¡ã€‚æ­¤æ—¶è°ƒç”¨obj(arg1,arg2,....)å°±ç­‰ä»·äºobj.__call__(self,arg1,arg2,...) ä¸€èˆ¬å¯¹è±¡ï¼šobj.nameã€‚å³ï¼šåªèƒ½ä½¿ç”¨.è°ƒç”¨å±æ€§æˆ–æ–¹æ³•ã€‚ å› ä¸º__call__()é­”æ³•æ–¹æ³•çš„åŠ å…¥ï¼Œå› æ­¤pythonçš„å‡½æ•°ä¸å¯¹è±¡ä¹‹é—´çš„æ¦‚å¿µè¢«æ¨¡ç³Šäº† URLä¸­çš„é“¾å¼è°ƒç”¨ï¼Œè¿™æ ·æ— è®ºAPIæ€ä¹ˆå˜ï¼ŒSDKéƒ½å¯ä»¥æ ¹æ®URLå®ç°å®Œå…¨åŠ¨æ€çš„è°ƒç”¨ï¼Œè€Œä¸”ï¼Œä¸éšAPIçš„å¢åŠ è€Œæ”¹å˜ï¼Œä»£ç ç¤ºä¾‹ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344'''URLChainç±»'''class URLChain(object): def __init__(self, path = ''): self.__path = path def __getattr__(self, item): # å®ç°å‚è€ƒï¼šhttps://zhidao.baidu.com/question/1865282935722979707.html # è¿”å›ä¸€ä¸ª URLChain å¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™é‡Œé¢çš„pathå°±æ˜¯''+'/'+'api'='/api'ï¼Œæ­¤æ—¶self = /api print('\'self.__path is\' :' + self.__path + ' , \'item is\' : ' + item + ' ï¼Œ ä¹‹å‰selfä¸ºï¼š', self) # å³ï¼šä¸Šä¸€ä¸ª '%s/%s' çš„æ•°å€¼ä»£æ›¿ï¼šæ„é€ å‡½æ•°ä¸­ path = ''ä¸­ '' çš„å…·ä½“æ•°å€¼ï¼Œç›¸å½“äºé‡æ–°æ„é€ äº†ä¸€ä¸ªå¯¹è±¡ï¼Œ # åœ¨å³å°†çš„è°ƒç”¨çš„è¿”å›å€¼ä¸­è¡¨ç¤ºå‚æ•°self.__pathçš„å€¼, æ–°ä¼ å…¥çš„å‚æ•°èµ‹å€¼ç»™item return URLChain('%s/%s' % (self.__path, item)) def __str__(self): return self.__path __repr__ = __str__ # å°†æ­¤ç±»çš„å®ä¾‹å¯¹è±¡å˜æˆä¸€ä¸ªå¯è°ƒç”¨çš„å¯¹è±¡ def __call__(self, path): print('__call__ ä¹‹å‰self is : ', self) print('__call__ path is : ' + path) return URLChain('%s/%s' % (self.__path, path))'''è°ƒç”¨URLChianç±»'''chain = URLChain()print(chain.api.server.user.friends)''''self.__path is' : , 'item is' : api ï¼Œ ä¹‹å‰selfä¸ºï¼š 'self.__path is' :/api , 'item is' : server ï¼Œ ä¹‹å‰selfä¸ºï¼š /api'self.__path is' :/api/server , 'item is' : user ï¼Œ ä¹‹å‰selfä¸ºï¼š /api/server'self.__path is' :/api/server/user , 'item is' : friends ï¼Œ ä¹‹å‰selfä¸ºï¼š /api/server/user/api/server/user/friends'''# å½“æ‰§è¡Œ ('cwj') è¿™ä¸€ä¸ªå‚æ•°æ—¶è°ƒç”¨çš„æ˜¯ URLChiançš„ __call__()print(chain.api.server('cwj').friends)''''self.__path is' : , 'item is' : api ï¼Œ ä¹‹å‰selfä¸ºï¼š 'self.__path is' :/api , 'item is' : server ï¼Œ ä¹‹å‰selfä¸ºï¼š /api__call__ ä¹‹å‰self is : /api/server__call__ path is : cwj'self.__path is' :/api/server/cwj , 'item is' : friends ï¼Œ ä¹‹å‰selfä¸ºï¼š /api/server/cwj/api/server/cwj/friends''' callable()çš„ä½¿ç”¨ï¼šåˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å‡½æ•°è¿˜æ˜¯å¯¹è±¡ä»£ç ç¤ºä¾‹ 1234# åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦èƒ½è¢«è°ƒç”¨ï¼Œèƒ½è¢«è°ƒç”¨çš„å¯¹è±¡å°±æ˜¯ä¸€ä¸ªCallableå¯¹è±¡,å‡½æ•°å’Œè‡ªå®šä¹‰çš„å¸¦æœ‰__call__()çš„ç±»å®ä¾‹å¯¹è±¡è¿”å›å€¼æ˜¯Trueï¼šprint(callable(chain)) # True URLChianå®ç°äº†__call__()é­”æ³•æ–¹æ³•print(callable(dictD)) # Falseprint(callable(abs)) # True]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 09-é¢å‘å¯¹è±¡]]></title>
    <url>%2FPython3%20%2009-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[ç±»çš„æ¨¡æ¿ 123456789101112131415161718192021222324252627'''ç±»æ¨¡æ¿'''class Student(object): def __init__(self, name, age, city): self.name = name self.age = age self.__city = city def print_info(self): print('self is : ', self) # self is : &lt;py_class.Student.Student object at 0x10c92c400&gt; # print(student) å¾—åˆ°çš„ç»“æœä¸ºï¼š&lt;py_class.Student.Student object at 0x10c92c400&gt; print('class is : ', self.__class__) # class is : &lt;class 'py_class.Student.Student'&gt; print('%s, %d, %s' % (self.name, self.age, self.__city)) def get_age(self): if self.age == 20: print('age is ', self.age) elif self.age &gt; 20: print('too old') else: print('too young') def get_city(self): return self.__city def set_city(self, city): self.__city = city å±æ€§ 1.ç±»å±æ€§ï¼šåƒæ˜¯Studentç±»ä¸­çš„nameå°±æ˜¯ç±»å±æ€§ 2.å®ä¾‹å±æ€§ï¼šåƒæ˜¯ä¸‹æ–‡ä¸­çš„student.__cityå°±æ˜¯å®ä¾‹å±æ€§ ç±»ä¸­å˜é‡åŠå‡½æ•°çš„å‘½åè§„èŒƒ ä»¥__å¼€å§‹ï¼Œå¹¶ä»¥__ åŒä¸‹åˆ’çº¿ ç»“æŸçš„æ˜¯pythonä¸­çš„ç‰¹æ®Šå˜é‡ï¼Œç‰¹æ®Šå˜é‡æ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„ï¼Œä¸æ˜¯privateå˜é‡ classåé¢ç´§æ¥ç€æ˜¯ç±»åï¼Œå³Studentï¼Œç±»åé€šå¸¸æ˜¯å¤§å†™å¼€å¤´çš„å•è¯ï¼Œç´§æ¥ç€æ˜¯(object)ï¼Œè¡¨ç¤ºè¯¥ç±»æ˜¯ä»å“ªä¸ªç±»ç»§æ‰¿ä¸‹æ¥çš„.é€šå¸¸ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„ç»§æ‰¿ç±»ï¼Œå°±ä½¿ç”¨objectç±»ï¼Œè¿™æ˜¯æ‰€æœ‰ç±»æœ€ç»ˆéƒ½ä¼šç»§æ‰¿çš„ç±» __init__æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯selfï¼Œè¡¨ç¤ºåˆ›å»ºçš„å®ä¾‹æœ¬èº«ï¼Œå› æ­¤ï¼Œåœ¨__init__æ–¹æ³•å†…éƒ¨ï¼Œå°±å¯ä»¥æŠŠå„ç§å±æ€§ç»‘å®šåˆ°selfï¼Œå› ä¸ºselfå°±æŒ‡å‘åˆ›å»ºçš„å®ä¾‹æœ¬èº«ã€‚ æœ‰äº†__init__æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œå°±ä¸èƒ½ä¼ å…¥ç©ºçš„å‚æ•°äº†ï¼Œå¿…é¡»ä¼ å…¥ä¸__init__æ–¹æ³•åŒ¹é…çš„å‚æ•°ï¼Œä½†selfä¸éœ€è¦ä¼ ï¼ŒPythonè§£é‡Šå™¨è‡ªå·±ä¼šæŠŠå®ä¾‹å˜é‡ä¼ è¿›å» åœ¨ç±»ä¸­å®šä¹‰çš„å‡½æ•°åªæœ‰ä¸€ç‚¹ä¸åŒï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯å®ä¾‹å˜é‡selfï¼Œå¹¶ä¸”ï¼Œè°ƒç”¨æ—¶ï¼Œä¸ç”¨ä¼ é€’è¯¥å‚æ•°ã€‚ selfæŒ‡å‘çš„ç±»çš„å®åŠ›å¯¹è±¡ã€‚ç”±ï¼š 12print('self is : ', self) # self is : &lt;py_class.Student.Student object at 0x10c92c400&gt;print(student) # &lt;py_class.Student.Student object at 0x10c92c400&gt; å¯ä»¥çœ‹å‡ºï¼Œselfå’Œstudentçš„ å†…å­˜åœ°å€ æ˜¯ä¸€æ ·çš„ã€‚ä»£ç ç¤ºä¾‹ 123456789'''è°ƒç”¨'''# åˆ›å»ºå®ä¾‹å¯¹è±¡student = Student('cwj',24, 'tianjin')student.print_info() # cwj, 24, tianjinstudent.get_age() # too old# è®¿é—®å±æ€§student.age = 19student.name = 'ddd' è®¿é—®é™åˆ¶è™½ç„¶æœ‰è®¿é—®é™åˆ¶çš„å‘½åæ–¹å¼ï¼Œä½†æ˜¯Pythonæœ¬èº«æ²¡æœ‰ä»»ä½•æœºåˆ¶é˜»æ­¢ä½ å¹²åäº‹ï¼Œä¸€åˆ‡å…¨é è‡ªè§‰ã€‚ ä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„å˜é‡ï¼Œå£°æ˜ä¸ºç±»å†…éƒ¨çš„ç§æœ‰å˜é‡ï¼Œä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨ç›´æ¥ä½¿ç”¨æˆ–è®¿é—®ï¼šåœ¨å˜é‡å‰é¢æ·»åŠ __ï¼Œå³ï¼š__nameã€‚åœ¨ç±»å†…éƒ¨çš„æ–¹æ³•ä¸­ä½¿ç”¨æ—¶ self.__private_attrsã€‚ ä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„æ–¹æ³•ï¼Œå£°æ˜ä¸ºç±»å†…éƒ¨çš„ç§æœ‰æ–¹æ³•ã€‚ä¸èƒ½åœ¨ç±»åœ°å¤–éƒ¨è°ƒç”¨ï¼Œåœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ self.__private_methods. å•ä¸‹åˆ’çº¿å¼€å¤´è¡¨ç¤ºçš„protectedç±»å‹çš„å˜é‡ï¼Œåªå…è®¸æœ¬èº«åŠå…¶å­ç±»è¿›è¡Œè®¿é—®ã€‚ ç±»çš„æ–¹æ³•åœ¨ç±»çš„å†…éƒ¨ï¼Œä½¿ç”¨ def å…³é”®å­—å¯ä»¥ä¸ºç±»å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¸€èˆ¬å‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»æ–¹æ³•å¿…é¡»åŒ…å«å‚æ•° self,ä¸”ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä»£ç ç¤ºä¾‹: 123456789101112131415161718192021 # æ­¤è¡Œä»£ç è²Œä¼¼ä¿®æ”¹äº† Student ç±»ä¸­çš„ __city å±æ€§,å®é™…è¿™æ˜¯ä¸ºstudentæ·»åŠ äº†ä¸€ä¸ªå±æ€§ã€‚ student.__city = 'beijing' # è€Œä¸”è¾“å‡ºç»“æœä¹Ÿæ˜¾ç¤ºï¼›__city å±æ€§ çš„å€¼ä¹Ÿå˜æˆäº†ï¼šbeijing print(student.__city) # beijing # ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬é€šè¿‡ç±»è‡ªèº«çš„get()è·å–å±æ€§å€¼æ—¶ï¼Œå‘ç°è¿˜æ˜¯ä¹‹å‰åˆå§‹åŒ–æ—¶çš„å±æ€§å€¼ã€‚å³ï¼štianjin print(student.get_city()) # tianjin print(hasattr(student, 'name')) # True # åˆ é™¤ä¸´æ—¶æ·»åŠ çš„ __city å±æ€§ # del student.__city# print(student.__city) # AttributeError: 'Student' object has no attribute '__city' # å½“æˆ‘ä»¬é€šè¿‡ç±»è‡ªèº«çš„set()æ–¹æ³•ä¿®æ”¹ __city å±æ€§å€¼æ—¶ï¼Œé€šè¿‡get()å¾—åˆ°çš„å±æ€§å€¼æ˜¯ä¿®æ”¹ä¹‹åçš„ã€‚ student.set_city('hk') print(student.get_city()) # hk # ç”±æ­¤å¯ä»¥å¾—å‡ºï¼šæ­¤æ—¶çš„ student.__city ä¸ student.set_city() ä¸­çš„ __city å¹¶ä¸æ˜¯åŒä¸€ä¸ªå±æ€§ # student.__city ä¸­çš„ __city æ˜¯studentçš„ä¸€ä¸ªæ–°çš„åŒåå±æ€§ student.print_info() # ddd, 19, hk Pythonå†…ç½®ç±»å±æ€§ __dict__ : ç±»çš„å±æ€§ï¼ˆåŒ…å«ä¸€ä¸ªå­—å…¸ï¼Œç”±ç±»çš„æ•°æ®å±æ€§ç»„æˆï¼‰ __doc__ :ç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œå³ï¼šæ³¨é‡Š __name__: ç±»å __module__: ç±»å®šä¹‰æ‰€åœ¨çš„æ¨¡å—ï¼ˆç±»çš„å…¨åæ˜¯__main__.classNameï¼Œå¦‚æœç±»ä½äºä¸€ä¸ªå¯¼å…¥æ¨¡å—mymodä¸­ï¼Œé‚£ä¹ˆclassName.__module__ ç­‰äº mymodï¼‰ __bases__ : ç±»çš„æ‰€æœ‰çˆ¶ç±»æ„æˆå…ƒç´ ï¼ˆåŒ…å«äº†ä¸€ä¸ªç”±æ‰€æœ‰çˆ¶ç±»ç»„æˆçš„å…ƒç»„ï¼‰ ä»£ç ç¤ºä¾‹ 123456789101112131415# ç”± ç±» è¿›è¡Œè°ƒç”¨ __dict__print(Student.__dict__) # &#123;'__module__': 'py_class.Student', '__init__': &lt;function Student.__init__ at 0x100ccf8c8&gt;, 'print_info': &lt;function Student.print_info at 0x100ccf950&gt;, 'get_age': &lt;function Student.get_age at 0x100ccf9d8&gt;, 'get_city': &lt;function Student.get_city at 0x100ccfa60&gt;, 'set_city': &lt;function Student.set_city at 0x100ccfae8&gt;, '__dict__': &lt;attribute '__dict__' of 'Student' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'Student' objects&gt;, '__doc__': None&#125;# ç”± å¯¹è±¡ è°ƒç”¨ __dict__ æ–¹æ³•ç±»ä¼¼äºï¼šjavaä¸­çš„toString()print(student.__dict__) # &#123;'name': 'ddd', 'age': 19, '_Student__city': 'hk', '__city': 'beijing'&#125;print(student.__doc__) # None# ç”± ç±» è¿›è¡Œè°ƒç”¨print(Student.__name__) # Studentprint(student.__module__) # py_class.Student# ç”± ç±» è¿›è¡Œè°ƒç”¨print(Student.__bases__) # (&lt;class 'object'&gt;,) pythonå¯¹è±¡çš„é”€æ¯åƒåœ¾å›æ”¶ â€”â€” å¼•ç”¨è®¡æ•° + å¾ªç¯å¼•ç”¨ å¼•ç”¨è®¡æ•°æ³•ã€‚å½“è·Ÿè¸ªå˜é‡å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å˜ä¸º0æ—¶ï¼Œå®ƒå°†ä¼šè¢«å›æ”¶ã€‚ä½†ä¸æ˜¯ç«‹å³è¢«å›æ”¶ï¼Œè€Œæ˜¯ç”±â€˜è§£é‡Šå™¨â€™åœ¨é€‚å½“çš„æ—¶æœºå°†å…¶å›æ”¶ã€‚ å¾ªç¯å¼•ç”¨ã€‚å½“ä¸¤ä¸ªå¯¹è±¡ç›¸äº’å¼•ç”¨ï¼Œä½†æ˜¯æ²¡æœ‰å…¶ä»–çš„å˜é‡å¼•ç”¨ä»–ä»¬ã€‚æ­¤æ—¶å¾ªç¯åƒåœ¾å›æ”¶å™¨å°†ä¼šå·¥ä½œã€‚ ä»£ç ç¤ºä¾‹ 1del student.__city ç»§æ‰¿æ”¯æŒå¤šç»§æ‰¿çˆ¶ç±»çš„æ„é€ å™¨ï¼ˆ__init__(self)ï¼‰ä¸ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ï¼Œéœ€è¦åœ¨å­ç±»ä¸­äº²è‡ªä¸“é—¨è°ƒç”¨pythonæ€»æ˜¯å…ˆåœ¨æœ¬ç±»ä¸­æŸ¥æ‰¾è°ƒç”¨çš„æ–¹æ³•ï¼Œæ‰¾ä¸åˆ°æ‰ä¼šå»çˆ¶ç±»ä¸­ç»§ç»­å¯»æ‰¾ å‡ ä¸ªåŸºç¡€çš„é‡è½½æ–¹æ³• 1.__init__(self,[]) æ„é€ æ–¹æ³• 2.__del__(self) åˆ é™¤ä¸€ä¸ªå¯¹è±¡ï¼Œdell obj 3.__repr__(self) è½¬åŒ–ä¸ºä¾›è§£é‡Šå™¨è¯»å–çš„å½¢å¼ 4.__str__(self) å°†å€¼è½¬åŒ–ä¸ºå§‹äºäººé˜…è¯»çš„å½¢å¼ 5.__cmp__(self,x) å¯¹è±¡æ¯”è¾ƒ ä»£ç ç¤ºä¾‹ çˆ¶ç±» 123456789101112131415161718192021222324252627'''çˆ¶ç±» 1 ''' class Animal(object): def __init__(self, name, age): self.__name = name self.__age = age def get_name(self): return self.__name def get_age(self): return self.__age def set_name(self, name): self.__name = name def set_age(self, age): self.__age = age def run(self): print('Animal is running') '''çˆ¶ç±» 2''' class Pet(object): def play(self): print(self.__name + " is very good !") å­ç±» 1234567891011121314151617181920212223242526272829303132333435363738from py_class.Animal import Animalfrom py_class.Pet import Pet# å¤šç»§æ‰¿class Pig(Animal, Pet): def __init__(self, name, age): self.__name = name self.__age = age def run(self): print('pig is running very slowly...')from py_class.Animal import Animal# å•ç»§æ‰¿class Dog(Animal): def __init__(self, name, age): self.__name = name self.__age = age def run(self): print(self.__name + ' is running')from py_class.Animal import Animal# å•ç»§æ‰¿class Cat(Animal): def __init__(self, name, age): self.__name = name self.__age = age def run(self): print(self.__name + 'is running') æµ‹è¯•ç±» 123456789101112131415161718from py_class.Animal import Animalfrom py_class.Dog import Dogfrom py_class.Cat import Catfrom py_class.PIg import Pigdog = Dog('wangwang', 1)dog.run()cat = Cat('miaomiao', 1)cat.run()pig = Pig('big pig', 100)pig.run() # pig is running very slowly...# pig.play() # big pig is very good !print(isinstance(cat, Animal)) # Trueprint(isinstance(cat, Cat)) # True'''ç”±æ­¤å¯è§ï¼Œcatå˜é‡æ—¢æ˜¯Catç±»å‹ï¼Œä¹Ÿæ˜¯Animalç±»å‹''' å¤šæ€ä»£ç ç¤ºä¾‹ 1234567891011121314151617181920212223242526''' å¤šæ€çš„å®ç°æ–¹å¼ 1 ç±»ä¼¼äºjavaè¿™ç§é™æ€è¯­è¨€çš„å®ç°ï¼Œå¿…é¡»ä¼ å…¥Animalç±»å‹æˆ–å…¶å­ç±» # å¤šæ€çš„ä½¿ç”¨ å°† çˆ¶ç±» ä½œä¸ºå‚æ•°def run_test(animal): animal.run()'''''' å¤šæ€çš„å®ç°æ–¹å¼ 2 å±äºpythonçš„åŠ¨æ€è¯­è¨€å®ç°' è¿™ç§æ–¹å¼å®ç°çš„ç»“æœä¸ æ–¹å¼ 1 å®Œå…¨ä¸€æ · åŸç†ï¼š ä¸ä¸€å®šè¦ä¼ å…¥Animalç±»å‹ï¼Œåªè¦ä¿è¯ä¼ å…¥çš„å¯¹è±¡ä¸€ä¸ªrun()æ–¹æ³•å°±å¯ä»¥äº†. ä¾‹å¦‚ï¼šä¼ é€’çš„å¯¹è±¡ä¸ºintsï¼Œè¿™ä¸æ˜¯Animalçš„ä»»ä½•ä¸€ä¸ªå­ç±»ï¼Œåªè¦å°†èµ‹äºˆrun()æ–¹æ³•å°±è¶³ä»¥ã€‚ åŠ¨æ€è¯­è¨€çš„'é¸­å­ç±»å‹'ï¼š å®ƒå¹¶ä¸è¦æ±‚ä¸¥æ ¼çš„ç»§æ‰¿ä½“ç³»ï¼Œä¸€ä¸ªå¯¹è±¡åªè¦"çœ‹èµ·æ¥åƒé¸­å­ï¼Œèµ°èµ·è·¯æ¥åƒé¸­å­"ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯é¸­å­ã€‚'''def run_test(ints): ints.run()# å¤šæ€çš„ä½¿ç”¨ å®é™…å‚æ•°ä¸ºå…·ä½“çš„å­ç±»ï¼Œå¾—åˆ°çš„ç»“æœä¸ºå„ä¸ªå­ç±»çš„å…·ä½“è¡¨ç°run_test(Animal('Animal', 1)) # Animal is runningrun_test(Dog('Dog', 1)) # Dog is runningrun_test(Cat('Cat', 1)) # Catis runningrun_test(Pig('Cat', 1)) # pig is running very slowly... è·å–å¯¹è±¡ä¿¡æ¯ getattr(obj, name[, default]) : è®¿é—®å¯¹è±¡çš„å±æ€§ã€‚ hasattr(obj,name) : æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå±æ€§ã€‚ setattr(obj,name,value) : è®¾ç½®ä¸€ä¸ªå±æ€§ã€‚å¦‚æœå±æ€§ä¸å­˜åœ¨ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°å±æ€§ã€‚ delattr(obj, name) : åˆ é™¤å±æ€§ã€‚ 12345678910111213141516171819202122232425262728'''isinstance() æŸ¥çœ‹ä¸€ä¸ªå˜é‡çš„ç»§æ‰¿å…³ç³»'''print(isinstance(cat, Animal)) # Trueprint(isinstance(cat, Cat)) # Trueprint(isinstance(pig, Animal)) # Trueprint(isinstance(pig, Pet)) # Trueprint(isinstance(pig, Pig)) # True''' type() å½“ä½¿ç”¨ç»§æ‰¿å…³ç³»æ—¶ï¼Œä½¿ç”¨type()ä¸èƒ½ä¸€ç›´å‘ä¸Šå¾—åˆ°ä»–ä»¬çš„çˆ¶ç±»ï¼Œ å› æ­¤ï¼Œå¯¹äºæœ‰ ç»§æ‰¿å…³ç³» çš„ç±»æ¥è¯´ä¸åˆé€‚'''print(type(123)) # &lt;class 'int'&gt;print(type(dog)) # &lt;class 'py_class.Dog.Dog'&gt;def compare(obj1, obj2): if type(obj1) == type(obj2): print(type(obj1) == type(obj2)) print(str(obj1) + '==' + str(obj2)) else: print(type(obj1) == type(obj2)) # False print(str(obj1) + '!=' + str(obj2))compare(dog, cat)'''è·å–ä¸€ä¸ªå¯¹è±¡æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•'''print(dir(dog))# ['_Dog__age', '_Dog__name', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'get_age', 'get_name', 'run', 'set_age', 'set_name']]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 09-é¢å‘å¯¹è±¡+ä¸´æ—¶å˜é‡ã€æ–¹æ³•+@property+å¤šç»§æ‰¿]]></title>
    <url>%2FPython3%20%2009-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%2B%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F%E3%80%81%E6%96%B9%E6%B3%95%2B%40property%2B%E5%A4%9A%E7%BB%A7%E6%89%BF%2F</url>
    <content type="text"><![CDATA[ç»‘å®šä¸´æ—¶å˜é‡å’Œä¸´æ—¶å‡½æ•° â€“ ä¸é™å®šå‚æ•°ä½¿ç”¨pythonè¯­è¨€`åŠ¨æ€è¯­è¨€`è¿™ä¸€ç‰¹æ€§ã€‚ ç»‘å®šä¸´æ—¶å˜é‡ ä¸ºå®ä¾‹å¯¹è±¡ç»‘å®šä¸´æ—¶å˜é‡ 123456# åŠ¨æ€çš„å°† new_name å±æ€§ç»‘å®šè‡³ å®ä¾‹ ä¸­dog.new_name = 'new cwj'print(dog.new_name) # new cwj# åˆ é™¤ä¸´æ—¶æ·»åŠ çš„ new_name å±æ€§del dog.new_name ä¸ºç±»ç»‘å®šä¸´æ—¶å˜é‡ 123456789# åŠ¨æ€çš„å°† new_name_2 å±æ€§ç»‘å®šè‡³ Dogç±» ä¸­Dog.new_name_2 = 'new cwj 2'print(dog.new_name_2) # new cwj 2dog2 = Dog('wangwang', 1)print(dog2.new_name_2) # new cwj 2'''å¯ä»¥çœ‹åˆ° dog ä¸ dog2 ä¸¤ä¸ªå®ä¾‹éƒ½å…·æœ‰ new_name_2 å±æ€§ï¼Œç”±æ­¤å¯è§ new_name_2 å±æ€§å·²ç»åŠ¨æ€çš„æ·»åŠ è‡³Dogç±»ä¸­''' ç»‘å®šä¸´æ—¶å‡½æ•° ä¸ºå®ä¾‹å¯¹è±¡ç»‘å®šä¸´æ—¶å‡½æ•° 12345678910111213141516171819202122232425from types import MethodTypedef set_color(self, color): self.color = color# ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªæ–¹æ³•dog.set_color = MethodType(set_color, dog)# é€šè¿‡è¿™ä¸ªæ–¹æ³•ä¸ºä¸´æ—¶çš„colorèµ‹å€¼dog.set_color('red')# set_color()è¿™ä¸ªæ–¹æ³•æ˜¯ä¸´æ—¶èµ‹ç»™dogå˜é‡çš„ï¼Œè€Œä¸æ˜¯èµ‹ç»™dog2çš„# dog2.set_color('green') # AttributeError: 'Dog' object has no attribute 'set_color'# è¾“å‡ºä¸´æ—¶å‚æ•°colorçš„å€¼print(dog.color) # red# åˆ é™¤ä¸´æ—¶æ–¹æ³•ï¼Œåˆ é™¤æ­¤æ–¹æ³•çš„åŒæ—¶ï¼Œä¹Ÿåˆ é™¤äº†æ­¤æ–¹æ³•å†…çš„å†å²å˜é‡del dog.set_color# åˆ é™¤ä¸´æ—¶å‚æ•°# del dog.color# å½“åˆ é™¤ä¸´æ—¶æ–¹æ³•åï¼Œæ­¤æ–¹æ³•å°†ä¸å†èƒ½ä½¿ç”¨# dog.set_color('green') # AttributeError: 'Dog' object has no attribute 'set_color' ä¸ºç±»ç»‘å®šä¸´æ—¶å‡½æ•° 1234567891011121314151617# å®šä¹‰ä¸€ä¸ªä¸´æ—¶çš„æ–¹æ³•def set_color2(self, color): self.color = color# å°†ä¸´æ—¶å®šä¹‰çš„æ–¹æ³•ç»‘å®šç»™ Dogè¿™ä¸ªç±»Dog.set_color2 = set_color2# Dogç±»çš„ä¸¤ä¸ªå˜é‡dogå’Œdog2åˆ†åˆ«è°ƒç”¨set_color2()dog.set_color2('blue')dog2.set_color2('black')# æµ‹è¯•ä¸´æ—¶å‡½æ•°æ˜¯å¦å¯¹ä¸´æ—¶å˜é‡èµ‹å€¼æˆåŠŸprint(dog2.color) # blackprint(dog.color) # blue# åˆ é™¤ä¸´æ—¶çš„æ–¹æ³•del Dog.set_color2 ç»‘å®šä¸´æ—¶å˜é‡å’Œä¸´æ—¶å‡½æ•° â€“ é™å®šå‚æ•° __slots__å˜é‡`__slots__`å®šä¹‰çš„å±æ€§ä»…å¯¹å½“å‰ç±»å®ä¾‹èµ·ä½œç”¨ï¼Œå¯¹ç»§æ‰¿çš„å­ç±»æ˜¯ä¸èµ·ä½œç”¨çš„. é™¤éåœ¨å­ç±»ä¸­ä¹Ÿå®šä¹‰`__slots__`ï¼Œè¿™æ ·ï¼Œå­ç±»å®ä¾‹å…è®¸å®šä¹‰çš„å±æ€§å°±æ˜¯è‡ªèº«çš„`__slots__`åŠ ä¸Šçˆ¶ç±»çš„`__slots__` ä»£ç ç¤ºä¾‹ 12345678910111213141516171819202122'''å£°æ˜Petç±»'''class Pet(object): ''' ä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡ __slots__ï¼Œè¿™ä¸ªå˜é‡å¯ä»¥é™åˆ¶å¤–éƒ¨ä¸ºPetç±»æ·»åŠ çš„å±æ€§ã€‚ ä¾‹å¦‚æ­¤å¤„ï¼Œåªå…è®¸å¤–éƒ¨ä¸ºPetç±»æ·»åŠ  name å’Œ age ä¸¤ä¸ªå±æ€§ ''' __slots__ = ('name2', 'age')'''è°ƒç”¨Petç±»'''pet = Pet()pet.name2 = 'big pig'pet.age = 2# é€šè¿‡ __slots__ å˜é‡çš„å£°æ˜ï¼Œcolorä¸å…è®¸è¢«å®šä¹‰# pet.color = 'yellow' # AttributeError: 'Pet' object has no attribute 'color'# print(Pet.__doc__) # è¾“å‡ºæ³¨é‡Šprint(pet.name2) # big pigprint(pet.age) # 2# pig å®ä¾‹å¯¹è±¡ä¸èƒ½è°ƒç”¨ä¸´æ—¶å˜é‡ name2ï¼Œå› ä¸º __slots__å˜é‡å®šä¹‰çš„å‚æ•°åç§°ä¹‹èƒ½é™å®šåœ¨å®ƒæ‰€åœ¨çš„ç±»ä¸­ï¼Œå¯¹å­ç±»ä¸èµ·ä½œç”¨# print(pig.name2) # AttributeError: name2 @propertyçš„ä½¿ç”¨æ—¢èƒ½æ£€æŸ¥å‚æ•°ï¼Œåˆå¯ä»¥`ç”¨ç±»ä¼¼å±æ€§`è¿™æ ·ç®€å•çš„æ–¹å¼æ¥`è®¿é—®ç±»çš„å˜é‡` å®ç° å…³é”®å­—ï¼š@property,@å‚æ•°å.setter ä»£ç ç¤ºä¾‹ - Petç±» 12345678910111213141516171819'''Petç±»'''class Pet(object): def play(self): print(self.__name + " is very good !") '''@propertyçš„ä½¿ç”¨''' # æ­¤å¤„çš„ color ä¸º æ­¤ç±»å¯¹å¤–ç•Œå£°æ˜çš„ä¸€ä¸ªå˜é‡ï¼Œå³ï¼šæ˜¯ä¸€ä¸ªå˜é‡å # æ­¤æ–¹æ³•ç›¸å½“äº get_color() @property def color(self): return self._color # æ­¤æ–¹æ³•ç›¸å½“äº set_color(self, color) @color.setter def color(self, color): if not isinstance(color, str): raise ValueError('input a str') self._color = color ä»£ç ç¤ºä¾‹ - è°ƒç”¨ 123456# é”™è¯¯çš„å†™æ³•ï¼ŒéªŒè¯å¯¹äºå‚æ•°çš„æ£€éªŒ# pet.color = 123 # ValueError: input a strpet2 = Pet()# ä¸ºPetç±»çš„colorå±æ€§è®¾ç½®å…·ä½“çš„å‚æ•°pet2.color = 'grew'print(pet2.color) # grew å¤šç»§æ‰¿åœ¨è®¾è®¡ç±»çš„ç»§æ‰¿å…³ç³»æ—¶ï¼Œé€šå¸¸ï¼Œä¸»çº¿éƒ½æ˜¯å•ä¸€ç»§æ‰¿ä¸‹æ¥çš„ï¼Œå¦‚æœéœ€è¦â€œæ··å…¥â€é¢å¤–çš„åŠŸèƒ½ï¼Œé€šè¿‡å¤šé‡ç»§æ‰¿å°±å¯ä»¥å®ç°ï¼Œä¸€ä¸ªç±»åœ¨ç»§æ‰¿äº†ä¸€ä¸ªç±»çš„åŸºç¡€ä¸Šï¼Œå†æ¬¡ç»§æ‰¿å¦ä¸€ä¸ªç±»ã€‚è¿™ç§è®¾è®¡é€šå¸¸ç§°ä¹‹ä¸º`MixIn`ã€‚ MixInçš„ç›®çš„å°±æ˜¯ç»™ä¸€ä¸ªç±»å¢åŠ å¤šä¸ªåŠŸèƒ½ï¼Œè¿™æ ·ï¼Œåœ¨è®¾è®¡ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼˜å…ˆè€ƒè™‘é€šè¿‡å¤šé‡ç»§æ‰¿æ¥ç»„åˆå¤šä¸ªMixInçš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯è®¾è®¡å¤šå±‚æ¬¡çš„å¤æ‚çš„ç»§æ‰¿å…³ç³»ã€‚ å¦‚ï¼š 12class Dog(Mammal, RunnableMixIn, CarnivorousMixIn): pass]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 08-æ¨¡å—]]></title>
    <url>%2FPython3%20%2008-%E6%A8%A1%E5%9D%97%2F</url>
    <content type="text"><![CDATA[Pythonæ‰€æœ‰çš„å†…ç½®å‡½æ•°ï¼šhttps://docs.python.org/3/library/functions.html å®šä¹‰åœ¨`python`ä¸­ä¸€ä¸ª`.py`æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—(Module) ä¼˜ç‚¹ æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ ä»£ç çš„å¤ç”¨æ€§ é¿å…å‡½æ•°åå’Œå˜é‡åçš„å†²çª ä¸ºé¿å…æ¨¡å—åå‘½åå†²çªï¼Œå¼•å…¥äº†åŒ…(æ¯ä¸€ä¸ªåŒ…ç›®å½•ä¸‹éƒ½æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼š__init__.pyã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼Œå¦åˆ™pythonå›å°†è¿™ä¸ªç›®å½•å½“æˆæ™®é€šçš„ç›®å½•ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªpythonåŒ…ã€‚è¿™ä¸ªæ–‡ä»¶å¯ä»¥æ˜¯ç©ºæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æœ‰ä»£ç ã€‚å› ä¸º__init__.pyæœ¬èº«å°±æ˜¯ä¸€ä¸ªæ¨¡å—(mycompany)) æ¨¡æ¿1234567891011121314151617#!/usr/bin/env python3# _*_ coding:utf-8 _*_# å½“å‰æ¨¡å—çš„æ–‡æ¡£æ³¨é‡Šï¼Œä»»ä½•æ¨¡å—ä»£ç çš„ç¬¬ä¸€è¡Œå­—ç¬¦ä¸²éƒ½è§†ä¸ºè¯¥æ¨¡å—æ–‡æ¡£çš„æ³¨é‡Š'A test module'# ä½¿ç”¨'__author__'å˜é‡å°†ä½œè€…çš„åå­—å†™å…¥æ­¤æ¨¡å—__author__ = 'Yannis Cheng''''ä»¥ä¸Šä¸ºpythonæ¨¡å—çš„æ ‡å‡†æ–‡ä»¶æ¨¡æ¿''''''æ³¨æ„åˆ°è¿™ä¸¤è¡Œä»£ç ï¼š'''if __name__=='__main__': test()'''å½“æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œè¿è¡Œhelloæ¨¡å—æ–‡ä»¶æ—¶ï¼ŒPythonè§£é‡Šå™¨æŠŠä¸€ä¸ªç‰¹æ®Šå˜é‡`__name__`ç½®ä¸º`__main__`ï¼Œè€Œå¦‚æœåœ¨å…¶ä»–åœ°æ–¹å¯¼å…¥è¯¥helloæ¨¡å—æ—¶ï¼Œifåˆ¤æ–­å°†å¤±è´¥ï¼Œå› æ­¤ï¼Œè¿™ç§ifæµ‹è¯•å¯ä»¥è®©ä¸€ä¸ªæ¨¡å—é€šè¿‡å‘½ä»¤è¡Œè¿è¡Œæ—¶æ‰§è¡Œä¸€äº›é¢å¤–çš„ä»£ç ï¼Œæœ€å¸¸è§çš„å°±æ˜¯è¿è¡Œæµ‹è¯•ã€‚''' å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—åœ¨Pythonä¸­ï¼Œå®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæ˜¯é€šè¿‡åŒ…ç®¡ç†å·¥å…·`pip`å®Œæˆçš„ã€‚ åœ¨Macæˆ–è€…Linuxä¸‹å¯èƒ½ä¼šå¹¶å­˜`Python 3.X`å’Œ`Python 2.X`ï¼Œæ­¤æ—¶çš„å‘½ä»¤åº”è¯¥ä¸º`pip3` å‡½æ•°&amp;å˜é‡ ä½œç”¨åŸŸ å…¬å¼€publicï¼šå¯ä»¥è¢«ç›´æ¥å¼•ç”¨ï¼Œå¦‚â€™absâ€˜ç­‰ã€‚ç±»ä¼¼__name__è¿™æ ·çš„å˜é‡æ˜¯ç‰¹æ®Šå˜é‡å¯ä»¥è¢«ç›´æ¥å¼•ç”¨ã€‚è‡ªå·±å®šä¹‰çš„å˜é‡ä¸€èˆ¬ä¸ä½¿ç”¨è¿™ç§å˜é‡åã€‚ éå…¬å¼€ï¼š_abcï¼Œ__aabc pythonä¸­å¹¶æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥å®Œå…¨é™åˆ¶è®¿é—®privateå‡½æ•°è®¿é—®ï¼Œä½†æ˜¯ä»ç¼–ç¨‹ä¹ æƒ¯ä¸­ä¸åº”è¯¥å¼•ç”¨privateå‡½æ•°æˆ–å˜é‡]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 06-é—­åŒ…+åŒ¿å+è£…é¥°å™¨+åå‡½æ•°]]></title>
    <url>%2FPython3%20%2006-%E9%97%AD%E5%8C%85%2B%E5%8C%BF%E5%90%8D%2B%E8%A3%85%E9%A5%B0%E5%99%A8%2B%E5%81%8F%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://www.cnblogs.com/vamei/archive/2012/12/15/2772451.html é—­åŒ…é—­åŒ…æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„é‡è¦è¯­æ³•ç»“æ„ï¼Œpythonæ˜¯ä»¥`å‡½æ•°å¯¹è±¡`ä¸ºåŸºç¡€çš„ï¼Œpythonä¸€åˆ‡çš†å¯¹è±¡ã€‚å‡½æ•°è¿™ä¸€è¯­æ³•ç»“æ„ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ å®šä¹‰è§£é‡Š åœ¨ä¸€ä¸ªå†…éƒ¨å‡½æ•°é‡Œï¼Œå¯¹åœ¨å¤–éƒ¨ä½œç”¨åŸŸçš„ï¼ˆéå…¨å±€ï¼‰å˜é‡è¿›è¡Œå¼•ç”¨ï¼Œé‚£ä¹ˆå†…éƒ¨å‡½æ•°å°±è®¤ä¸ºæ˜¯é—­åŒ…closure â€˜é—­åŒ…â€™æ˜¯â€˜è¯æ³•é—­åŒ…â€™çš„ç®€ç§°ï¼Œæ˜¯æŒ‡åº”ç”¨äº†è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚è¿™ä¸ªè¢«å¼•ç”¨çš„è‡ªç”±å˜é‡çš„å°†å’Œè¿™ä¸ªå‡½æ•°ä¸€åŒå­˜åœ¨ï¼Œå³ä½¿å·²ç»ç¦»å¼€äº†åˆ›é€ å®ƒçš„ç¯å¢ƒä¹Ÿä¸ä¾‹å¤–ã€‚ â€˜é—­åŒ…â€™æ˜¯ç”±å‡½æ•°å’Œå…¶ä»–ç›¸å…³çš„å¼•ç”¨ç¯å¢ƒç»„åˆè€Œæˆçš„å®ä½“ã€‚é—­åŒ…åœ¨è¿è¡Œæ—¶å¯ä»¥æœ‰å¤šä¸ªå®ä¾‹ï¼Œä¸åŒçš„å¼•ç”¨ç¯å¢ƒå’Œç›¸åŒçš„å‡½æ•°ç»„åˆå¯ä»¥äº§ç”Ÿä¸åŒçš„å®ä¾‹ã€‚ â€˜pythonâ€™ä¸­çš„é—­åŒ…ï¼šä¸€ä¸ªé—­åŒ…å°±æ˜¯ä½ è°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°Aï¼Œè¿™ä¸ªå‡½æ•°Aè¿”å›äº†ä¸€ä¸ªå‡½æ•°Bç»™ä½ ã€‚è€Œè¿™ä¸ªå‡½æ•°Bå°±å«åšé—­åŒ…ï¼Œåœ¨è°ƒç”¨å‡½æ•°Aæ—¶ä¼ é€’çš„å‚æ•°å°±æ˜¯è‡ªç”±å˜é‡ã€‚ é—­åŒ…å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªç®€åŒ–çš„ç±»ï¼Œå®ƒæé«˜äº†ä»£ç çš„å¤ç”¨æ€§ é—­åŒ…å‡½æ•°ä»£ç ç¤ºä¾‹ 123456789101112'''é—­åŒ…ç¤ºä¾‹ä»£ç inner_funcå°±æ˜¯ä¸€ä¸ªé—­åŒ…å‡½æ•°ï¼Œå®ƒå¼•ç”¨è‡ªç”±å˜é‡nameã€‚nameå°±æ˜¯inner_func()çš„ç¯å¢ƒå˜é‡'''def func01(name): def inner_func(age): print('name: ', name, 'age: ', age) return inner_funcbb = func01('cwj')bb(25) # name: cwj age: 25 å…³äºé—­åŒ…å‡½æ•°çš„ä½¿ç”¨é—®é¢˜12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152'''é”™è¯¯çš„é—­åŒ…å‡½æ•° 1 é—­åŒ…å‡½æ•°ä¸­ï¼Œ é—­åŒ…ä¸­çš„å˜é‡mä¸ä¼šä¿®æ”¹å¤–éƒ¨å‡½æ•°ä¸­mçš„å€¼ã€‚'''def foo(): m = 0 def fool(): m = 11 print(m) print(m) # 0 fool() # 11 print(m) # 0print(foo())'''é”™è¯¯çš„é—­åŒ…å‡½æ•° 2 '''def foo2(): a = 1 def fool2(): # a = a +1 # UnboundLocalError: local variable 'a' referenced before assignment return a # 1 return fool2ccc = foo2() # æ­¤æ—¶ï¼šccc = fool2ï¼Œcccåªæ˜¯è·å¾—åˆ°äº†ä¸€ä¸ªå¯¹è±¡print(ccc()) # æ­¤æ—¶ï¼šccc = fool2(), cccè·å–åˆ°çš„æ˜¯ä¸€ä¸ªå®ä¾‹flist = []for i in range(3): # ç¼–å†™ 1 # def foo3(x): def foo3(x, y = i): # ç¼–å†™ 1 çš„è¾“å‡º # print(x + i) print(x + y) flist.append(foo3)for f in flist: f(2)'''ç¼–å†™ 1 çš„è¿è¡Œç»“æœä¸ºï¼š444ç»“æœæ˜¯4,4,4ã€‚è¿™æ˜¯å› ä¸ºå½“æŠŠå‡½æ•°åŠ å…¥fliståˆ—è¡¨é‡Œæ—¶ï¼Œpythonè¿˜æ²¡æœ‰ç»™ièµ‹å€¼ï¼Œåªæœ‰å½“æ‰§è¡Œæ—¶ï¼Œå†å»æ‰¾içš„å€¼æ˜¯ä»€ä¹ˆï¼Œè¿™æ—¶åœ¨ç¬¬ä¸€ä¸ªforå¾ªç¯ç»“æŸä»¥åï¼Œiçš„å€¼æ˜¯2ï¼Œæ‰€ä»¥ä»¥ä¸Šä»£ç çš„æ‰§è¡Œç»“æœæ˜¯4,4,4.ç¼–å†™ 2 çš„è¿è¡Œç»“æœä¸ºï¼š234åœ¨ç¨‹åºé‡Œé¢ç»å¸¸ä¼šå‡ºç°è¿™ç±»çš„å¾ªç¯è¯­å¥ï¼ŒPythonçš„é—®é¢˜å°±åœ¨äºï¼Œå½“å¾ªç¯ç»“æŸä»¥åï¼Œå¾ªç¯ä½“ä¸­çš„ä¸´æ—¶å˜é‡iä¸ä¼šé”€æ¯ï¼Œè€Œæ˜¯ç»§ç»­å­˜åœ¨äºæ‰§è¡Œç¯å¢ƒä¸­ã€‚è¿˜æœ‰ä¸€ä¸ªpythonçš„ç°è±¡æ˜¯ï¼Œpythonçš„å‡½æ•°åªæœ‰åœ¨æ‰§è¡Œæ—¶ï¼Œæ‰ä¼šå»æ‰¾å‡½æ•°ä½“é‡Œçš„å˜é‡çš„å€¼''' é—­åŒ…çš„ä½œç”¨ å‚è€ƒï¼šhttp://www.jb51.net/article/54498.htm é—­åŒ…ä¸»è¦åœ¨å‡½æ•°å¼€å‘ä¸­ä½¿ç”¨ å½“é—­åŒ…å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œä»ç„¶èƒ½å¤Ÿä¿æŒä½å½“å‰çš„è¿è¡Œç¯å¢ƒ é—­åŒ…å¯ä»¥æ ¹æ®å¤–éƒ¨ä½œç”¨åŸŸçš„å±€éƒ¨å˜é‡æ¥å¾—åˆ°ä¸åŒçš„ç»“æœ å¼•ç”¨ï¼šé—­åŒ…ä¸å¹¶è¡Œè¿ç®— é—­åŒ…æœ‰æ•ˆçš„å‡å°‘äº†å‡½æ•°æ‰€éœ€å®šä¹‰çš„å‚æ•°æ•°ç›®ã€‚è¿™å¯¹äºå¹¶è¡Œè¿ç®—æ¥è¯´æœ‰é‡è¦çš„æ„ä¹‰ã€‚åœ¨å¹¶è¡Œè¿ç®—çš„ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®©æ¯å°ç”µè„‘è´Ÿè´£ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå°†ä¸€å°ç”µè„‘çš„è¾“å‡ºå’Œä¸‹ä¸€å°ç”µè„‘çš„è¾“å…¥ä¸²è”èµ·æ¥ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬åƒæµæ°´çº¿ä¸€æ ·å·¥ä½œï¼Œä»ä¸²è”çš„ç”µè„‘é›†ç¾¤ä¸€ç«¯è¾“å…¥æ•°æ®ï¼Œä»å¦ä¸€ç«¯è¾“å‡ºæ•°æ®ã€‚è¿™æ ·çš„æƒ…å¢ƒæœ€é€‚åˆåªæœ‰ä¸€ä¸ªå‚æ•°è¾“å…¥çš„å‡½æ•°ã€‚é—­åŒ…å°±å¯ä»¥å®ç°è¿™ä¸€ç›®çš„ã€‚ å¹¶è¡Œè¿ç®—æ­£ç§°ä¸ºä¸€ä¸ªçƒ­ç‚¹ã€‚è¿™ä¹Ÿæ˜¯å‡½æ•°å¼ç¼–ç¨‹åˆçƒ­èµ·æ¥çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚å‡½æ•°å¼ç¼–ç¨‹æ—©åœ¨1950å¹´ä»£å°±å·²ç»å­˜åœ¨ï¼Œä½†åº”ç”¨å¹¶ä¸å¹¿æ³›ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä¸Šé¢æè¿°çš„æµæ°´çº¿å¼çš„å·¥ä½œå¹¶è¡Œé›†ç¾¤è¿‡ç¨‹ï¼Œæ­£é€‚åˆå‡½æ•°å¼ç¼–ç¨‹ã€‚ç”±äºå‡½æ•°å¼ç¼–ç¨‹è¿™ä¸€å¤©ç„¶ä¼˜åŠ¿ï¼Œè¶Šæ¥è¶Šå¤šçš„è¯­è¨€ä¹Ÿå¼€å§‹åŠ å…¥å¯¹å‡½æ•°å¼ç¼–ç¨‹èŒƒå¼çš„æ”¯æŒã€‚ åŒ¿åå‡½æ•°å®šä¹‰ åŒ¿åå‡½æ•°ç”±å…³é”®å­—lambdaè¡¨ç¤ºã€‚:å‰é¢çš„å‚æ•°åè¡¨ç¤ºå‡½æ•°çš„å‚æ•°ï¼Œ:åé¢çš„è¡¨è¾¾å¼è¡¨ç¤ºä¸ºå‡½æ•°æ‰§è¡Œå…·ä½“æ“ä½œçš„è¡¨è¾¾å¼ã€‚ ####ç‰¹ç‚¹ pythonå¯¹åŒ¿åå‡½æ•°çš„æ”¯æŒæœ‰é™ï¼Œåªèƒ½åœ¨ä¸€äº›ç®€å•çš„æƒ…å†µä¸‹ä½¿ç”¨åŒ¿åå‡½æ•° åŒ¿åå‡½æ•°æœ‰ä¸ªæ•°é™åˆ¶ï¼Œåªèƒ½æœ‰ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸ç”¨å†™returnï¼Œè¿”å›å€¼å°±æ˜¯è¯¥è¡¨è¾¾å¼çš„ç»“æœã€‚ ä»£ç ç¤ºä¾‹ 1234'''åŒ¿åå‡½æ•°çš„ä½¿ç”¨ - 1'''print(list(map(lambda x: x*x, [1, 2, 3, 4]))) # [1, 4, 9, 16]'''åŒ¿åå‡½æ•°çš„ä½¿ç”¨ - 2''' è£…é¥°å™¨å®šä¹‰åœ¨ä»£ç è¿è¡ŒæœŸé—´åŠ¨æ€å¢åŠ åŠŸèƒ½çš„æ–¹å¼ï¼Œç§°ä¹‹ä¸ºâ€œè£…é¥°å™¨(decorator)â€ ä»£ç ç¤ºä¾‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192'''åŸå‡½æ•°def now(): print('2017-07-16')now() # 2017-07-16''''''å®šä¹‰ä¸€ä¸ª now() çš„ è£…é¥°å™¨å‡½æ•° log()'''def log(func_origin): def add_func(*args, **kwargs): print('call %s()' % func_origin.__name__) # å› ä¸ºlog()æ˜¯ä¸€ä¸ªdecoratorï¼Œæ‰€ä»¥æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå‡½æ•°ã€‚ # è¿”å›åŸå‡½æ•°æ‰€å…·æœ‰çš„åŠŸèƒ½ return func_origin(*args, **kwargs) return add_func'''ä½¿ç”¨ è£…é¥°å™¨å‡½æ•° log()'''@log# @log ç­‰ä»·äº now = log(now)def now(): print('2017-07-16')'''è°ƒç”¨è¢«è£…é¥°å™¨è£…é¥°çš„å‡½æ•°now()'''now()'''è¿è¡Œç»“æœï¼šcall now()2017-07-16é‡Šä¹‰ï¼šç”±äºlog()æ˜¯ä¸€ä¸ªdecoratorï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥ï¼ŒåŸæ¥çš„now()å‡½æ•°ä»ç„¶å­˜åœ¨ï¼Œåªæ˜¯ç°åœ¨åŒåçš„nowå˜é‡æŒ‡å‘äº†æ–°çš„å‡½æ•°ï¼Œäºæ˜¯è°ƒç”¨now()å°†æ‰§è¡Œæ–°å‡½æ•°ï¼Œå³åœ¨log()å‡½æ•°ä¸­è¿”å›çš„wrapper()å‡½æ•°ã€‚wrapper()å‡½æ•°çš„å‚æ•°å®šä¹‰æ˜¯(*args, **kw)ï¼Œå› æ­¤ï¼Œwrapper()å‡½æ•°å¯ä»¥æ¥å—ä»»æ„å‚æ•°çš„è°ƒç”¨ã€‚åœ¨wrapper()å‡½æ•°å†…ï¼Œé¦–å…ˆæ‰“å°æ—¥å¿—ï¼Œå†ç´§æ¥ç€è°ƒç”¨åŸå§‹å‡½æ•°ã€‚''''''éœ€è¦ä¼ å…¥å‚æ•°çš„decorator, å³ï¼š3å±‚åµŒå¥—'''def log2(text): def decorator(func): def wrap(*args, **kwargs): print('%s %s()' % (text, func.__name__)) # return func(*args, **kwargs) return func() # è¾“å‡ºç»“æœä¸­æœ‰ï¼š2017-07-16 # return func # è¾“å‡ºç»“æœä¸­æ²¡æœ‰ï¼š2017-07-16 return wrap return decorator'''3å±‚åµŒå¥—çš„ä½¿ç”¨'''#@log2('execute')# @log2 ç­‰ä»·äº now2 = log2('execute')(now2)def now2(): print('2017-07-16')now2 = log2('execute')(now2)now2()'''è¿è¡Œç»“æœï¼šdef now():print('2017-07-16')''''''å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå®ƒæœ‰__name__ç­‰å±æ€§ï¼Œä½†ç»è¿‡decoratorè£…é¥°ä¹‹åçš„å‡½æ•°ï¼Œå®ƒä»¬çš„__name__å·²ç»ä»åŸæ¥çš„'now2'å˜æˆäº†wrap'''print(now2.__name__) # wrapdef log3(text): def decorator3(func3): @functools.wraps(func3) # è¯æ¡è¯­å¥ç­‰ä»·äº # wrap3.__name__ = func3.__name__ # éœ€è¦æŠŠåŸå§‹å‡½æ•°çš„__name__ç­‰å±æ€§å¤åˆ¶åˆ°wrap3()å‡½æ•°ä¸­ï¼Œå¦åˆ™ï¼Œæœ‰äº›ä¾èµ–å‡½æ•°ç­¾åçš„ä»£ç æ‰§è¡Œå°±ä¼šå‡ºé”™ã€‚ def wrap3(*args, **kwargs): print('%s %s()' % (text, func3.__name__)) # return func3() func3() return wrap3 return decorator3@log3('execute')def now3(): print('2017-07-16')now3()print('now3 name is : ', now3.__name__)'''è¿è¡Œç»“æœexecute now3()2017-07-16now3 name is : now3''' åå‡½æ•°å®šä¹‰å½“å‡½æ•°çš„å‚æ•°ä¸ªæ•°å¤ªå¤šï¼Œéœ€è¦ç®€åŒ–æ—¶ï¼Œä½¿ç”¨`functools.partial`å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°å¯ä»¥å›ºå®šä½åŸå‡½æ•°çš„éƒ¨åˆ†å‚æ•°ï¼Œä»è€Œåœ¨è°ƒç”¨æ—¶æ›´ç®€å•ã€‚ ä»£ç ç¤ºä¾‹ 12345int2 = functools.partial(int, base=2)#ç­‰ä»·äºdef int2(x, base=2): return int(x, base) functools.partialçš„ä½œç”¨å°±æ˜¯ï¼ŒæŠŠä¸€ä¸ªå‡½æ•°çš„æŸäº›å‚æ•°ç»™å›ºå®šä½ï¼ˆä¹Ÿå°±æ˜¯è®¾ç½®é»˜è®¤å€¼ï¼‰ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè°ƒç”¨è¿™ä¸ªæ–°å‡½æ•°ä¼šæ›´ç®€å•ã€‚ åˆ›å»ºåå‡½æ•°æ—¶ï¼Œå®é™…ä¸Šå¯ä»¥æ¥æ”¶å‡½æ•°å¯¹è±¡ã€*argså’Œ**kwè¿™3ä¸ªå‚æ•°]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 05-å‡½æ•°å¼ç¼–ç¨‹-é«˜é˜¶å‡½æ•°]]></title>
    <url>%2FPython3%20%2005-%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B-%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œå…è®¸æŠŠå‡½æ•°æœ¬èº«ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¿˜å…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°ï¼ `Python`å¯¹å‡½æ•°å¼ç¼–ç¨‹æä¾›éƒ¨åˆ†æ”¯æŒã€‚ç”±äº`Python`å…è®¸ä½¿ç”¨å˜é‡ï¼Œå› æ­¤ï¼Œ`Python`ä¸æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ã€‚ å‡½æ•°ä¸å˜é‡äº’æŒ‡ä»£ç ç¤ºä¾‹ 12345x = abs # å‡½æ•°åå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªå˜é‡ï¼Œå˜é‡ä¹‹é—´æ˜¯å¯ä»¥äº’æŒ‡ã€‚print(x(-10)) # 10ã€‚æ­¤æ—¶ï¼Œxå°±æ˜¯ä¸€ä¸ªæ±‚'ç»å¯¹å€¼'çš„å‡½æ•°abs = 10print(abs) # 10print(abs(10)) # TypeError: 'int' object is not callableã€‚æ­¤æ—¶çš„abså·²ç»ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªå€¼ä¸º10çš„å˜é‡ã€‚ é«˜é˜¶å‡½æ•°å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·çš„å‡½æ•°è¢«ç§°ä¸ºé«˜é˜¶å‡½æ•°ã€‚ ä»£ç ç¤ºä¾‹ 12345def high_func(z, y, f): return f(z) + f(y)# å°†å‡½æ•°absä½œä¸ºä¸€ä¸ªå‚æ•°æŒ‡å‘å˜é‡fprint(high_func(-1, -3, abs)) # 4 é«˜é˜¶å‡½æ•° - map() mapæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯å‡½æ•°ï¼Œå¦ä¸€ä¸ªæ˜¯Iterableï¼Œ mapå‡½æ•°çš„æ„ä¹‰æ˜¯ï¼šå°†ä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºæ¯ä¸€ä¸ªåºåˆ—çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†ç»“æœä½œä¸ºæ–°çš„Iteratorè¿”å› 1234567891011121314151617181920212223242526272829303132333435363738def func(x): return x * x'''é€šè¿‡ä¸€è¡Œä»£ç å®ç°ï¼šåºåˆ—ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œå–å¹³æ–¹è¿ç®—ï¼Œå°†ç»“æœä½œä¸ºliståºåˆ—è¾“å‡º'''print(list(map(func, [1, 2, 3, 4, 5]))) # [1, 4, 9, 16, 25]v = map(func, [1, 2, 3, 4, 5])print(isinstance(v, Iterator)) # Trueprint(isinstance(v, Iterable)) # Trueprint(isinstance('abc', Iterator)) # False'''ä½¿ç”¨ next() è¾“å‡ºIteratorç±»å‹çš„å¯¹è±¡ ä¿®æ”¹å‰'''# while True:# print(next(v))'''1StopIteration491625''''''ä¿®æ”¹å'''while True: try: print(next(v)) except StopIteration: break'''1491625''' é«˜é˜¶å‡½æ•° - reduce() å‚æ•°ï¼šä¸¤ä¸ªå‚æ•°ã€‚å‡½æ•°åï¼Œåºåˆ— ä½œç”¨ï¼šå°†ç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€å…ƒç´ åšå‡½æ•°åæŒ‡å®šçš„è¿ç®— 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455ls = [1, 2, 3, 4, 5]def fun_add(x, y): return x + yprint(reduce(fun_add, ls)) # 15.# å°†åºåˆ— ls ä¸­çš„æ•°å˜æˆç»„åˆæˆä¸€ä¸ªæ•´æ•°def func_int(x, y): return x * 10 + yprint(reduce(func_int, ls)) # 12345def func_str(s): # å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºintç±»å‹ã€‚æ ¹æ®`é”®`å–å¯¹åº”çš„`å€¼` return &#123;'0': 0, '1': 1, '2': 2, '3': 3, '4': 4, '5': 5, '6': 6, '7': 7, '8': 8, '9': 9&#125;[s]# å°†strç±»å‹å˜ä¸ºintç±»å‹print(reduce(func_int, list(map(func_str, '1234567')))) # 1234567# å°†ä»¥ä¸Šæ–¹æ³•ç¼–å†™ä¸ºä¸€ä¸ªstrç±»å‹è½¬intçš„æ–¹æ³•def func_str_to_int(s): def f_int(x, y): return x * 10 + y def f_str(ss): return &#123;'0': 0, '1': 1, '2': 2, '3': 3, '4': 4, '5': 5, '6': 6, '7': 7, '8': 8, '9': 9&#125;[ss] return reduce(f_int, map(f_str, s))print(func_str_to_int('11223344')) # 11223344'''æµ‹è¯•ï¼Œå°†ä¸è§„åˆ™çš„è¾“å…¥æŒ‰ç…§æŒ‡å®šçš„è¦æ±‚è¾“å‡ºã€‚å¦‚ï¼š'AsdA' 'asdS' è¾“å‡ºåçš„ç»“æœä¸ºï¼š'Asda', 'Asds' '''def func_rule(s): # if isinstance(s, str): if isinstance(s, list): def func_to_up(ss): return ss[0].upper() + ss[1::].lower() return list(map(func_to_up, s)) else: print('è¾“å…¥çš„å‚æ•°ç±»å‹æœ‰è¯¯ï¼') return '-1'L1 = ['adam', 'LISA', 'barT']print(func_rule(L1)) # ['Adam', 'Lisa', 'Bart']'''æ±‚ä¹˜ç§¯'''ll = [3, 5, 7, 9]def prod(lll): def xx(x, y): return x * y return reduce(xx, lll)print(prod(ll)) # 945 é«˜é˜¶å‡½æ•° - filter() ä½œç”¨ï¼šè¿‡æ»¤å‡½æ•°. Trueä¿ç•™åºåˆ—ä¸­çš„å…ƒç´ ï¼ŒFalseåˆ é™¤åºåˆ—ä¸­çš„å…ƒç´  1234567lf = [1, 2, 3, 4, 5]# è¿‡æ»¤ä¸€ä¸ªåºåˆ—ä¸­çš„å¶æ•°def func_odd(n): return n % 2 == 1print(list(filter(func_odd, lf))) # [1, 3, 5] é«˜é˜¶å‡½æ•° - sorted() æ’åºç®—æ³• 1234567891011121314151617181920212223# å¯¹listç±»å‹çš„æ•°æ®æ’åºls01 = [1, -9, 10, 5, 23, -3]print(sorted(ls01)) # [-9, -3, 1, 5, 10, 23]# é«˜é˜¶å‡½æ•°ä½¿ç”¨ æŒ‰ç…§ç»å¯¹å€¼è¿›è¡Œæ’åºprint(sorted(ls01, key = abs)) # [1, -3, 5, -9, 10, 23]ls02 = ['asd', 'ffgd', 'fhfgh', 'werr', 'bnbm']# é«˜é˜¶å‡½æ•°ä½¿ç”¨ å¯¹ å­—ç¬¦ä¸² è¿›è¡Œæ’åº æ ¹æ®å°å†™å­—æ¯æ’åºprint(sorted(ls02, key=str.lower)) # ['asd', 'bnbm', 'ffgd', 'fhfgh', 'werr']# é«˜é˜¶å‡½æ•°ä½¿ç”¨ å¯¹ å­—ç¬¦ä¸² è¿›è¡Œæ’åº æ ¹æ®å¤§å†™å­—æ¯æ’åº--å®ç°æ–¹å¼1print(sorted(ls02, key=str.lower, reverse=True)) # ['werr', 'fhfgh', 'ffgd', 'bnbm', 'asd']L = [('Bob', 75), ('Adam', 92), ('Bart', 66), ('Lisa', 88)]'''æ ¹æ®å­¦ç”Ÿçš„åå­—æ’åº'''print(sorted(L)) # [('Adam', 92), ('Bart', 66), ('Bob', 75), ('Lisa', 88)]'''æ ¹æ®å­¦ç”Ÿçš„æˆç»©æ’åº'''print(sorted(L, key=itemgetter(1))) # [('Bart', 66), ('Bob', 75), ('Lisa', 88), ('Adam', 92)] itemgetter()çš„ä½¿ç”¨ å‚è€ƒï¼šhttp://www.cnblogs.com/zhoufankui/p/6274172.html operator.itemgetterå‡½æ•°ç”¨äºè·å–å¯¹è±¡æŒ‡å®šçš„ä¸‹æ ‡æ•°æ®ã€‚å¦‚æ ¹æ®å­¦ç”Ÿæˆç»©æ’åºçš„æ–¹æ³•ä½¿ç”¨ä¸­ï¼šè·å–åºåˆ—ä¸­tupleå…ƒç´ ä¸‹æ ‡ä¸º1çš„æ•°æ® operator.itemgetterå‡½æ•°è·å–çš„ä¸æ˜¯æ•°å€¼ï¼Œè€Œæ˜¯é‡æ–°å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡å°†è¯¥å‡½æ•°ä½œç”¨äºå¯¹è±¡ä¸Šæ‰èƒ½è·å–æ•°æ®ï¼Œå¦‚ï¼šå°†æ•°å€¼èµ‹å€¼ç»™key ç‰¹ç‚¹ï¼šitmegetter()ä¸­çš„å‚æ•°å¯ä»¥ä¸æŒ‰ç…§æ•°å­—å¤§å°çš„é¡ºåºæ¥å¡«å…¥ï¼Œå¯ä»¥ä½¿ç”¨2ï¼Œ1è¿™æ ·çš„é¡ºåºï¼Œè¡¨ç¤º å…ˆè·å– ä¸‹æ ‡ä¸º2çš„æ•°æ®å€¼ï¼Œå†è·å–ä¸‹æ ‡ä¸º1çš„æ•°æ®çš„å€¼ã€‚]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 05-å‡½æ•°å¼ç¼–ç¨‹-å‡½æ•°ä½œä¸ºè¿”å›å€¼]]></title>
    <url>%2FPython3%20%2005-%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B-%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E8%BF%94%E5%9B%9E%E5%80%BC%2F</url>
    <content type="text"><![CDATA[é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æœå€¼è¿”å›ã€‚ ä»£ç ç¤ºä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445'''æ±‚å’Œè¿ç®—'''def add_sum(*args): add = 0 for n in args: add = add + n return addprint(add_sum(1, 2, 3, 4, 5)) # 15'''å°†å‡½æ•° -å®ä¾‹- ä½œä¸ºè¿”å›å€¼'''def add_sum_func(*args): def my_sum(): add = 0 for n in args: add = add + n return add return my_sum()'''å°†å‡½æ•° -å¯¹è±¡- ä½œä¸ºè¿”å›å€¼'''def add_sum_func_02(*args): def my_sum(): add = 0 for n in args: add = add + n return add return my_sum# è°ƒç”¨ add_sum_func()æ—¶ï¼Œè¿”å›çš„ä¸æ˜¯å‡½æ•°æ±‚å’Œçš„ç»“æœï¼Œè€Œæ˜¯æ±‚å’Œå‡½æ•°æœ¬èº«ï¼Œå°±æ˜¯å»¶è¿Ÿäº†å‡½æ•°ç»“æœçš„å®ç°print(add_sum_func(1, 2, 3, 4, 5)) # 15new_f = add_sum_func(1, 2, 3, 4, 5)print(new_f) # 15# print(new_f()) # TypeError: 'int' object is not callableprint(add_sum_func_02(1, 2, 3, 4, 5)) # &lt;function add_sum_func_02.&lt;locals&gt;.my_sum at 0x1021ef8c8&gt;new_f = add_sum_func_02(1, 2, 3, 4, 5)print(new_f) # &lt;function add_sum_func_02.&lt;locals&gt;.my_sum at 0x1021ef8c8&gt;print(new_f()) # 15'''é‡Šä¹‰'''''' å‡½æ•°add_sum_func()ä¸add_sum_func_02()çš„åŒºåˆ«é™¤äº†å‡½æ•°åå­—ä¸Šæœ‰åŒºåˆ«ï¼Œåœ¨å…¶å‡½æ•°å†…éƒ¨åªæœ‰ä¸€ç‚¹ä¸åŒï¼Œå³è¿”å›å€¼ï¼š ä¸€ä¸ªæ˜¯ï¼šreturn my_sum()ã€‚å¸¦()è¡¨ç¤ºè¿”å›çš„æ˜¯ å‡½æ•°çš„æ•°å€¼ï¼Œå³ï¼šç»“æœå€¼ã€‚ å¦ä¸€ä¸ªæ˜¯ï¼šreturn my_sumã€‚ä¸å¸¦()è¡¨ç¤ºè¿”å›çš„æ˜¯ å‡½æ•°æœ¬èº«ï¼Œå³ï¼šå‡½æ•°æ‰€åœ¨å†…å­˜çš„åœ°å€ã€‚ é€šè¿‡æŸ¥çœ‹è¾“å‡ºçš„ç»“æœå¯ä»¥æ¸…æ™°çš„å¯¹æ¯”å‡ºä¸¤è€…çš„ä¸åŒã€‚''']]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 04-è¿­ä»£å™¨]]></title>
    <url>%2FPython3%20%2004-%E8%BF%AD%E4%BB%A3%E5%99%A8%2F</url>
    <content type="text"><![CDATA[èƒ½å¤Ÿä½¿ç”¨forå¾ªç¯çš„æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š é›†åˆï¼šlistã€tupleã€setã€dict æ„å»ºç±»å‹generatorï¼Œå¸¦yieldçš„generator function å­—ç¬¦ä¸²ç±»å‹ï¼šstr å¤ä¹ ï¼šå¯ä»¥ä½¿ç”¨isinstance()åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯Iterableå¯¹è±¡ã€‚éœ€è¦å¯¼åŒ…ï¼šfrom collections import Iterable 1isinstance)(x, Iterable) è¿­ä»£å™¨å¯ä»¥è¢«`next()`å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›ä¸‹ä¸€ä¸ªå€¼çš„å¯¹è±¡ç§°ä¸ºâ€”â€”è¿­ä»£å™¨ï¼ˆ`Iterator`ï¼‰ åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºè¿­ä»£å™¨ 1isinstance(x, Iterator) ä»£ç ç¤ºä¾‹ 123456789101112131415'''åˆ¤æ–­æ˜¯å¦ å¯è¿­ä»£'''print(isinstance((x for x in range(1, 10)), Iterator)) # æ„å»ºç±»å‹ Trueprint(isinstance([1, 2], Iterable)) # listç±»å‹ Trueprint(isinstance((1, 2), Iterable)) # tupleç±»å‹ Trueprint(isinstance(&#123;1, 2&#125;, Iterable)) # setç±»å‹ Trueprint(isinstance(&#123;'1': 'A', '2': 'B'&#125;, Iterable)) # dictç±»å‹ Trueprint(isinstance('ABC', Iterable)) # strç±»å‹ rue'''åˆ¤æ–­æ˜¯å¦ä¸º è¿­ä»£å™¨ å¯¹è±¡'''print(isinstance((x for x in range(1, 10)), Iterator)) # æ„å»ºç±»å‹ Trueprint(isinstance([1, 2], Iterator)) # listç±»å‹ Falseprint(isinstance((1, 2), Iterator)) # tupleç±»å‹ Falseprint(isinstance(&#123;1, 2&#125;, Iterator)) # setç±»å‹ Falseprint(isinstance(&#123;'1': 'A', '2': 'B'&#125;, Iterator)) # dictç±»å‹ Falseprint(isinstance('ABC', Iterator)) # strç±»å‹ False]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 02-å‡½æ•°-å‚æ•°ç±»å‹]]></title>
    <url>%2FPython3%20%2002-%E5%87%BD%E6%95%B0-%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[é»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ ä¸å¯å˜å¯¹è±¡ã€‚ å› ä¸ºä¸å˜å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œå¯¹è±¡å†…éƒ¨çš„æ•°æ®å°± ä¸èƒ½ä¿®æ”¹ï¼Œè¿™æ ·å°±å‡å°‘äº†ç”±äºä¿®æ”¹æ•°æ®å¯¼è‡´çš„é”™è¯¯ã€‚ æ­¤å¤–ï¼Œç”±äºå¯¹è±¡ä¸å˜ï¼Œå¤šä»»åŠ¡ç¯å¢ƒä¸‹åŒæ—¶è¯»å–å¯¹è±¡ ä¸éœ€è¦åŠ é”ï¼ŒåŒæ—¶è¯»ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚ å‡½æ•°å‚æ•°çš„5ç§ç±»å‹ 1.å¿…é€‰å‚æ•°2.é»˜è®¤å‚æ•°3.å¯å˜å‚æ•°4.å…³é”®å­—å‚æ•°5.å‘½åå…³é”®å­—å‚æ•°ç»„åˆå‚æ•°æ³¨æ„ï¼š å‡½æ•°å‚æ•°å®šä¹‰çš„é¡ºåºå¿…é¡»æ˜¯ï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚ å¿…é€‰å‚æ•°ä»£ç ç¤ºä¾‹ 1234def fun(num): print(num*num)fun(10) #100 é»˜è®¤å‚æ•°ä»£ç ç¤ºä¾‹ 1234567891011121314151617181920212223242526272829303132333435363738394041##é»˜è®¤å‚æ•°ç¤ºä¾‹ 1: tag = 2,ä¸ºé»˜è®¤å‚æ•°def fun2(num, tag = 2): s = 1 while tag &gt; 0: tag = tag - 1 s = s * num return sprint(fun2(5)) #25print(fun2(5,3)) #125#é»˜è®¤å‚æ•°ç¤ºä¾‹ 2def fun3(name, age = 6, city = 'beijing'): print("name is %s" % name) print("age is %d" % age) print("city is %s" % city)fun3('cwj')'''name is cwjage is 6city is beijing '''#é»˜è®¤å‚æ•°åœ¨èµ‹å€¼æ—¶è¦æ³¨æ˜ï¼š å‚æ•°åç§°fun3('cwj', age = 9)'''name is cwjage is 9city is beijing'''fun3('cwj', city='tinajin')'''name is cwjage is 6city is tinajin''' å¯å˜å‚æ•°å¯å˜å‚æ•°ï¼ˆä¸ªæ•°å¯å˜ï¼‰ï¼Œå…¶æœ¬è´¨æ˜¯ `tuple`é›†åˆï¼Œç”±å‡½æ•°è¿”å›çš„ç»“æœå¯ä»¥çœ‹å‡º å¯å˜å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ª`tuple` ä»£ç ç¤ºä¾‹ 12345678910111213141516171819202122def fun4(*numbers): sum = 0 for num in numbers: sum = sum + num * num print(sum)fun4(2,3,4) #29'''*lè¡¨ç¤ºæŠŠlè¿™ä¸ªlistçš„æ‰€æœ‰å…ƒç´ ä½œä¸ºå¯å˜å‚æ•°ä¼ è¿›å»ã€‚è¿™ç§å†™æ³•ç›¸å½“æœ‰ç”¨ï¼Œè€Œä¸”å¾ˆå¸¸è§'''l = [2,3,4]fun4(*l) #29'''*tè¡¨ç¤ºæŠŠtè¿™ä¸ªtupleçš„æ‰€æœ‰å…ƒç´ ä½œä¸ºå¯å˜å‚æ•°ä¼ è¿›å»ã€‚è¿™ç§å†™æ³•ç›¸å½“æœ‰ç”¨ï¼Œè€Œä¸”å¾ˆå¸¸è§'''t = (2,3,4)fun4(*t) #29e#å¯å˜å‚æ•°ä¸ªæ•°ä¸º0fun4() #0 å…³é”®å­—å‚æ•°å…³é”®å­—å‚æ•°æœ¬è´¨ dictï¼ˆå®é™…å‚æ•°ä¸º é”®å€¼å¯¹ å³å¯ï¼‰ è€Œå…³é”®å­—å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå« å‚æ•°åçš„å‚æ•° ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•° å†…éƒ¨ è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ª dictã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243def fun5(name, age, **keyWord): print('fun5-----') print("name is : ", name) print("age is : %d" % age) print("address is : ", keyWord)#ä¼ å…¥1ä¸ªå…³é”®å­—å‚æ•°fun5('cwj', 24, address='tianjin')'''name is : cwjage is : 24address is : &#123;'address': 'tianjin'&#125;'''#ä¼ å…¥å¤šä¸ªå…³é”®å­—å‚æ•°fun5('cwj', 24, address='beijing', weather='hot')'''name is : cwjage is : 24address is : &#123;'address': 'beijing', 'weather': 'hot'&#125;'''#ä¼ å…¥0ä¸ªå‚æ•°fun5('cwj', 24)'''name is : cwjage is : 24address is : &#123;&#125;'''#åœ¨æœ‰ç°æˆdictç±»å‹çš„æƒ…å†µä¸‹#æ­¤å¤„æ˜¯å°†dè¿™ä¸ªdictç±»å‹å¯¹è±¡çš„æ‰€æœ‰ key-value ç”¨å…³é”®å­—å‚æ•°å¯¼å…¥åˆ°å‡½æ•°çš„**keyWordå‚æ•°ä¸­ï¼ŒkeyWordè·å¾—çš„æ˜¯dçš„ä¸€ä»½æ‹·è´ï¼Œå¯¹keyWordçš„æ”¹å˜å°†ä¸ä¼šå½±å“åˆ°å‡½æ•°å¤–çš„dæœ¬èº«ã€‚d = &#123;'address': 'beijing', 'wether':'hot'&#125;fun5('cwj', 24,**d)name is : cwjage is : 24address is : &#123;'address': 'beijing', 'wether': 'hot'&#125; å‘½åå…³é”®å­—æ­¤ç§å‚æ•°æ˜¯ç”¨æ¥ é™åˆ¶å…³é”®å­—å‚æ•° çš„åå­—ï¼Œå°±æ˜¯ä»…æ¥å— å·²ç»å‘½åçš„å½¢å‚ çš„å‚æ•° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455'''è¡¨ç¤ºæ–¹æ³•1ï¼š*ï¼Œå‚æ•°å1ï¼Œå‚æ•°å2'''def fun6(name, age, *, address, wethear): print('fun6-----') print("name is : ", name) print('age is : %d' % age) print('address is : %s' % address) print('wether is : ', wethear)fun6('cwj', 26, address='tianjin', wethear='hot')'''name is : cwjage is : 26address is : tianjinwether is : hot''''''è¡¨ç¤ºæ–¹æ³•2ï¼Œè‹¥å‡½æ•°ä¸­å·²ç»å«æœ‰ä¸€ä¸ª'å¯å˜å‚æ•°'ï¼Œåˆ™ä¹‹åçš„å‚æ•°ä¸éœ€è¦åœ¨æ·»åŠ  * ç¬¦å·'''def fun7(name, age, *keyWord, city, wether): print('fun7-----') print('name is : ', name) print('age is : ', age) print('keuWord is : ', keyWord) print('city is : ', city) print('wether is : ', wether)fun7('cwj', 24, 'xian', city='tianjin', wether='windy')'''name is : cwjage is : 24keuWord is : ('xian',)city is : tianjinwether is : windy''''''è¡¨ç¤ºæ–¹æ³•3ï¼šè®¾ç½®æœ‰é»˜è®¤å€¼çš„å‘½åå…³é”®å­—å‚æ•°'''def fun8(name, *, city='beijng',wether): print(name, city, wether)fun8('cwj',wether='hot')'''cwj beijng hot'''def fun9(name): passfun9('cwj') ç»„åˆå‚æ•°ä»£ç ç¤ºä¾‹ 12345678910111213141516171819202122232425262728293031# å‚æ•° å¿…é¡»å‚æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œå¯å˜å‚æ•°ï¼Œå…³é”®å­—å‚æ•°def fun10(name, age=19, *key_word, **city): print(name, age, key_word, city)# å‚æ•° å¿…é¡»å‚æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œå¯å˜å‚æ•°ï¼Œå‘½åå…³é”®å­—å‚æ•°def fun11(name, age=19, *key_word, city, weather): print(name, age, *key_word, city, weather)# å‚æ•° å¿…é¡»å‚æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œå‘½åå…³é”®å­—å‚æ•°def fun12(name, age=8, *, city, weather): print(name, age, city, weather)# å‚æ•° å¯é€‰å‚æ•°ï¼Œå¯å˜å‚æ•°ï¼Œå‘½åå…³é”®å­—å‚æ•°def fun13(age=23, *l_num, **key_word): print(age, l_num, key_word)l = [1, 2, 3]fun10('cwj', 24, *l) # cwj 24 (1, 2, 3) &#123;&#125;fun10('cwj', 24, *l, city='beijing') # cwj 24 (1, 2, 3) &#123;'city': 'beijing'&#125;fun11('cwj', 24, *l, city='tianjin', weather='hot') # cwj 24 1 2 3 tianjin hotfun12('cwj', age=24, city='xian', weather='very hot') # cwj 24 xian very hotfun12('cwj', 0, city='beijing', weather='windy') # cwj 0 beijing windyfun13(24, *l, fa='sss') # 24 (1, 2, 3) &#123;'fa': 'sss'&#125;]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 02-å‡½æ•°-è¿”å›å€¼]]></title>
    <url>%2FPython3%20%2002-%E5%87%BD%E6%95%B0-%E8%BF%94%E5%9B%9E%E5%80%BC%2F</url>
    <content type="text"><![CDATA[åœ¨pythonäº¤äº’ç¯å¢ƒä¸­ï¼Œä½¿ç”¨æœ¬åœ°æ–‡ä»¶è‡ªå·±å®šä¹‰çš„å‡½æ•°è¿›å…¥åˆ°æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸‹åï¼Œå°†HelloWorldæ–‡ä»¶ä¸­çš„my_absæ–¹æ³•å¯¼å…¥åˆ°äº¤äº’ç¯å¢ƒä¸­ï¼š from HelloWorld import my_abs Hello World è¾“å‡ºçš„æ˜¯ä¸­æ–‡my_abs(-12)12 ä¸ºç³»ç»Ÿå‡½æ•°å»ºç«‹åˆ«å12a = absprint(a(-90)) #90 ç©ºå‡½æ•° - passpassè¯­å¥ä»€ä¹ˆéƒ½ä¸åšï¼Œé‚£æœ‰ä»€ä¹ˆç”¨ï¼Ÿå®é™…ä¸Špasså¯ä»¥ç”¨æ¥ä½œä¸ºå ä½ç¬¦ï¼Œæ¯”å¦‚ç°åœ¨è¿˜æ²¡æƒ³å¥½æ€ä¹ˆå†™å‡½æ•°çš„ä»£ç ï¼Œå°±å¯ä»¥å…ˆæ”¾ä¸€ä¸ªpassï¼Œè®©ä»£ç  èƒ½è¿è¡Œèµ·æ¥ã€‚è¿™æ ·çš„å‡½æ•°é€‚ç”¨äºåœ¨ä¸Šä¸‹æ–‡ä¸­ï¼Œä¿æŒ æ•´ä½“é€»è¾‘æ€è·¯ çš„é€šç•…ã€‚ ä»£ç ç¤ºä¾‹ 12def nop(): pass é™¤äº†åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨ä¹‹å¤–ï¼Œåœ¨å…¶ä»–è¯­å¥ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼šä»£ç ç¤ºä¾‹ 12if age &gt;= 18: pass å‡½æ•°å‚æ•°æ£€æŸ¥ - isinstance()å½“æˆ‘ä»¬è‡ªå®šä¹‰çš„å‡½æ•°ä¼ å…¥äº†ä¸æ°å½“çš„å‚æ•°æ—¶ï¼Œpythonçš„å‡½æ•°èƒ½å¤Ÿæ£€æµ‹å‡ºé”™è¯¯çš„å‚æ•°ï¼Œè€Œæˆ‘ä»¬è‡ªå®šä¹‰çš„å‡½æ•°åˆ™ä¸èƒ½ã€‚å½“æŠ¥é”™æ—¶ï¼Œæç¤ºçš„é”™è¯¯ä¿¡æ¯å’Œç³»ç»Ÿå†…ç½®çš„å‡½æ•°æç¤ºçš„é”™è¯¯ä¿¡æ¯ä¹Ÿä¸ä¸€æ ·ã€‚æˆ‘ä»¬åº”è¯¥å®Œå–„æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å‡½æ•°ï¼Œä½¿ç”¨isinstance()æ–¹æ³• ä»£ç ç¤ºä¾‹ 1234567891011def my_abs_good(x): # if not isinstance(x,(int, float)): raise TypeError('è¾“å…¥çš„å‚æ•°ç±»å‹å¼‚å¸¸') if x &gt; 0: return x else: return -xprint(my_abs_good(-2)) #2print(my_abs_good('a')) #TypeError: è¾“å…¥çš„å‚æ•°ç±»å‹å¼‚å¸¸ åˆ¤æ–­ä¸€ä¸ªæ•°æ®ç±»å‹æ˜¯å¦ä¸ºå¯è¿­ä»£å¯¹è±¡ä»£ç ç¤ºä¾‹ 123s = 'ABC'print(isinstance(s, Iterable)) # Trueprint(isinstance(123, Iterable)) # False è‡ªå®šä¹‰å‡½æ•°çš„è¿”å›å€¼ å¤šä¸ªè¿”å›å€¼ çš„æœ¬è´¨æ˜¯ä¸€ä¸ªï¼štupleå¯¹è±¡ã€‚åªæœ‰ä¸€ä¸ªè¿”å›å€¼æ—¶ï¼Œé»˜è®¤ä¸æ˜¾ç¤º() å¤šè¿”å›å€¼ ä»£ç ç¤ºä¾‹ 123456789101112131415161718192021222324252627282930313233def getXY(x, y, step, angle = 0): nx = x + step * math.cos(angle) ny = y - step * math.cos(angle) #è¿”å›ä¸¤ä¸ªå€¼ return nx, ny# 1x, y = getXY(10,20,100)print(x, y) #110.0 -80.0# 2x, y = (110.0, -80.0)print(x, y) #110.0 -80.0# 3z = getXY(10,20,100)print(z) #(110.0, -80.0)# 4z2 = (10)print(z2) #10'''æ¯”è¾ƒ #1ï¼Œ#2ï¼Œ#3, #4 å¯ä»¥å¾—å‡ºï¼Œå‡½æ•°çš„è¿”å›å€¼å…¶å®æ˜¯ä¸€ä¸ªtupleå¯¹è±¡,å½“è¿”å›å€¼åªæœ‰1ä¸ªæ—¶ï¼Œå›çœç•¥æ‰()'''print(getXY(10,20,100)) #(110.0, -80.0)x, y, z = (10, 20, 100)print(x, y, z) #10 20 100print(x) #10'''åœ¨å£°æ˜å¤šä¸ªå˜é‡çš„åŒæ—¶ï¼Œä¹Ÿå°†tupleå¯¹è±¡çš„å€¼å¯¹åº”çš„èµ‹å€¼ç»™å˜é‡ï¼Œå¾ˆç¥å¥‡ï¼''' æ²¡æœ‰è¿”å›å€¼ return None ä»£ç ç¤ºä¾‹ 12def noRetuen(): print('aaaa') è¿”å›å€¼å°ç»“ å®šä¹‰å‡½æ•°æ—¶ï¼Œéœ€è¦ç¡®å®š å‡½æ•°å å’Œ å‚æ•°ä¸ªæ•°ï¼› å¦‚æœæœ‰å¿…è¦ï¼Œå¯ä»¥å…ˆå¯¹å‚æ•°çš„ æ•°æ®ç±»å‹ åšæ£€æŸ¥ï¼› å‡½æ•°ä½“å†…éƒ¨å¯ä»¥ç”¨ return éšæ—¶è¿”å›å‡½æ•°ç»“æœï¼› å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹Ÿ æ²¡æœ‰returnè¯­å¥ æ—¶ï¼Œè‡ªåŠ¨ return Noneã€‚ å‡½æ•°å¯ä»¥åŒæ—¶è¿”å› å¤šä¸ªå€¼ï¼Œä½†å…¶å®å°±æ˜¯ä¸€ä¸ª tupleã€‚]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 02-å‡½æ•°-ç”Ÿæˆå™¨+åˆ‡ç‰‡]]></title>
    <url>%2FPython3%20%2002-%E5%87%BD%E6%95%B0-%E7%94%9F%E6%88%90%E5%99%A8%2B%E5%88%87%E7%89%87%2F</url>
    <content type="text"><![CDATA[é«˜çº§ç‰¹æ€§â€”â€”(slice)åˆ‡ç‰‡ï¼Œè¡¨ç¤ºä¸º[::] åˆ‡ç‰‡è¯­æ³•ï¼š[1:4:2] æ•°å­—â€™1â€™ è¡¨ç¤ºå¼€å§‹çš„ç´¢å¼•ä½ç½® æ•°å­—â€™4â€™ è¡¨ç¤ºç»“æŸçš„ç´¢å¼•ä½ç½® æ•°å­—â€™2â€™ è¡¨ç¤ºé—´éš”çš„ç´¢å¼•æ•° è¡¥å……äºï¼š2017å¹´07æœˆ18æ—¥16:29:53 Pythonåºåˆ—åˆ‡ç‰‡æ“ä½œï¼šhttp://developer.51cto.com/art/201304/389771.htm åˆ‡ç‰‡çš„æ–¹å‘ä¸ä½ç½® å¯¹äºåºåˆ—ç»“æ„æ•°æ®æ¥è¯´ï¼Œç´¢å¼•å’Œæ­¥é•¿éƒ½å…·æœ‰æ­£è´Ÿä¸¤ä¸ªå€¼ä»»æ„ä¸€ä¸ªåºåˆ—ç»“æ„æ•°æ®çš„ç´¢å¼•èŒƒå›´ä¸º: -len(consequence) åˆ° len(consequence)-1 èŒƒå›´å†…çš„è¿ç»­æ•´æ•°ã€‚step æ­¥é•¿ï¼šé»˜è®¤ä¸º1ï¼Œæ­¥é•¿å€¼ä¸èƒ½ä¸º0ã€‚åˆ‡ç‰‡è¿‡ç¨‹:ä»ç¬¬1ä¸ªæƒ³è¦çš„å¯¹è±¡å¼€å§‹ï¼Œåˆ°ç¬¬1ä¸ªä¸æƒ³è¦çš„å¯¹è±¡ç»“æŸ è¯´æ˜ æ­£ç´¢å¼•é»˜è®¤ä½ç½® è´Ÿç´¢å¼•é»˜è®¤ä½ç½® åºåˆ—æ–¹å‘è¯´æ˜ å·¦ â€“&gt; å³ å·¦ &lt;â€“ å³ åºåˆ—ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½® 0 -len(consequence) åºåˆ—æœ«å…ƒç´ ä½ç½® len(consequence)ï¼1 -1 åˆ‡ç‰‡æ–¹å‘ä»£ç ç¤ºä¾‹ 12345678s3 = [1,2,3,4,5]print(s3[1:4:1]) # [2, 3, 4]print(s3[-4:-2]) # [2, 3]print(s3[-3:-1]) # [3, 4]print(s3[-5:]) # [1, 2, 3, 4, 5]print(s3[:]) # [1, 2, 3, 4, 5]print(s3[-1::-1]) # [5, 4, 3, 2, 1]print(s3[-1:]) # [5] rangeè¯­æ³•range(start, stop, step) å‚è€ƒï¼šhttp://www.nowamagic.net/academy/detail/1302446 æ ¹æ®startå’Œstopç¡®å®šèŒƒå›´ï¼Œæ ¹æ®stepè®¾å®šæ­¥é•¿ rangeä¸xrange ä¸¤è€…éƒ½èƒ½ç”¨äºforå¾ªç¯ä¸­range ä¸ xrange ç”¨æ³•ä¸Šå®Œå…¨ç›¸åŒï¼Œä¸åŒç‚¹æ˜¯ï¼Œäº§ç”Ÿçš„ç»“æœç±»å‹ä¸åŒ range äº§ç”Ÿçš„ç»“æœæ˜¯ list xrange äº§ç”Ÿçš„ç»“æœæ˜¯ ç”Ÿæˆå™¨ ä»£ç ç¤ºä¾‹ 123456789101112'''è¿™ä¸¤ä¸ªè¾“å‡ºçš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œå®é™…ä¸Šæœ‰å¾ˆå¤šä¸åŒï¼Œ''''''rangeä¼šç›´æ¥ç”Ÿæˆä¸€ä¸ªlistå¯¹è±¡'''&gt;&gt;&gt; range(5)[0, 1, 2, 3, 4]'''è€Œxrangeåˆ™ä¸ä¼šç›´æ¥ç”Ÿæˆä¸€ä¸ªlistï¼Œè€Œæ˜¯æ¯æ¬¡è°ƒç”¨è¿”å›å…¶ä¸­çš„ä¸€ä¸ªå€¼'''&gt;&gt;&gt; xrange(5)xrange(5)&gt;&gt;&gt; list(xrange(5))[0, 1, 2, 3, 4]'''è¦ç”Ÿæˆå¾ˆå¤§çš„æ•°å­—åºåˆ—çš„æ—¶å€™ï¼Œç”¨xrangeä¼šæ¯”rangeæ€§èƒ½ä¼˜å¾ˆå¤šï¼Œå› ä¸ºä¸éœ€è¦ä¸€ä¸Šæ¥å°±å¼€è¾Ÿä¸€å—å¾ˆå¤§çš„å†…å­˜ç©ºé—´ã€‚''' å‡½æ•°rangeçš„ä½¿ç”¨12345678910111213141516'''è¡¨ç¤ºä»1å¼€å§‹ï¼Œåˆ°10ä¹‹å‰ï¼ˆä¸åŒ…æ‹¬10'''l = range(1, 10)'''ä»0å¼€å§‹ï¼ˆ0å¯ä»¥çœç•¥ï¼‰ï¼Œç”Ÿæˆ10ä¸ªæ•°'''ll = range(10)'''ä»0å¼€å§‹ï¼Œç”Ÿæˆ10ä¸ªæ•°ï¼Œå…¬å·®ä¸º2ï¼ˆç›¸é‚»çš„æ•°ä¹‹é—´é—´éš”ä¸º2ï¼‰'''lll = range(0, 10, 2)'''æ ¹æ®rangeçš„è§„åˆ™ï¼Œç”ŸæˆæŒ‡å®šçš„åºåˆ—'''print(l) # range(1, 10)print(ll) # range(0, 10)print(list(l)) # [1, 2, 3, 4, 5, 6, 7, 8, 9]print(list(ll)) # [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]print(list(lll)) # [0, 2, 4, 6, 8]'''ä»ç¼©å½±0å¼€å§‹ï¼Œå»ä¹‹åç´¢å¼•+2å¯¹åº”çš„å…·ä½“æ•°å€¼'''print(list(lll)[::2]) # [0, 4, 8] ä½¿ç”¨rangeè¿›è¡Œæ±‚å’Œ 123456sum = 0numbers = range(1, 10)for i in numbers: sum += iprint(sum)'''45''' å¯¹listä½¿ç”¨åˆ‡ç‰‡1234567891011l = ['cwj', 'serr', 'bob', 'jack']'''å–3ä¸ªå…ƒç´  ä½¿ç”¨æ–¹æ³• åˆ‡ç‰‡ï¼ˆsliceï¼‰,æ˜¯æŒ‡ï¼šå–å‡ºä¸€ä¸ªèŒƒå›´å†…çš„å…ƒç´ ''''''ä»ç´¢å¼•0å¼€å§‹ï¼Œç›´åˆ°3ä¸ºæ­¢ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬ç´¢å¼•3ï¼Œå®é™…çš„å–å¾—ç´¢å¼•ä¸º0ï¼Œ1ï¼Œ2 å¦‚æœç´¢å¼•æ˜¯ä»0å¼€å§‹çš„ï¼Œ0å¯ä»¥çœç•¥'''print(l[0:3]) # ['cwj', 'serr', 'bob']print(l[:3]) # ['cwj', 'serr', 'bob']'''å€’ç€å–å‡ºå…ƒç´ '''print(l[-3:]) # ['serr', 'bob', 'jack']print(l[0:-3]) # ['cwj'] å¯¹strä½¿ç”¨åˆ‡ç‰‡1234s = 'cwj, cwj, cwj, cwj'sp = s[::]print(sp) # cwj, cwj, cwj, cwjprint(sp[0:4:2]) # cj å¯¹dictä½¿ç”¨åˆ‡ç‰‡ â€“ dictä¸é€‚ç”¨ä¸åˆ‡ç‰‡123print("å¯¹dictä½¿ç”¨åˆ‡ç‰‡")d = &#123;'cwj': 150, 'zh': 145, 'ww': 234, 'cwj': 200&#125;# print(d[1:3]) # TypeError: unhashable type: 'slice' å¯¹tupleä½¿ç”¨åˆ‡ç‰‡1234567891011121314print(range(8)) # range(0, 8)ll5 = range(8) # range(0, 8)print(ll5)t = tuple(ll5)print(t) # (0, 1, 2, 3, 4, 5, 6, 7)lls = t[::]print('å°† tåºåˆ— å¤åˆ¶åçš„ç»“æœä¸ºï¼š')print(lls)'''å°† tåºåˆ— å¤åˆ¶åçš„ç»“æœä¸ºï¼š(0, 1, 2, 3, 4, 5, 6, 7)æ³¨æ„ï¼š tupleæ‰§è¡Œåˆ‡ç‰‡ä»¥åä»æ˜¯ä¸€ä¸ªtuple''' å¯¹setä½¿ç”¨åˆ‡ç‰‡1234s = set(lls)print(s) # &#123;0, 1, 2, 3, 4, 5, 6, 7&#125; æ˜¯setç±»å‹çš„æ•°æ®spl = t[::]print(spl) # (0, 1, 2, 3, 4, 5, 6, 7) ä½¿ç”¨rangeåæ˜¯tupleç±»å‹çš„æ•°æ® è¿­ä»£å™¨ for çš„ä½¿ç”¨1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768s = 'ABC'for c in s: print(c)'''ä½¿ç”¨ä¸‹æ ‡å¾ªç¯'''l = [1, 2, 3, 4]for i, value in enumerate(l): print(i, value)'''0 11 22 33 4'''for i, ch in enumerate(s): print(i, ch)'''0 A1 B2 C'''d = &#123;'A': 123, 'B': 456&#125;print(d) # &#123;'A': 123, 'B': 456&#125;for i, dict0 in enumerate(d): print(i, d.items())'''0 A1 B'''ls = [(1, 1), (2, 2), (3, 3)]for x, y in ls: print(x, y)'''1 12 23 3''''''åˆ—è¡¨ç”Ÿæˆå™¨'''for x in range(1, 10): print(x * x)'''149162536496481''''''ç”Ÿæˆçš„åºåˆ—åï¼Œè¿›è¡Œè®¡ç®—'''print([x * x for x in range(1, 9)]) # [1, 4, 9, 16, 25, 36, 49, 64]'''ç”Ÿæˆåºåˆ—åï¼Œæ–°è¿›è¡Œå–ä½™æ•°é¢„ç®—ï¼Œç„¶åè¿›è¡Œç›¸ä¹˜è¿ç®—'''print([x*x for x in range(1, 10) if x % 2 == 0]) # [4, 16, 36, 64]'''éå†ä¸¤ä¸ªå­—ç¬¦ä¸²è¿›è¡Œ æ’åˆ—ç»„åˆ'''print([m + n for m in 'ABC' for n in '123']) # ['A1', 'A2', 'A3', 'B1', 'B2', 'B3', 'C1', 'C2', 'C3']'''å°†dictç±»å‹çš„æ•°æ®è½¬æ¢ä¸º åºåˆ—'''d = &#123;'A': 1, 'B': 2, 'C': 3&#125;print([k + ' = ' + str(v) for k, v in d.items()]) # 'A = 1', 'B = 2', 'C = 3'] yieldå…³é”®å­— å®šä¹‰generatorå‡½æ•°çš„å¦ä¸€ä¸­æ–¹å¼ï¼š å½“ä¸€ä¸ªå‡½æ•°ä¸­å«æœ‰å…³é”®å­— yieldæ—¶ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¸åœ¨æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªgeneratorå‡½æ•° å¸¦æœ‰yieldå…³é”®å­—çš„generatorå‡½æ•°ï¼Œæ‰§è¡Œæµç¨‹ä¸æ™®é€šå‡½æ•°ä¸åŒï¼š - æ™®é€šå‡½æ•°ï¼šæ‰§è¡Œåˆ°returnæˆ–è€…å‡½æ•°çš„æœ€åä¸€å¥æ—¶ï¼Œé€€å‡ºå‡½æ•°ã€‚ - å¸¦æœ‰yieldå…³é”®å­—çš„generatorå‡½æ•°ï¼Œè°ƒç”¨next()å‡½æ•°æ—¶æ‰§è¡Œæ“ä½œï¼Œé‡åˆ°yield()å‡½æ•°æ—¶ï¼Œé€€å‡ºè¿”å›ã€‚å½“ å†æ¬¡æ‰§è¡Œæ­¤å‡½æ•°æ—¶ä»ä¸Šæ¬¡è¿”å›yieldè¯­å¥å¤„ç»§ç»­æ‰§è¡Œ è¿è¡Œå«æœ‰yieldå…³é”®å­—çš„å‡½æ•° 123456789101112131415161718192021222324252627282930313233343536def p_yield(): print('step_01') yield 1 print('step_02') yield 2 print('step_03') yield 3# è°ƒç”¨è¯¥generatoræ—¶ï¼Œé¦–å…ˆè¦ç”Ÿæˆä¸€ä¸ªgeneratorå¯¹è±¡ï¼Œç„¶åç”¨next()å‡½æ•°ä¸æ–­è·å¾—ä¸‹ä¸€ä¸ªè¿”å›å€¼ï¼šo = p_yield()next(o) # step_01next(o) # step_02next(o) # step_03# next(o) # StopIterationdef fib(max): n, a, b = 0, 0, 1 #l = [] while n &lt; max: '''æ–¹æ³•1 è¿”å›å€¼ï¼š1 \n 2 \n 3 \n 4 \n 5''' # print(b) ''' æ–¹æ³•2 è¿”å›å€¼ï¼š[1, 1, 2, 3, 5] å‡½æ•°åœ¨è¿è¡Œä¸­å ç”¨çš„å†…å­˜ä¼šéšç€å‚æ•° max çš„å¢å¤§è€Œå¢å¤§ï¼Œå¦‚æœè¦æ§åˆ¶å†…å­˜å ç”¨ï¼Œæœ€å¥½ä¸è¦ç”¨ Listæ¥ä¿å­˜ä¸­é—´ç»“æœï¼Œè€Œæ˜¯é€šè¿‡ iterable å¯¹è±¡æ¥è¿­ä»£ã€‚ ''' #l.append(b) '''æ–¹æ³•3 è¿”å›å€¼ï¼š1 \n 1 \n 2 \n 3 \n 5. ä½¿ç”¨yieldå…³é”®å­—ï¼Œä½¿å¾—ç”Ÿæˆçš„å€¼ä¸ºä¸€ä¸ªgeneratorå¯¹è±¡,è€Œä¸æ˜¯ä½¿ç”¨listå ç”¨å¤§é‡çš„å†…å­˜''' yield b a, b = b, a + b n = n + 1 #return l# print(fib(5)) yieldå…³é”®å­—çš„ä½¿ç”¨ å‚è€ƒï¼šhttps://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/ yieldå…³é”®å­— ä½¿å¾—ä¸€ä¸ªæ™®é€šçš„å‡½æ•°å˜æˆä¸€ä¸ªgeneratorå‡½æ•°ã€‚Pythonè§£é‡Šå™¨ä¼šå°†å…¶è§†ä¸ºä¸€ä¸ªgeneratorï¼Œå½“forå¾ªç¯fibï¼ˆ5ï¼‰å‡½æ•°çš„è¿”å›å€¼æ—¶ï¼Œå®é™…è°ƒç”¨çš„æ˜¯iterableå¯¹è±¡ã€‚ ä¸€ä¸ªå¸¦æœ‰ yield çš„å‡½æ•°å°±æ˜¯ä¸€ä¸ª generatorï¼Œå®ƒå’Œæ™®é€šå‡½æ•°ä¸åŒï¼Œç”Ÿæˆä¸€ä¸ª generator çœ‹èµ·æ¥åƒå‡½æ•°è°ƒç”¨ï¼Œ ä½†ä¸ä¼šæ‰§è¡Œä»»ä½•å‡½æ•°ä»£ç ï¼Œç›´åˆ°å¯¹å…¶è°ƒç”¨ next()ï¼ˆåœ¨ for å¾ªç¯ä¸­ä¼šè‡ªåŠ¨è°ƒç”¨ next()ï¼‰æ‰å¼€å§‹æ‰§è¡Œã€‚ è™½ç„¶æ‰§è¡Œæµç¨‹ä»æŒ‰å‡½æ•°çš„æµç¨‹æ‰§è¡Œï¼Œä½†æ¯æ‰§è¡Œåˆ°ä¸€ä¸ª yield è¯­å¥å°±ä¼šä¸­æ–­ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¿­ä»£å€¼ï¼Œä¸‹æ¬¡æ‰§è¡Œæ—¶ä» yield çš„ä¸‹ä¸€ä¸ªè¯­å¥ç»§ç»­æ‰§è¡Œã€‚çœ‹èµ·æ¥å°±å¥½åƒä¸€ä¸ªå‡½æ•°åœ¨æ­£å¸¸æ‰§è¡Œçš„è¿‡ç¨‹ä¸­è¢« yield ä¸­æ–­äº†æ•°æ¬¡ï¼Œæ¯æ¬¡ä¸­æ–­éƒ½ä¼šé€šè¿‡ yield è¿”å›å½“å‰çš„è¿­ä»£å€¼ã€‚ yield çš„å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼ŒæŠŠä¸€ä¸ªå‡½æ•°æ”¹å†™ä¸ºä¸€ä¸ª generator å°±è·å¾—äº†è¿­ä»£èƒ½åŠ›ï¼Œæ¯”èµ·ç”¨ç±»çš„å®ä¾‹ä¿å­˜çŠ¶æ€æ¥è®¡ç®—ä¸‹ä¸€ä¸ª next() çš„å€¼ï¼Œ ä¸ä»…ä»£ç ç®€æ´ï¼Œè€Œä¸”æ‰§è¡Œæµç¨‹å¼‚å¸¸æ¸…æ™° 12for n in fib(5): print(n) åŒºåˆ†ï¼šfibä¸fib(5) fibï¼šæ˜¯ä¸€ä¸ªgenerator function å¥½æ¯”äºï¼šç±»çš„å®šä¹‰ fib(5)ï¼šæ˜¯è°ƒç”¨ fib åè¿”å›çš„ä¸€ä¸ªgeneratorå¯¹è±¡ å¥½æ¯”äºï¼šç±»çš„å®ä¾‹åŒ–]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 02-æ•°æ®-åºåˆ—]]></title>
    <url>%2FPython3%20%2002-%E6%95%B0%E6%8D%AE-%E5%BA%8F%E5%88%97%2F</url>
    <content type="text"><![CDATA[é€šè¿‡print()ç»“æœæ¥åŒºåˆ†å„ç§åºåˆ—ç±»å‹ []æ˜¯list ()æ˜¯tuple {}æ˜¯set {key:value, ...}æ˜¯dict è¯´æ˜ï¼šåœ¨åºåˆ—å£°æ˜æ—¶ï¼š listä½¿ç”¨[] tupleä¸setä½¿ç”¨()ã€‚å…¶ä¸­å£°æ˜setå€¼æ—¶ç”¨åˆ°setå…³é”®å­—ï¼Œä»¥åŒºåˆ†tuple dictä½¿ç”¨{} setä½¿ç”¨set() å…³äºé›†åˆâ€“listå’Œtuple listæ˜¯pythonå†…ç½®çš„ã€æ˜¯æœ‰åºçš„ã€å¯éšæ—¶æ·»åŠ ã€åˆ é™¤å…¶ä¸­å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚é€šè¿‡[]æ¥åŒ…è£¹å†…å®¹ tupleæ˜¯æœ‰åºã€â€æŒ‡å‘ä¸å¯å˜â€œçš„å¦ä¸€ç§é›†åˆï¼Œç§°ä¸ºâ€å…ƒç»„â€œã€‚é€šè¿‡()æ¥åŒ…è£¹å†…å®¹ listä½¿ç”¨print()åæ‰“å°çš„ç»“æœä¸ºï¼š`[]`` setä½¿ç”¨print()åæ‰“å°çš„ç»“æœä¸ºï¼š{} åºåˆ—ç›¸åŠ ç›¸åŒæ•°æ®ç±»å‹åºåˆ—ä¹‹é—´å¯ä»¥ç›¸åŠ ï¼Œä¸åŒæ•°æ®ç±»å‹åºåˆ—ä¸èƒ½ç›¸åŠ  1.list ä»£ç ç¤ºä¾‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051nameList = ['å¼ ä¸‰', 'æå››', 'ç‹äº”']print(nameList) #['å¼ ä¸‰', 'æå››', 'ç‹äº”']#å¢ æ–¹å¼-1ï¼šè¿½åŠ ,åªèƒ½æ·»åŠ åˆ°é›†åˆçš„æœ«å°¾nameList.append('èµµå…­')print(nameList) #['å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­']#å¢ æ–¹å¼-2ï¼šæ’å…¥ã€‚å‚æ•°1ï¼Œæ·»åŠ çš„ä½ç½®ï¼›å‚æ•°2ï¼Œæ’å…¥çš„å†…å®¹nameList.insert(1,'é’±ä¸ƒ')print(nameList) #['å¼ ä¸‰', 'é’±ä¸ƒ', 'æå››', 'ç‹äº”', 'èµµå…­']#åˆ nameList.pop(1)print(nameList) #['å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­']#åˆ ï¼Œæ— å‚æ•°æƒ…å†µä¸‹é»˜è®¤åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ nameList.pop()print(nameList) #['å¼ ä¸‰', 'æå››', 'ç‹äº”']#æ”¹ æ ¹æ®æŒ‡å®šçš„ä¸‹æ ‡ï¼Œæ›¿æ¢å…ƒç´ nameList[0] = 'å­™å…«'print(nameList) #['å­™å…«', 'æå››', 'ç‹äº”']#æŸ¥ è¾“å‡ºé›†åˆçš„é•¿åº¦print(len(nameList)) #3#æŸ¥ è¾“å‡ºæŒ‡å®šä½ç½®çš„å…ƒç´  æ–¹å¼-1ï¼šä»å‰å‘åï¼Œæ­£åºprint(nameList[1]) #æå››#æŸ¥ è¾“å‡ºæŒ‡å®šä½ç½®çš„å…ƒç´  æ–¹å¼-2ï¼šä»åå‘å‰ï¼Œå€’åºprint(nameList[-1]) #ç‹äº”#æŸ¥ å¾ªç¯éå†ï¼Œæ–¹å¼-1 forfor nameSingle in nameList: print(nameSingle)'''å­™å…«æå››ç‹äº”'''#æŸ¥ å¾ªç¯éå†ï¼Œæ–¹å¼-2 whilecount = len(nameList)while count &gt; 0: print(nameList[(-count)]) count = count-1'''å­™å…«æå››ç‹äº”''' 2.tuple ä»£ç ç¤ºä¾‹ 123456789101112131415161718tupleValue = (1,2)#ç©ºçš„tupletupleValue01 = ()#åªæœ‰1ä¸ªå…ƒç´ çš„tupleå®šä¹‰æ—¶å¿…é¡»åŠ ä¸€ä¸ªé€—å·Â·,Â·ï¼Œæ¥æ¶ˆé™¤æ­§ä¹‰ã€‚è‹¥ä¸åŠ ï¼Œåˆ™å®šä¹‰çš„ä¸æ˜¯tupleï¼Œæ˜¯1è¿™ä¸ªæ•°ï¼è¿™æ˜¯å› ä¸ºæ‹¬å·()æ—¢å¯ä»¥è¡¨ç¤ºtupleï¼Œåˆå¯ä»¥è¡¨ç¤ºæ•°å­¦å…¬å¼ä¸­çš„å°æ‹¬å·ã€‚tupleValue02 = (1,)#ä¸€ä¸ªâ€œå¯å˜çš„â€tupleï¼šå˜çš„ä¸æ˜¯tupleçš„å…ƒç´ ï¼Œè€Œæ˜¯å…¶ä¸­çš„listçš„å…ƒç´ #tupleä¸€å¼€å§‹æŒ‡å‘çš„listå¹¶æ²¡æœ‰æ”¹æˆåˆ«çš„listï¼Œæ‰€ä»¥æ‰€è°“çš„â€œä¸å˜â€æ˜¯è¯´ï¼Œtupleçš„æ¯ä¸ªå…ƒç´ ï¼ŒæŒ‡å‘æ°¸è¿œä¸å˜ã€‚# å³æŒ‡å‘'a'ï¼Œå°±ä¸èƒ½æ”¹æˆæŒ‡å‘'b'ï¼ŒæŒ‡å‘ä¸€ä¸ªlistï¼Œå°±ä¸èƒ½æ”¹æˆæŒ‡å‘å…¶ä»–å¯¹è±¡ï¼Œä½†æŒ‡å‘çš„è¿™ä¸ªlistæœ¬èº«æ˜¯å¯å˜çš„ï¼t = ('a', 'b', ['A', 'B'])print(t[2][0])print(t[2][1])'''AB''' å…³äºdictå’Œset dict dictåœ¨å…¶ä»–è¯­è¨€ä¸­ç§°ä¸ºmapï¼Œå…¶å­˜å‚¨çš„å€¼æ˜¯ æ— åº çš„ï¼Œä½¿ç”¨çš„é”®-å€¼å¯¹ï¼ˆkey-valueï¼‰å­˜å‚¨,ç”¨{}æ¥åŒ…è£¹å†…å®¹ã€‚ dictä½¿ç”¨print()åæ‰“å°çš„ç»“æœä¸ºï¼š{â€˜macâ€™: 999999, â€˜hpâ€™: 777777, â€˜ASUSâ€™: 46567} dicté»˜è®¤æ˜¯å»é‡å¤çš„ æ³¨æ„: dictçš„keyå¿…é¡»æ˜¯ä¸å¯å˜å¯¹è±¡ã€‚ ç‰¹ç‚¹ï¼šå’Œlistç›¸æ¯” 1.æŸ¥è¯¢é€Ÿåº¦å¿« 2.å†…å­˜å ç”¨é‡å¤§ dictä»£ç ç¤ºä¾‹ 1234567891011121314151617181920d = &#123;'mac':999999, 'hp':777777, 'ASUS':46567&#125;#æŸ¥print(d['mac']) #999999#æ”¹d['mac'] = 90000print(d['mac']) #90000#åˆ¤æ–­dictä¸­æ˜¯å¦å­˜åœ¨å½“å‰çš„é”® æ–¹æ³•-1print('mac' in d) #Trueprint('lenvol' in d) #False#åˆ¤æ–­dictä¸­æ˜¯å¦å­˜åœ¨å½“å‰çš„é”® æ–¹æ³•-2print(d.get('mac')) #90000print(d.get('lenvol')) #None#åˆ d.pop('mac')print(d) #&#123;'hp': 777777, 'ASUS': 46567&#125; set setæ˜¯ listçš„ç²¾ç®€ç‰ˆï¼Œå»æ‰å…¶é‡å¤çš„å…ƒç´ ï¼Œè€Œä¸”åªå­˜å‚¨keyå€¼ï¼Œä¸å­˜å‚¨valueå€¼ã€‚å³setå†…éƒ¨æ˜¯æ— é‡å¤å…ƒç´ çš„ã€‚ set ä¸èƒ½æ”¾å…¥ å¯å˜å¯¹è±¡.å› ä¸ºæ— æ³•åˆ¤æ–­ä¸¤ä¸ªå¯å˜å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œä¹Ÿå°±æ— æ³•ä¿è¯setå†…éƒ¨â€œä¸ä¼šæœ‰é‡å¤å…ƒç´ â€ setä½¿ç”¨print()åæ˜¾ç¤ºçš„ç»“æœæ˜¯ï¼š{} setä¸­åˆ°çš„å‚æ•°åªèƒ½æ”¾ä¸€ä¸ªã€‚ æ³¨æ„: dictçš„keyå¿…é¡»æ˜¯ä¸å¯å˜å¯¹è±¡ã€‚ ç‰¹ç‚¹ï¼šå’Œlistç›¸æ¯” 1.æŸ¥è¯¢é€Ÿåº¦å¿« 2.å†…å­˜å ç”¨é‡å¤§ setä»£ç ç¤ºä¾‹ 12345678910111213141516171819202122l = [1,5,1,1,2,2,3,3,4,5]print(l) #[1, 5, 1, 1, 2, 2, 3, 3, 4, 5]print(len(l)) #10s = set(l)print(s) #&#123;1, 2, 3, 4, 5&#125;print(len(s)) #5s.add(7)print(s) #&#123;1, 2, 3, 4, 5, 7&#125;print(len(s)) #6s.remove(7)print(s) #&#123;1, 2, 3, 4, 5&#125;print(len(s)) #5s2 = set([4,5,6,7,8,9])#äº¤é›†print((s &amp; s2)) #&#123;4, 5&#125;#å¹¶é›†print((s | s2)) #&#123;1, 2, 3, 4, 5, 6, 7, 8, 9&#125; è§£é‡Šâ€œä¸å¯å˜å¯¹è±¡â€ä»£ç ç¤ºä¾‹ 12345678910111213141516171819a = 'abc'print(a)print(a.replace('a','A'))print(a)'''abcAbcabc'''b = a.replace('a','A')print(b)print(a)print(b)'''AbcabcAbc''' ç”±ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼šåœ¨è°ƒç”¨äº†å˜é‡açš„replace()ä¹‹åï¼Œç«‹å³è¾“å‡ºå˜é‡açš„å€¼ï¼Œæ­¤æ—¶å˜é‡açš„å€¼æ˜¯ä¿®æ”¹åçš„ï¼Œä½†æ˜¯åœ¨æ¬¡è¾“å‡ºaçš„å€¼æ—¶ï¼Œè¿˜æ˜¯åŸæ¥çš„å†…å®¹ï¼Œå³ï¼šå˜é‡açš„å†…å®¹æœ€ç»ˆå¹¶æ²¡æœ‰è¢«ä¿®æ”¹ã€‚ é‚£ä¸ºä»€ä¹ˆç«‹å³è¾“å‡ºaä¿®æ”¹åçš„å†…å®¹æ—¶æ˜¯å˜åŒ–çš„å‘¢ï¼Ÿ å½“æˆ‘ä»¬æŠŠä¿®æ”¹åaçš„å€¼èµ‹ç»™å˜é‡bæ—¶ï¼Œä¸ç®¡è¾“å‡ºå¤šå°‘æ¬¡bå˜é‡çš„å€¼ï¼Œå…¶å†…å®¹ä¸€ç›´æ˜¯ä¸å˜çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šå˜é‡bå­˜å‚¨çš„æ˜¯ä¸€ä¸ªæ–°çš„å†…å®¹ï¼Œå³ä¸€ä¸ªæ–°çš„strç±»å‹çš„å¯¹è±¡ã€‚è€Œè¿™ä¸ªæ–°çš„strç±»å‹çš„å¯¹è±¡æ˜¯åœ¨å˜é‡aæ‰€æŒ‡çš„å¯¹è±¡çš„åŸºç¡€ä¸Šä¿®æ”¹ä¹‹åçš„æ–°å¯¹è±¡ã€‚ ç»“è®ºå°±æ˜¯ï¼šä¸å¯å˜å¯¹è±¡ä¿®æ”¹åå¾—åˆ°çš„å¯¹è±¡æ˜¯ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€ŒåŸæœ‰çš„å¯¹è±¡ä¿æŒä¸å˜ æ¡ä»¶åˆ¤æ–­elifæ˜¯else ifçš„ç¼©å†™ï¼Œå®Œå…¨å¯ä»¥æœ‰å¤šä¸ªelif ä»£ç ç¤ºä¾‹ 1234567age = 3if age &gt;= 18: print('adult')elif age &gt;= 6: print('teenager')else: print('kid') å¾ªç¯ 1.for A in AList. å°†â€˜AListé›†åˆâ€™ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ èµ‹å€¼åˆ°â€˜å˜é‡Aâ€™ä¸­2.while nã€‚åªè¦æ¡ä»¶â€™nâ€˜æ»¡è¶³ï¼Œå°±å°†â€˜AListé›†åˆâ€™ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å–å‡ºå¹¶èµ‹å€¼åˆ°å˜é‡ä¸­ for ... in ... while éå†ä¸»è¦æ˜¯ä½¿ç”¨: for inä»£ç ç¤ºä¾‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970 ls = [1, 2, 3, 4, 5, 6, 7, 8, 9] sum02 = 0 for item in ls: print(item) sum02 = sum02 + item print(sum02) ''' 1 2 3 4 5 6 7 8 9 45 ''' d = &#123;'cwj': 150, 'zh': 145, 'ww': 234, 'cwj': 200&#125; print(d) # &#123;'cwj': 150, 'zh': 145, 'ww': 234&#125; print(len(d)) # 3 print(d.keys()) # dict_keys(['cwj', 'zh', 'ww']) dlk = list(d.keys()) print(dlk) # ['cwj', 'zh', 'ww'] dlks = set(dlk) print(dlks) # &#123;'zh', 'ww', 'cwj'&#125; dtk = tuple(d.keys()) print(dtk) # ('cwj', 'zh', 'ww') '''éå†æ–¹å¼ 1''' for (key, value) in d.items(): print(key, value) ''' cwj 200 zh 145 ww 234 ''' '''éå†æ–¹å¼ 2''' for key in d: print('dict[%s]\'s value is : ' % key, d[key]) ''' dict[cwj]'s value is : 200 dict[zh]'s value is : 145 dict[ww]'s value is : 234 ''' '''éå†æ–¹å¼ 3 ï¼Œéå†åˆ°æŒ‡å®šçš„keyæ—¶ï¼Œä¿®æ”¹å…¶å…ƒç´ ''' for key in d.keys(): print(key) print(d[key]) if key == 'cwj': d[key] = 500 print('ok cwj,your grade has changed!') print(d) ''' cwj 200 ok cwj,your grade has changed! zh 145 ww 234 &#123;'cwj': 500, 'zh': 145, 'ww': 234&#125;''' å‡ ä¸ªå†…ç½®å‡½æ•°ä»£ç ç¤ºä¾‹ 1234567891011121314151617ll = [1, 2, 3, 4]ll2 = [5, 6, 7, 8]ll3 = [1, 2, 3, 4, 5, 6, 7, 8]ll4 = [2, 7, 4, 5, 0, 1, 9, 1]print(ll * 2) # [1, 2, 3, 4, 1, 2, 3, 4]print(ll + ll2) # [1, 2, 3, 4, 5, 6, 7, 8]# ä¸èƒ½ç›¸å‡# print(ll3 - ll2)# æˆå‘˜èµ„æ ¼# æ£€æµ‹ 1 æ˜¯å¦åœ¨ ll2åºåˆ— ä¸­ï¼Œ ä½¿ç”¨ in å…³é”®å­—è¿”å›å€¼# ä¸ºï¼šTrue or Falseprint(1 in ll2) # False# è·å¾—åºåˆ—ä¸­çš„æœ€å¤§å€¼print(max(ll3)) # 8print(min(ll4)) # 0]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux/Unixç³»ç»Ÿæ–‡ä»¶ç»“æ„]]></title>
    <url>%2FLinux%3AUnix%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%2F</url>
    <content type="text"><![CDATA[/binç³»ç»Ÿæœ‰å¾ˆå¤šæ”¾ç½®æ‰§è¡Œæ¡£çš„ç›®å½•ï¼Œä½†/binæ¯”è¾ƒç‰¹æ®Šã€‚ å› ä¸º/binæ”¾ç½®çš„æ˜¯åœ¨å•äººç»´æŠ¤æ¨¡å¼ä¸‹è¿˜èƒ½å¤Ÿè¢«æ“ä½œçš„æŒ‡ä»¤ã€‚ åœ¨/binåº•ä¸‹çš„æŒ‡ä»¤å¯ä»¥è¢«rootä¸ä¸€èˆ¬å¸å·æ‰€ä½¿ç”¨ï¼Œä¸»è¦æœ‰ï¼šcat,chmod(ä¿®æ”¹æƒé™), chown, date, mv, mkdir, cp, bashç­‰ç­‰å¸¸ç”¨çš„æŒ‡ä»¤ã€‚ /bootä¸»è¦æ”¾ç½®å¼€æœºä¼šä½¿ç”¨åˆ°çš„æ¡£æ¡ˆï¼ŒåŒ…æ‹¬Linuxæ ¸å¿ƒæ¡£æ¡ˆä»¥åŠå¼€æœºé€‰å•ä¸å¼€æœºæ‰€éœ€è®¾å®šæ¡£ç­‰ç­‰ã€‚ Linux kernelå¸¸ç”¨çš„æ¡£åä¸ºï¼švmlinuz ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯grubè¿™ä¸ªå¼€æœºç®¡ç†ç¨‹å¼ï¼Œåˆ™è¿˜ä¼šå­˜åœ¨/boot/grub/è¿™ä¸ªç›®å½•ã€‚ /devåœ¨Linuxç³»ç»Ÿä¸Šï¼Œä»»ä½•è£…ç½®ä¸å‘¨è¾¹è®¾å¤‡éƒ½æ˜¯ä»¥æ¡£æ¡ˆçš„å‹æ€å­˜åœ¨äºè¿™ä¸ªç›®å½•å½“ä¸­ã€‚ åªè¦é€šè¿‡å­˜å–è¿™ä¸ªç›®å½•ä¸‹çš„æŸä¸ªæ¡£æ¡ˆï¼Œå°±ç­‰äºå­˜å–æŸä¸ªè£…ç½®ã€‚æ¯”è¦é‡è¦çš„æ¡£æ¡ˆæœ‰/dev/null, /dev/zero, /dev/tty , /dev/lp*, / dev/hd*, /dev/sd*ç­‰ç­‰ /etcç³»ç»Ÿä¸»è¦çš„è®¾å®šæ¡£å‡ ä¹éƒ½æ”¾ç½®åœ¨è¿™ä¸ªç›®å½•å†…ï¼Œä¾‹å¦‚äººå‘˜çš„å¸å·å¯†ç æ¡£ã€å„ç§æœåŠ¡çš„å¯å§‹æ¡£ç­‰ç­‰ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„å„æ¡£æ¡ˆå±æ€§æ˜¯å¯ä»¥è®©ä¸€èˆ¬ä½¿ç”¨è€…æŸ¥é˜…çš„ï¼Œä½†æ˜¯åªæœ‰rootæœ‰æƒåŠ›ä¿®æ”¹ã€‚ FHSå»ºè®®ä¸è¦æ”¾ç½®å¯æ‰§è¡Œæ¡£(binary)åœ¨è¿™ä¸ªç›®å½•ä¸­ã€‚ æ¯”è¾ƒé‡è¦çš„æ¡£æ¡ˆæœ‰ï¼š/etc/inittab, /etc/init.d/, /etc/modprobe.conf, /etc/X11/, /etc/fstab, /etc/sysconfig/ç­‰ç­‰ã€‚ å¦å¤–ï¼Œå…¶ä¸‹é‡è¦çš„ç›®å½•æœ‰ï¼š/etc/init.d/ ï¼šæ‰€æœ‰æœåŠ¡çš„é¢„è®¾å¯åŠ¨scriptéƒ½æ˜¯æ”¾åœ¨è¿™é‡Œçš„ï¼Œä¾‹å¦‚è¦å¯åŠ¨æˆ–è€…å…³é—­iptablesçš„è¯ï¼š /etc/init.d/iptables startã€/etc/init.d/ iptables stop /etc/xinetd.d/ ï¼šè¿™å°±æ˜¯æ‰€è°“çš„super daemonç®¡ç†çš„å„é¡¹æœåŠ¡çš„è®¾å®šæ¡£ç›®å½•ã€‚ /etc/X11/ ï¼šä¸XWindowæœ‰å…³çš„å„ç§è®¾å®šæ¡£éƒ½åœ¨è¿™é‡Œï¼Œå°¤å…¶æ˜¯xorg.confæˆ–XF86Configè¿™ä¸¤ä¸ªX Serverçš„è®¾å®šæ¡£ã€‚ /homeè¿™æ˜¯ç³»ç»Ÿé¢„è®¾çš„ä½¿ç”¨è€…å®¶ç›®å½•(home directory)ã€‚ åœ¨ä½ æ–°å¢ä¸€ä¸ªä¸€èˆ¬ä½¿ç”¨è€…å¸å·æ—¶ï¼Œé¢„è®¾çš„ä½¿ç”¨è€…å®¶ç›®å½•éƒ½ä¼šè§„èŒƒåˆ°è¿™é‡Œæ¥ã€‚æ¯”è¾ƒé‡è¦çš„æ˜¯ï¼Œå®¶ç›®å½•æœ‰ä¸¤ç§ä»£å·ï¼š ~ ï¼šä»£è¡¨å½“å‰ä½¿ç”¨è€…çš„å®¶ç›®å½•ï¼Œè€Œ ~guestï¼šåˆ™ä»£è¡¨ç”¨æˆ·åä¸ºguestçš„å®¶ç›®å½•ã€‚ /libç³»ç»Ÿçš„å‡½å¼åº“éå¸¸çš„å¤šï¼Œè€Œ/libæ”¾ç½®çš„åˆ™æ˜¯åœ¨å¼€æœºæ—¶ä¼šç”¨åˆ°çš„å‡½å¼åº“ï¼Œä»¥åŠåœ¨/binæˆ–/sbinåº•ä¸‹çš„æŒ‡ä»¤ä¼šå‘¼å«çš„å‡½å¼åº“è€Œå·² ã€‚ ä»€ä¹ˆæ˜¯å‡½å¼åº“å‘¢ï¼Ÿå¦³å¯ä»¥å°†ä»–æƒ³æˆæ˜¯å¤–æŒ‚ï¼ŒæŸäº›æŒ‡ä»¤å¿…é¡»è¦æœ‰è¿™äº›å¤–æŒ‚æ‰èƒ½å¤Ÿé¡ºåˆ©å®Œæˆç¨‹å¼çš„æ‰§è¡Œä¹‹æ„ã€‚ å°¤å…¶é‡è¦çš„æ˜¯/lib/modules/è¿™ä¸ªç›®å½•ï¼Œå› ä¸ºè¯¥ç›®å½•ä¼šæ”¾ç½®æ ¸å¿ƒç›¸å…³çš„æ¨¡ç»„(é©±åŠ¨ç¨‹å¼)ã€‚ /mediamediaæ˜¯åª’ä½“çš„è‹±æ–‡ï¼Œé¡¾åæ€ä¹‰ï¼Œè¿™ä¸ª/mediaåº•ä¸‹æ”¾ç½®çš„å°±æ˜¯å¯ç§»é™¤çš„è£…ç½®ã€‚ åŒ…æ‹¬è½¯ç¢Ÿã€å…‰ç¢Ÿã€DVDç­‰ç­‰è£…ç½®éƒ½æš‚æ—¶æŒ‚è½½äºæ­¤ã€‚ å¸¸è§çš„æ¡£åæœ‰ï¼š/media/floppy, /media/cdromç­‰ç­‰ã€‚ /mntå¦‚æœå¦³æƒ³è¦æš‚æ—¶æŒ‚è½½æŸäº›é¢å¤–çš„è£…ç½®ï¼Œä¸€èˆ¬å»ºè®®å¦³å¯ä»¥æ”¾ç½®åˆ°è¿™ä¸ªç›®å½•ä¸­ã€‚åœ¨å¤æ—©æ—¶å€™ï¼Œè¿™ä¸ªç›®å½•çš„ç”¨é€”ä¸/mediaç›¸åŒå•¦ã€‚ åªæ˜¯æœ‰äº†/mediaä¹‹åï¼Œè¿™ä¸ªç›®å½•å°±ç”¨æ¥æš‚æ—¶æŒ‚è½½ç”¨äº†ã€‚ /optè¿™ä¸ªæ˜¯ç»™ç¬¬ä¸‰æ–¹ååŠ›è½¯ä½“æ”¾ç½®çš„ç›®å½• ã€‚ ä»€ä¹ˆæ˜¯ç¬¬ä¸‰æ–¹ååŠ›è½¯ä½“å•Šï¼Ÿä¸¾ä¾‹æ¥è¯´ï¼ŒKDEè¿™ä¸ªæ¡Œé¢ç®¡ç†ç³»ç»Ÿæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è®¡ç”»ï¼Œä¸è¿‡ä»–å¯ä»¥å®‰è£…åˆ°Linuxç³»ç»Ÿä¸­ï¼Œå› æ­¤KDEçš„è½¯ä½“å°±å»ºè®®æ”¾ç½®åˆ°æ­¤ç›®å½•ä¸‹äº†ã€‚ å¦å¤–ï¼Œå¦‚æœå¦³æƒ³è¦è‡ªè¡Œå®‰è£…é¢å¤–çš„è½¯ä½“(éåŸæœ¬çš„distributionæä¾›çš„)ï¼Œé‚£ä¹ˆä¹Ÿèƒ½å¤Ÿå°†ä½ çš„è½¯ä½“å®‰è£…åˆ°è¿™é‡Œæ¥ã€‚ ä¸è¿‡ï¼Œä»¥å‰çš„Linuxç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä¹ æƒ¯æ”¾ç½®åœ¨/usr/localç›®å½•ä¸‹ã€‚ /rootç³»ç»Ÿç®¡ç†å‘˜(root)çš„å®¶ç›®å½•ã€‚ ä¹‹æ‰€ä»¥æ”¾åœ¨è¿™é‡Œï¼Œæ˜¯å› ä¸ºå¦‚æœè¿›å…¥å•äººç»´æŠ¤æ¨¡å¼è€Œä»…æŒ‚è½½æ ¹ç›®å½•æ—¶ï¼Œè¯¥ç›®å½•å°±èƒ½å¤Ÿæ‹¥æœ‰rootçš„å®¶ç›®å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šå¸Œæœ›rootçš„å®¶ç›®å½•ä¸æ ¹ç›®å½•æ”¾ç½®åœ¨åŒä¸€ä¸ªåˆ†åŒºä¸­ã€‚ /sbinLinuxæœ‰éå¸¸å¤šæŒ‡ä»¤æ˜¯ç”¨æ¥è®¾å®šç³»ç»Ÿç¯å¢ƒçš„ï¼Œè¿™äº›æŒ‡ä»¤åªæœ‰rootæ‰èƒ½å¤Ÿåˆ©ç”¨æ¥è®¾å®šç³»ç»Ÿï¼Œå…¶ä»–ä½¿ç”¨è€…æœ€å¤šåªèƒ½ç”¨æ¥æŸ¥è¯¢è€Œå·²ã€‚æ”¾åœ¨/sbinåº•ä¸‹çš„ä¸ºå¼€æœºè¿‡ç¨‹ä¸­æ‰€éœ€è¦çš„ï¼Œé‡Œé¢åŒ…æ‹¬äº†å¼€æœºã€ä¿®å¤ã€è¿˜åŸç³»ç»Ÿæ‰€éœ€è¦çš„æŒ‡ä»¤ã€‚è‡³äºæŸäº›ä¼ºæœå™¨è½¯ä½“ç¨‹å¼ï¼Œä¸€èˆ¬åˆ™æ”¾ç½®åˆ°/usr/sbin/å½“ä¸­ã€‚è‡³äºæœ¬æœºè‡ªè¡Œå®‰è£…çš„è½¯ä½“æ‰€äº§ç”Ÿçš„ç³»ç»Ÿæ‰§è¡Œæ¡£(system binary)ï¼Œåˆ™æ”¾ç½®åˆ°/usr/local/sbin/å½“ä¸­äº†ã€‚å¸¸è§çš„æŒ‡ä»¤åŒ…æ‹¬ï¼šfdisk, fsck, ifconfig, init, mkfsç­‰ç­‰ã€‚ /srvsrvå¯ä»¥è§†ä¸ºserviceçš„ç¼©å†™ï¼Œæ˜¯ä¸€äº›ç½‘è·¯æœåŠ¡å¯åŠ¨ä¹‹åï¼Œè¿™äº›æœåŠ¡æ‰€éœ€è¦å–ç”¨çš„èµ„æ–™ç›®å½•ã€‚ å¸¸è§çš„æœåŠ¡ä¾‹å¦‚WWW, FTPç­‰ç­‰ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼ŒWWWä¼ºæœå™¨éœ€è¦çš„ç½‘é¡µèµ„æ–™å°±å¯ä»¥æ”¾ç½®åœ¨/srv/www/é‡Œé¢ã€‚å‘µå‘µï¼Œçœ‹æ¥å¹³æ—¶æˆ‘ä»¬ç¼–å†™çš„ä»£ç åº”è¯¥æ”¾åˆ°è¿™é‡Œäº†ã€‚ /tmpè¿™æ˜¯è®©ä¸€èˆ¬ä½¿ç”¨è€…æˆ–è€…æ˜¯æ­£åœ¨æ‰§è¡Œçš„ç¨‹åºæš‚æ—¶æ”¾ç½®æ¡£æ¡ˆçš„åœ°æ–¹ã€‚è¿™ä¸ªç›®å½•æ˜¯ä»»ä½•äººéƒ½èƒ½å¤Ÿå­˜å–çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦å®šæœŸçš„æ¸…ç†ä¸€ä¸‹ã€‚å½“ç„¶ï¼Œé‡è¦èµ„æ–™ä¸å¯æ”¾ç½®åœ¨æ­¤ç›®å½•å•Šã€‚ å› ä¸ºFHSç”šè‡³å»ºè®®åœ¨å¼€æœºæ—¶ï¼Œåº”è¯¥è¦å°†/tmpä¸‹çš„èµ„æ–™éƒ½åˆ é™¤ã€‚ äº‹å®ä¸ŠFHSé’ˆå¯¹æ ¹ç›®å½•æ‰€å®šä¹‰çš„æ ‡å‡†å°±ä»…é™äºä¸Šè¡¨ï¼Œä¸è¿‡ä»æ—§æœ‰äº›ç›®å½•ä¹Ÿéœ€è¦æˆ‘ä»¬äº†è§£ä¸€ä¸‹ï¼Œå…·ä½“å¦‚ä¸‹ï¼š /lost+foundè¿™ä¸ªç›®å½•æ˜¯ä½¿ç”¨æ ‡å‡†çš„ext2/ext3æ¡£æ¡ˆç³»ç»Ÿæ ¼å¼æ‰ä¼šäº§ç”Ÿçš„ä¸€ä¸ªç›®å½•ï¼Œç›®çš„åœ¨äºå½“æ¡£æ¡ˆç³»ç»Ÿå‘ç”Ÿé”™è¯¯æ—¶ï¼Œå°†ä¸€äº›é—å¤±çš„ç‰‡æ®µæ”¾ç½®åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚ è¿™ä¸ªç›®å½•é€šå¸¸ä¼šåœ¨åˆ†å‰²æ§½çš„æœ€é¡¶å±‚å­˜åœ¨ï¼Œä¾‹å¦‚ä½ åŠ è£…ä¸€ä¸ªç¡¬ç›˜äº/diskä¸­ï¼Œé‚£åœ¨è¿™ä¸ªç³»ç»Ÿä¸‹å°±ä¼šè‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªè¿™æ ·çš„ç›®å½•/disk/lost+found /procè¿™ä¸ªç›®å½•æœ¬èº«æ˜¯ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ(virtual filesystem)å–”ã€‚ ä»–æ”¾ç½®çš„èµ„æ–™éƒ½æ˜¯åœ¨å†…å­˜å½“ä¸­ï¼Œä¾‹å¦‚ç³»ç»Ÿæ ¸å¿ƒã€è¡Œç¨‹èµ„è®¯(process)ï¼ˆæ˜¯è¿›ç¨‹å—?ï¼‰ã€å‘¨è¾¹è£…ç½®çš„çŠ¶æ€åŠç½‘ç»œçŠ¶æ€ç­‰ç­‰ã€‚å› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„èµ„æ–™éƒ½æ˜¯åœ¨è®°å¿†ä½“ï¼ˆå†…å­˜ï¼‰å½“ä¸­ï¼Œæ‰€ä»¥æœ¬èº«ä¸å ä»»ä½•ç¡¬ç›˜ç©ºé—´ã€‚æ¯”è¾ƒé‡è¦çš„æ¡£æ¡ˆï¼ˆç›®å½•ï¼‰ä¾‹å¦‚ï¼š /proc/cpuinfo, /proc/dma, /proc/interrupts, /proc/ioports, /proc/net/*ç­‰ç­‰ã€‚å‘µå‘µï¼Œæ˜¯è™šæ‹Ÿå†…å­˜å—[guest]ï¼Ÿ /sysè¿™ä¸ªç›®å½•å…¶å®è·Ÿ/procéå¸¸ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ¡£æ¡ˆç³»ç»Ÿï¼Œä¸»è¦ä¹Ÿæ˜¯è®°å½•ä¸æ ¸å¿ƒç›¸å…³çš„èµ„è®¯ã€‚ åŒ…æ‹¬ç›®å‰å·²è½½å…¥çš„æ ¸å¿ƒæ¨¡ç»„ä¸æ ¸å¿ƒä¾¦æµ‹åˆ°çš„ç¡¬ä½“è£…ç½®èµ„è®¯ç­‰ç­‰ã€‚ è¿™ä¸ªç›®å½•åŒæ ·ä¸å ç¡¬ç›˜å®¹é‡ã€‚ æ ¹ç›®å½•ä¸‹ä¸å¼€æœºè¿‡ç¨‹æœ‰å…³çš„ç›®å½•1234567é™¤äº†è¿™äº›ç›®å½•çš„å†…å®¹ä¹‹å¤–ï¼Œå¦å¤–è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºæ ¹ç›®å½•ä¸å¼€æœºæœ‰å…³ï¼Œå¼€æœºè¿‡ç¨‹ä¸­ä»…æœ‰æ ¹ç›®å½•ä¼šè¢«æŒ‚è½½ï¼Œ å…¶ä»–åˆ†åŒºåˆ™æ˜¯åœ¨å¼€æœºå®Œæˆä¹‹åæ‰ä¼šæŒç»­çš„è¿›è¡ŒæŒ‚è½½çš„è¡Œä¸ºã€‚å°±æ˜¯å› ä¸ºå¦‚æ­¤ï¼Œå› æ­¤æ ¹ç›®å½•ä¸‹ä¸å¼€æœºè¿‡ç¨‹æœ‰å…³çš„ç›®å½•ï¼Œ å°±ä¸èƒ½å¤Ÿä¸æ ¹ç›®å½•æ”¾åˆ°ä¸åŒçš„åˆ†åŒºå»ã€‚é‚£å“ªäº›ç›®å½•ä¸å¯ä¸æ ¹ç›®å½•åˆ†å¼€å‘¢ï¼Ÿæœ‰åº•ä¸‹è¿™äº›ï¼š /etcï¼šé…ç½®æ–‡ä»¶ /binï¼šé‡è¦æ‰§è¡Œæ¡£ /devï¼šæ‰€éœ€è¦çš„è£…ç½®æ–‡ä»¶ /libï¼šæ‰§è¡Œæ¡£æ‰€éœ€çš„å‡½å¼åº“ä¸æ ¸å¿ƒæ‰€éœ€çš„æ¨¡å— /sbinï¼šé‡è¦çš„ç³»ç»Ÿæ‰§è¡Œæ–‡ä»¶è¿™äº”ä¸ªç›®å½•åƒä¸‡ä¸å¯ä¸æ ¹ç›®å½•åˆ†å¼€åœ¨ä¸åŒçš„åˆ†åŒºã€‚è¯·èƒŒä¸‹æ¥å•Šã€‚ /usr çš„æ„ä¹‰ä¸å†…å®¹ï¼šä¾æ®FHSçš„åŸºæœ¬å®šä¹‰ï¼Œ/usré‡Œé¢æ”¾ç½®çš„æ•°æ®å±äºå¯åˆ†äº«çš„ä¸ä¸å¯å˜åŠ¨çš„(shareable, static)ï¼Œ å¦‚æœä½ çŸ¥é“å¦‚ä½•é€è¿‡ç½‘ç»œè¿›è¡Œåˆ†åŒºçš„æŒ‚è½½(ä¾‹å¦‚åœ¨æœåŠ¡å™¨ç¯‡ä¼šè°ˆåˆ°çš„NFSæœåŠ¡å™¨)ï¼Œé‚£ä¹ˆ/usrç¡®å®å¯ä»¥åˆ†äº«ç»™å±€åŸŸç½‘ç»œå†…çš„å…¶ä»–ä¸»æœºæ¥ä½¿ç”¨å–”ã€‚ /usrä¸æ˜¯userçš„ç¼©å†™ï¼Œå…¶å®usræ˜¯Unix Software Resourceçš„ç¼©å†™ï¼Œ ä¹Ÿå°±æ˜¯Unixæ“ä½œç³»ç»Ÿè½¯ä»¶èµ„æºæ‰€æ”¾ç½®çš„ç›®å½•ï¼Œè€Œä¸æ˜¯ç”¨æˆ·çš„æ•°æ®å•¦ã€‚è¿™ç‚¹è¦æ³¨æ„ã€‚ FHSå»ºè®®æ‰€æœ‰è½¯ä»¶å¼€å‘è€…ï¼Œåº”è¯¥å°†ä»–ä»¬çš„æ•°æ®åˆç†çš„åˆ†åˆ«æ”¾ç½®åˆ°è¿™ä¸ªç›®å½•ä¸‹çš„æ¬¡ç›®å½•ï¼Œè€Œä¸è¦è‡ªè¡Œå»ºç«‹è¯¥è½¯ä»¶è‡ªå·±ç‹¬ç«‹çš„ç›®å½•ã€‚å› ä¸ºæ˜¯æ‰€æœ‰ç³»ç»Ÿé»˜è®¤çš„è½¯ä»¶(distributionå‘å¸ƒè€…æä¾›çš„è½¯ä»¶)éƒ½ä¼šæ”¾ç½®åˆ°/usråº•ä¸‹ï¼Œå› æ­¤è¿™ä¸ªç›®å½•æœ‰ç‚¹ç±»ä¼¼Windows ç³»ç»Ÿçš„C:\Windows\ + C:\Program files\è¿™ä¸¤ä¸ªç›®å½•çš„ç»¼åˆä½“ï¼Œç³»ç»Ÿåˆšå®‰è£…å®Œæ¯•æ—¶ï¼Œè¿™ä¸ªç›®å½•ä¼šå ç”¨æœ€å¤šçš„ç¡¬ç›˜å®¹é‡ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œ/usrçš„æ¬¡ç›®å½•å»ºè®®æœ‰åº•ä¸‹è¿™äº›ï¼š /usr/X11R6/ä¸ºX Window Systemé‡è¦æ•°æ®æ‰€æ”¾ç½®çš„ç›®å½•ï¼Œä¹‹æ‰€ä»¥å–åä¸ºX11R6æ˜¯å› ä¸ºæœ€åçš„Xç‰ˆæœ¬ä¸ºç¬¬11ç‰ˆï¼Œä¸”è¯¥ç‰ˆçš„ç¬¬6æ¬¡é‡Šå‡ºä¹‹æ„ã€‚/usr/bin/ç»å¤§éƒ¨åˆ†çš„ç”¨æˆ·å¯ä½¿ç”¨æŒ‡ä»¤éƒ½æ”¾åœ¨è¿™é‡Œã€‚è¯·æ³¨æ„åˆ°ä»–ä¸/binçš„ä¸åŒä¹‹å¤„ã€‚(æ˜¯å¦ä¸å¼€æœºè¿‡ç¨‹æœ‰å…³) /usr/include/c/c++ç­‰ç¨‹åºè¯­è¨€çš„æ¡£å¤´(header)ä¸åŒ…å«æ¡£(include)æ”¾ç½®å¤„ï¼Œå½“æˆ‘ä»¬ä»¥tarballæ–¹å¼ (*.tar.gz çš„æ–¹å¼å®‰è£…è½¯ä»¶)å®‰è£…æŸäº›æ•°æ®æ—¶ï¼Œä¼šä½¿ç”¨åˆ°é‡Œå¤´çš„è®¸å¤šåŒ…å«æ¡£ã€‚ /usr/lib/åŒ…å«å„åº”ç”¨è½¯ä»¶çš„å‡½å¼åº“ã€ç›®æ ‡æ–‡ä»¶(object file)ï¼Œä»¥åŠä¸è¢«ä¸€èˆ¬ä½¿ç”¨è€…æƒ¯ç”¨çš„æ‰§è¡Œæ¡£æˆ–è„šæœ¬(script)ã€‚ æŸäº›è½¯ä»¶ä¼šæä¾›ä¸€äº›ç‰¹æ®Šçš„æŒ‡ä»¤æ¥è¿›è¡ŒæœåŠ¡å™¨çš„è®¾å®šï¼Œè¿™äº›æŒ‡ä»¤ä¹Ÿä¸ä¼šç»å¸¸è¢«ç³»ç»Ÿç®¡ç†å‘˜æ“ä½œï¼Œ é‚£å°±ä¼šè¢«æ‘†æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹å•¦ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯X86_64çš„Linuxç³»ç»Ÿï¼Œ é‚£å¯èƒ½ä¼šæœ‰/usr/lib64/ç›®å½•äº§ç”Ÿ /usr/local/ç»Ÿç®¡ç†å‘˜åœ¨æœ¬æœºè‡ªè¡Œå®‰è£…è‡ªå·±ä¸‹è½½çš„è½¯ä»¶(édistributioné»˜è®¤æä¾›è€…)ï¼Œå»ºè®®å®‰è£…åˆ°æ­¤ç›®å½•ï¼Œ è¿™æ ·ä¼šæ¯”è¾ƒä¾¿äºç®¡ç†ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½ çš„distributionæä¾›çš„è½¯ä»¶è¾ƒæ—§ï¼Œä½ æƒ³å®‰è£…è¾ƒæ–°çš„è½¯ä»¶ä½†åˆä¸æƒ³ç§»é™¤æ—§ç‰ˆï¼Œ æ­¤æ—¶ä½ å¯ä»¥å°†æ–°ç‰ˆè½¯ä»¶å®‰è£…äº/usr/local/ç›®å½•ä¸‹ï¼Œå¯ä¸åŸå…ˆçš„æ—§ç‰ˆè½¯ä»¶æœ‰åˆ†åˆ«å•¦ã€‚ ä½ å¯ä»¥è‡ªè¡Œåˆ°/usr/localå»çœ‹çœ‹ï¼Œè¯¥ç›®å½•ä¸‹ä¹Ÿæ˜¯å…·æœ‰bin, etc, include, libâ€¦çš„æ¬¡ç›®å½• /usr/sbin/éç³»ç»Ÿæ­£å¸¸è¿ä½œæ‰€éœ€è¦çš„ç³»ç»ŸæŒ‡ä»¤ã€‚æœ€å¸¸è§çš„å°±æ˜¯æŸäº›ç½‘ç»œæœåŠ¡å™¨è½¯ä»¶çš„æœåŠ¡æŒ‡ä»¤(daemon) /usr/share/æ”¾ç½®å…±äº«æ–‡ä»¶çš„åœ°æ–¹ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹æ”¾ç½®çš„æ•°æ®å‡ ä¹æ˜¯ä¸åˆ†ç¡¬ä»¶æ¶æ„å‡å¯è¯»å–çš„æ•°æ®ï¼Œ å› ä¸ºå‡ ä¹éƒ½æ˜¯æ–‡æœ¬æ–‡ä»¶å˜›ã€‚åœ¨æ­¤ç›®å½•ä¸‹å¸¸è§çš„è¿˜æœ‰è¿™äº›æ¬¡ç›®å½•ï¼š/usr/share/manï¼šè”æœºå¸®åŠ©æ–‡ä»¶ /usr/share/docï¼šè½¯ä»¶æ‚é¡¹çš„æ–‡ä»¶è¯´æ˜ /usr/share/zoneinfoï¼šä¸æ—¶åŒºæœ‰å…³çš„æ—¶åŒºæ–‡ä»¶ /usr/src/ ä¸€èˆ¬åŸå§‹ç å»ºè®®æ”¾ç½®åˆ°è¿™é‡Œï¼Œsrcæœ‰sourceçš„æ„æ€ã€‚è‡³äºæ ¸å¿ƒåŸå§‹ç åˆ™å»ºè®®æ”¾ç½®åˆ°/usr/src/linux/ç›®å½•ä¸‹ã€‚ /var çš„æ„ä¹‰ä¸å†…å®¹ï¼šå¦‚æœ/usræ˜¯å®‰è£…æ—¶ä¼šå ç”¨è¾ƒå¤§ç¡¬ç›˜å®¹é‡çš„ç›®å½•ï¼Œé‚£ä¹ˆ/varå°±æ˜¯åœ¨ç³»ç»Ÿè¿ä½œåæ‰ä¼šæ¸æ¸å ç”¨ç¡¬ç›˜å®¹é‡çš„ç›®å½•ã€‚ å› ä¸º/varç›®å½•ä¸»è¦é’ˆå¯¹å¸¸æ€æ€§å˜åŠ¨çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬ç¼“å­˜(cache)ã€ç™»å½•æ¡£(log file)ä»¥åŠæŸäº›è½¯ä»¶è¿ä½œæ‰€äº§ç”Ÿçš„æ–‡ä»¶ï¼Œ åŒ…æ‹¬ç¨‹åºæ–‡ä»¶(lock file, run file)ï¼Œæˆ–è€…ä¾‹å¦‚MySQLæ•°æ®åº“çš„æ–‡ä»¶ç­‰ç­‰ã€‚ /var/cache/åº”ç”¨ç¨‹åºæœ¬èº«è¿ä½œè¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿçš„ä¸€äº›æš‚å­˜æ¡£ /var/lib/ç¨‹åºæœ¬èº«æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä½¿ç”¨åˆ°çš„æ•°æ®æ–‡ä»¶æ”¾ç½®çš„ç›®å½•ã€‚åœ¨æ­¤ç›®å½•ä¸‹å„è‡ªçš„è½¯ä»¶åº”è¯¥è¦æœ‰å„è‡ªçš„ç›®å½•ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼ŒMySQLçš„æ•°æ®åº“æ”¾ç½®åˆ°/var/lib/mysql/è€Œrpmçš„æ•°æ®åº“åˆ™æ”¾åˆ°/var/lib/rpmå» /var/lock/æŸäº›è£…ç½®æˆ–è€…æ˜¯æ–‡ä»¶èµ„æºä¸€æ¬¡åªèƒ½è¢«ä¸€ä¸ªåº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨ï¼Œå¦‚æœåŒæ—¶æœ‰ä¸¤ä¸ªç¨‹åºä½¿ç”¨è¯¥è£…ç½®æ—¶ï¼Œ å°±å¯èƒ½äº§ç”Ÿä¸€äº›é”™è¯¯çš„çŠ¶å†µï¼Œå› æ­¤å°±å¾—è¦å°†è¯¥è£…ç½®ä¸Šé”(lock)ï¼Œä»¥ç¡®ä¿è¯¥è£…ç½®åªä¼šç»™å•ä¸€è½¯ä»¶æ‰€ä½¿ç”¨ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œåˆ»å½•æœºæ­£åœ¨åˆ»å½•ä¸€å—å…‰ç›˜ï¼Œä½ æƒ³ä¸€ä¸‹ï¼Œä¼šä¸ä¼šæœ‰ä¸¤ä¸ªäººåŒæ—¶åœ¨ä½¿ç”¨ä¸€ä¸ªåˆ»å½•æœºçƒ§ç‰‡ï¼Ÿ å¦‚æœä¸¤ä¸ªäººåŒæ—¶åˆ»å½•ï¼Œé‚£ç‰‡å­å†™å…¥çš„æ˜¯è°çš„æ•°æ®ï¼Ÿæ‰€ä»¥å½“ç¬¬ä¸€ä¸ªäººåœ¨åˆ»å½•æ—¶è¯¥åˆ»å½•æœºå°±ä¼šè¢«ä¸Šé”ï¼Œ ç¬¬äºŒä¸ªäººå°±å¾—è¦è¯¥è£…ç½®è¢«è§£é™¤é”å®š(å°±æ˜¯å‰ä¸€ä¸ªäººç”¨å®Œäº†)æ‰èƒ½å¤Ÿç»§ç»­ä½¿ç”¨ /var/log/éå¸¸é‡è¦ã€‚è¿™æ˜¯ç™»å½•æ–‡ä»¶æ”¾ç½®çš„ç›®å½•ã€‚é‡Œé¢æ¯”è¾ƒé‡è¦çš„æ–‡ä»¶å¦‚/var/log/messages, /var/log/wtmp(è®°å½•ç™»å…¥è€…çš„ä¿¡æ¯)ç­‰ã€‚ /var/mail/æ”¾ç½®ä¸ªäººç”µå­é‚®ä»¶ä¿¡ç®±çš„ç›®å½•ï¼Œä¸è¿‡è¿™ä¸ªç›®å½•ä¹Ÿè¢«æ”¾ç½®åˆ°/var/spool/mail/ç›®å½•ä¸­ï¼Œé€šå¸¸è¿™ä¸¤ä¸ªç›®å½•æ˜¯äº’ä¸ºé“¾æ¥æ–‡ä»¶ã€‚ /var/run/æŸäº›ç¨‹åºæˆ–è€…æ˜¯æœåŠ¡å¯åŠ¨åï¼Œä¼šå°†ä»–ä»¬çš„PIDæ”¾ç½®åœ¨è¿™ä¸ªç›®å½•ä¸‹ /var/spool/è¿™ä¸ªç›®å½•é€šå¸¸æ”¾ç½®ä¸€äº›é˜Ÿåˆ—æ•°æ®ï¼Œæ‰€è°“çš„â€œé˜Ÿåˆ—â€å°±æ˜¯æ’é˜Ÿç­‰å¾…å…¶ä»–ç¨‹åºä½¿ç”¨çš„æ•°æ®ã€‚ è¿™äº›æ•°æ®è¢«ä½¿ç”¨åé€šå¸¸éƒ½ä¼šè¢«åˆ é™¤ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç³»ç»Ÿæ”¶åˆ°æ–°ä¿¡ä¼šæ”¾ç½®åˆ°/var/spool/mail/ä¸­ï¼Œ ä½†ä½¿ç”¨è€…æ”¶ä¸‹è¯¥ä¿¡ä»¶åè¯¥å°ä¿¡åŸåˆ™ä¸Šå°±ä¼šè¢«åˆ é™¤ã€‚ä¿¡ä»¶å¦‚æœæš‚æ—¶å¯„ä¸å‡ºå»ä¼šè¢«æ”¾åˆ°/var/spool/mqueue/ä¸­ï¼Œ ç­‰åˆ°è¢«é€å‡ºåå°±è¢«åˆ é™¤ã€‚å¦‚æœæ˜¯å·¥ä½œæ’ç¨‹æ•°æ®(crontab)ï¼Œå°±ä¼šè¢«æ”¾ç½®åˆ°/var/spool/cron/ç›®å½•ä¸­ã€‚ç”±äºFHSä»…æ˜¯å®šä¹‰å‡ºæœ€ä¸Šå±‚(/)åŠæ¬¡å±‚(/usr, /var)çš„ç›®å½•å†…å®¹åº”è¯¥è¦æ”¾ç½®çš„æ–‡ä»¶æˆ–ç›®å½•æ•°æ®ï¼Œ å› æ­¤ï¼Œåœ¨å…¶ä»–æ¬¡ç›®å½•å±‚çº§å†…ï¼Œå°±å¯ä»¥éšå¼€å‘è€…è‡ªè¡Œæ¥é…ç½®äº†ã€‚å››. ç›®å½•æ ‘(directory tree) :åœ¨Linuxåº•ä¸‹ï¼Œæ‰€æœ‰çš„æ–‡ä»¶ä¸ç›®å½•éƒ½æ˜¯ç”±æ ¹ç›®å½•å¼€å§‹çš„ã€‚é‚£æ˜¯æ‰€æœ‰ç›®å½•ä¸æ–‡ä»¶çš„æºå¤´, ç„¶åå†ä¸€ä¸ªä¸€ä¸ªçš„åˆ†æ”¯ä¸‹æ¥ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿç§°è¿™ç§ç›®å½•é…ç½®æ–¹å¼ä¸ºï¼šç›®å½•æ ‘(directory tree), è¿™ä¸ªç›®å½•æ ‘çš„ä¸»è¦ç‰¹æ€§æœ‰ï¼šç›®å½•æ ‘çš„å¯å§‹ç‚¹ä¸ºæ ¹ç›®å½• (/, root)ï¼›æ¯ä¸€ä¸ªç›®å½•ä¸æ­¢èƒ½ä½¿ç”¨æœ¬åœ°ç«¯çš„ partition çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç½‘ç»œä¸Šçš„ filesystem ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ å¯ä»¥åˆ©ç”¨ Network File System (NFS) æœåŠ¡å™¨æŒ‚è½½æŸç‰¹å®šç›®å½•ç­‰ã€‚æ¯ä¸€ä¸ªæ–‡ä»¶åœ¨æ­¤ç›®å½•æ ‘ä¸­çš„æ–‡ä»¶å(åŒ…å«å®Œæ•´è·¯å¾„)éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>å‘½ä»¤</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python3 01-åŸºç¡€-åŸºæœ¬æ•°æ®ç±»å‹]]></title>
    <url>%2FPython3%20%2001-%E5%9F%BA%E7%A1%80-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[Pythonæ˜¯ä¸€ç§è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ï¼Œä½¿ç”¨Unicodeç¼–ç ï¼Œæ”¯æŒå¤šè¯­è¨€(åŠ¨æ€è¯­è¨€ï¼Œå› ä¸ºå˜é‡æœ¬èº«ä¸å›ºå®š)ã€‚ æ˜¯ä¸€ç§è§£é‡Šæ€§è¯­è¨€åœ¨è¿è¡Œ .py æ–‡ä»¶æ—¶éœ€è¦é€šè¿‡ è§£é‡Šå™¨ è¿›è¡Œè§£é‡Šç„¶åæ˜¾ç¤ºå‘¢ç»“æœã€‚ åŒºåˆ†å¤§å°å†™ å‚è€ƒç½‘ç«™ï¼šhttp://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000 Pythonä»£ç åˆ›å»ºæ–¹å¼ 1.åœ¨ ç»ˆç«¯ç¯å¢ƒ ä¸­ç¼–å†™ 2.åœ¨ æ–‡ä»¶ ä¸­ç¼–å†™ æ–¹å¼ 1ï¼šåœ¨ç»ˆç«¯ç¯å¢ƒä¸‹ è¾“å…¥ python è¿›å…¥pythonäº¤äº’æ¨¡å¼ï¼Œåœ¨&gt;&gt;&gt;ååç¼–å†™ä»£ç ï¼š 12300 + 100400 è¾“å…¥ exit() é€€å‡ºpythonæ¨¡å¼ã€‚ æ–¹å¼ 2ï¼šåœ¨æ–‡ä»¶ä¸­ ç›´æ¥åœ¨æ–‡ä»¶ä¸­ç¼–å†™ä»£ç ï¼Œç„¶åæ‰“å¼€ç»ˆç«¯è¿›å…¥æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œè¿è¡Œï¼š 1python æ–‡ä»¶å.py è¯­æ³•1ã€é‡‡ç”¨ç¼©è¿›æ–¹å¼ï¼ˆ4ä¸ªç©ºæ ¼ï¼‰ 2ã€å¤§å°å†™æ•æ„Ÿï¼Œä¾‹å¦‚ï¼š`True`, `False`, `None` æ³¨é‡Š # coding=utf-8 ä½¿ç”¨Scrapyçˆ¬è™«æ¡†æ¶æ—¶åº”è¯¥æ·»åŠ æ­¤æ¡è¯­å¥è¡¨æ˜æ³¨é‡Šæ˜¯ä¸­æ–‡æ³¨é‡Š # å•è¡Œæ³¨é‡Š &#39;&#39;&#39; &#39;&#39;&#39;å¤šè¡Œæ³¨é‡Š ç¬¦å· ï¼šä½œç”¨ :ç»“å°¾è¡¨ç¤ºæ—¶ï¼Œç¼©è¿›çš„è¯­å¥è§†ä¸ºä»£ç å—,å¦‚ï¼š 1234if ooo: XXXelse: XXX å­—ç¬¦ä¸²ç¼–ç  å‚è€ƒï¼šhttp://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431664106267f12e9bef7ee14cf6a8776a479bdec9b9000 ASCIIã€Unicodeå’ŒUTF-8çš„å…³ç³»åœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨Unicodeç¼–ç ï¼Œå½“éœ€è¦ä¿å­˜åˆ°ç¡¬ç›˜æˆ–è€…éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œå°±è½¬æ¢ä¸ºUTF-8ç¼–ç ã€‚ ç”¨è®°äº‹æœ¬ç¼–è¾‘çš„æ—¶å€™ï¼Œä»æ–‡ä»¶è¯»å–çš„UTF-8å­—ç¬¦è¢«è½¬æ¢ä¸ºUnicodeå­—ç¬¦åˆ°å†…å­˜é‡Œï¼Œç¼–è¾‘å®Œæˆåï¼Œä¿å­˜çš„æ—¶å€™å†æŠŠUnicodeè½¬æ¢ä¸ºUTF-8ä¿å­˜åˆ°æ–‡ä»¶ æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šæŠŠåŠ¨æ€ç”Ÿæˆçš„Unicodeå†…å®¹è½¬æ¢ä¸ºUTF-8å†ä¼ è¾“åˆ°æµè§ˆå™¨ã€‚æ‰€ä»¥ä½ çœ‹åˆ°å¾ˆå¤šç½‘é¡µçš„æºç ä¸Šä¼šæœ‰ç±»ä¼¼çš„ä¿¡æ¯ï¼Œè¡¨ç¤ºè¯¥ç½‘é¡µæ­£æ˜¯ç”¨çš„UTF-8ç¼–ç  Python 3ç‰ˆæœ¬ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ä»¥Unicodeç¼–ç çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒPythonçš„å­—ç¬¦ä¸²æ”¯æŒå¤šè¯­è¨€ æ•°æ®ç±»å‹å’Œå˜é‡ æ•´æ•° æµ®ç‚¹å‹ å­—ç¬¦ä¸² å¸ƒå°”å€¼ ç©ºå€¼ å˜é‡ å¸¸é‡ åˆ—è¡¨ å­—å…¸ è‡ªå®šä¹‰æ•°æ®ç±»å‹ æ•´æ•°1ï¼Œ-1ï¼Œ0x123ã€‚ æ•´æ•°çš„é™¤æ³•åœ¨Pythonä¸­æœ‰ä¸¤ç§ï¼š/å’Œ//ã€‚ å…¶ä¸­/è¡¨ç¤ºé™¤æ³•è®¡ç®—ç»“æœæ˜¯æµ®ç‚¹æ•°ï¼Œå³ä½¿æ˜¯ä¸¤ä¸ªæ•´æ•°æ°å¥½æ•´é™¤ï¼Œç»“æœä¹Ÿæ˜¯æµ®ç‚¹æ•° 1print(13/5) #2.6 å¦ä¸€ç§é™¤æ³•//ç§°ä¸ºåœ°æ¿é™¤ï¼Œä¸¤ä¸ªæ•´æ•°çš„é™¤æ³•ä»ç„¶æ˜¯æ•´æ•°: 1print(13//5) #2 æµ®ç‚¹å‹1.2ï¼Œ 1.23e9, 12.3e8ï¼Œ 1.23e-8 å­—ç¬¦ä¸²ï¼ˆï¼æ­¤å¤„åˆ’é‡ç‚¹ï¼ï¼‰ å­—ç¬¦ä¸²ç±»å‹æ˜¯strã€‚ ç”±äºPythonçš„å­—ç¬¦ä¸²ç±»å‹æ˜¯strï¼Œåœ¨å†…å­˜ä¸­ä»¥Unicodeè¡¨ç¤ºï¼Œä¸€ä¸ªå­—ç¬¦å¯¹åº”è‹¥å¹²ä¸ªå­—èŠ‚ã€‚å¦‚æœè¦åœ¨ç½‘ç»œä¸Šä¼ è¾“ï¼Œæˆ–è€…ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œå°±éœ€è¦æŠŠstrå˜ä¸ºä»¥å­—èŠ‚ä¸ºå•ä½çš„bytesã€‚ Pythonå¯¹bytesç±»å‹çš„æ•°æ®ç”¨å¸¦bå‰ç¼€çš„å•å¼•å·æˆ–åŒå¼•å·è¡¨ç¤ºã€‚ ä½¿ç”¨ &#39; &#39; æˆ–è€… &quot; &quot; è¡¨ç¤ºçš„ä»»æ„å­—ç¬¦ã€‚å…¶ä¸­åŒ…æ‹¬ â€œâ€˜â€çš„ç”¨æ³• &quot;I&apos;m OK&quot; æ—¢æœ‰&#39;åˆæœ‰&quot;çš„è¡¨ç¤ºæ–¹æ³• Iâ€™m â€œOKâ€çš„ç”¨æ³•ï¼š &apos;I \&apos;m \&quot;OK\&quot;&apos; å³ï¼šéœ€è¦æ˜¾ç¤ºçš„ç‰¹æ®Šå­—ç¬¦æˆ–è€…éœ€è¦è½¬ä¹‰çš„å­—ç¬¦ç”¨ \ è¡¨ç¤ºã€‚ å¦‚æœä¸éœ€è¦è½¬ä¹‰å½“å‰å­—ç¬¦ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ r&#39;&#39; è¡¨ç¤º &#39;&#39;å†…éƒ¨ä¸éœ€è¦è½¬ä¹‰çš„å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š 1print(r'"I\'m \"OK\""') ç»“æœä¸ºï¼š &quot;I\&apos;m \&quot;OK\&quot;&quot; åœ¨&#39;&#39;&#39; &#39;&#39;&#39; å†…å¯ä»¥ä¸ä½¿ç”¨\næ¢è¡Œç¬¦è€Œç›´æ¥è¡¨ç¤ºå¤šè¡Œå†…å®¹ 123print('''line1line2line3''') ç»“æœä¸ºï¼š 123line1line2line3 å¸ƒå°”å€¼ æ³¨æ„Trueå’ŒFalseçš„å¤§å°å†™ï¼Œè€Œä¸”å¸ƒå°”å€¼å¯ä»¥ç”¨andã€orå’Œnotè¿ç®— æµ‹è¯•ä»£ç ï¼š 123456789101112131415161718print(3 &gt; 2) #Trueprint(3 &lt; 2) #Falseif 3 &gt; 2 and 4 &lt; 5: print("3 &gt; 2")else: print("3 &lt; 2") #3 &gt; 2if 3 &gt; 2 or 4 &gt; 5: print("3 &gt; 2")else: print("3 &lt; 2") #3 &gt; 2if not 4 &lt; 5: print("3 &gt; 2")else: print((not 4 &lt; 5)) #False print("3 &lt; 2") #3 &lt; 2 ç©ºå€¼ ç©ºå€¼æ˜¯ç”¨Noneè¡¨ç¤ºçš„ï¼ˆæ³¨æ„å¤§å°å†™ï¼‰ï¼Œä½†æ˜¯Noneä¸èƒ½ç†è§£ä¸º0ã€‚ å˜é‡ Pythonä¸å…¶ä»–ä¸åŒçš„æ˜¯å®ƒçš„å˜é‡çš„ç±»å‹æ˜¯é€šè¿‡è¢«èµ‹äºˆçš„å€¼å¾—ç±»å‹å†³å®šçš„ï¼Œå³ï¼š åè€…å†³å®šå‰è€…çš„ç±»å‹ã€‚ Pythonçš„å˜é‡åªæ˜¯ä¸€ä¸ªåå­—è€Œå·²ï¼Œæ•°å€¼å†…å®¹åŠå…¶ç±»å‹æ‰æ˜¯é‡ç‚¹ï¼Œå†³å®šäº†å˜é‡åçš„å®é™…æ„ä¹‰ã€‚ å˜é‡æœ¬èº«ç±»å‹ä¸å›ºå®šçš„è¯­è¨€ç§°ä¹‹ä¸ºåŠ¨æ€è¯­è¨€ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯é™æ€è¯­è¨€ã€‚ é™æ€è¯­è¨€åœ¨å®šä¹‰å˜é‡æ—¶å¿…é¡»æŒ‡å®šå˜é‡ç±»å‹ï¼Œå¦‚æœèµ‹å€¼çš„æ—¶å€™ç±»å‹ä¸åŒ¹é…ï¼Œå°±ä¼šæŠ¥é”™,ä¾‹å¦‚Javaæ˜¯é™æ€è¯­è¨€. 12345678a = 123print(a) #123a = "aæ˜¯ä¸ªå˜é‡å"print(a) #aæ˜¯ä¸ªå˜é‡åa = Trueprint(a) #Trueb = aprint(b) #True å¸¸é‡ åœ¨Pythonä¸­ï¼Œé€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡ï¼Œå…¨éƒ¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡åªæ˜¯ä¸€ä¸ªä¹ æƒ¯ä¸Šçš„ç”¨æ³•ã€‚ æ ¼å¼åŒ–è¾“å‡º æ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸² â€“ åŒCè¯­è¨€ï¼Œæ ¼å¼åŒ–ä¸å®é™…æ•°æ®ä¹‹é—´é€šè¿‡%è¿æ¥ ä½¿ç”¨%ï¼Œ%è¿ç®—ç¬¦å°±æ˜¯ç”¨æ¥æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„ï¼Œå…¶ä¸­ %s è¡¨ç¤ºæ›¿æ¢å­—ç¬¦ä¸²ï¼Œ%d è¡¨ç¤ºæ›¿æ¢æ•´æ•°ï¼Œ%f è¡¨ç¤ºæ›¿æ¢æµ®ç‚¹å‹%x è¡¨ç¤º16è¿›åˆ¶ ä»£ç ç¤ºä¾‹ 12345678910name = input('è¯·è¾“å…¥ä½ çš„åå­—ï¼š') #è¯·è¾“å…¥ä½ çš„åå­—ï¼šyannisprint('Hello, %s ,ä½ å¥½å•Š~' % name) #Hello, yannis ,ä½ å¥½å•Š~age = input("è¯·è¾“å…¥ä½ çš„å¹´é¾„ï¼š ")print("ä½ çš„å¹´é¾„ä¸º %dï¼Œç¡®è®¤ï¼š%d" % (12,12)) #ä½ çš„å¹´é¾„ä¸º 12ï¼Œç¡®è®¤ï¼š12#åœ¨ä¸ç¡®å®šä½¿ç”¨ä½•ç§ç±»å‹çš„æ•°æ®æ—¶ï¼Œç”¨%så³å¯print('age is : %s; Gener: %s' % (32,False)) #age is : 32; Gener: False#å­—ç¬¦ä¸²é‡Œé¢çš„%æ˜¯ä¸€ä¸ªæ™®é€šå­—ç¬¦æ—¶,éœ€è¦è½¬ä¹‰ï¼Œç”¨%%æ¥è¡¨ç¤ºä¸€ä¸ª%print('å¢é•¿ç‡ä¸ºï¼š%d%%' % 7) #å¢é•¿ç‡ä¸ºï¼š7% ä¸€ä¸ªè®¡ç®—æˆç»©æ¯”ç‡çš„å°ä»£ç  12345678910111213141516grade1 = input("è¯·è¾“å…¥å»å¹´çš„æˆç»©ï¼š")grade2 = input("è¯·è¾“å…¥ä»Šå¹´çš„æˆç»©ï¼š"#æ­¤å¤„å°†strç±»å‹çš„grade1è½¬æ¢ä¸ºintçš„10è¿›åˆ¶ç±»å‹ï¼Œå‚æ•°ï¼šgrade1è¡¨ç¤ºå¾…è½¬æ¢çš„æ•°æ®ï¼Œå‚æ•°ï¼š10ï¼Œè¡¨ç¤ºè¿›åˆ¶num = int(grade1,10) - int(grade2,10)#æ­¤å¤„å°†intç±»å‹çš„numè½¬æ¢ä¸ºstrç±»å‹print('num is : ' + str(num))print('abs is : %d' % abs(num))#å°†ç»“æœè½¬æ¢ä¸ºfloatç±»å‹mPercent = float(((abs(num))/int(grade1,10))*100)print('mPercent is : ' + str(mPercent))#æ ¼å¼åŒ–è¾“å‡ºç»“æœprint('æˆç»©å˜åŒ–ç‡ä¸ºï¼š%.2f%%' % mPercent)]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰View-1 ä¸‰å‰‘å®¢ï¼šCanvas + Paint + Path åˆæ­¥æ¦‚è§ˆ]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89View-1%20%E4%B8%89%E5%89%91%E5%AE%A2%EF%BC%9ACanvas%20%2B%20Paint%20%2B%20Path%20%E5%88%9D%E6%AD%A5%E6%A6%82%E8%A7%88%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://www.jianshu.com/p/d2c7a837265eå…³äºPaintèµ„æ–™éå¸¸ä¸°å¯Œï¼šhttp://www.jianshu.com/p/420da0f6e279éå¸¸ç³»ç»Ÿçš„çŸ¥è¯†ï¼šhttp://hencoder.com/ui-1-1/ å‰è¨€ è‡ªå·±ä¸€ç›´åœ¨å­¦ä¹ è®¸å¤šæŠ€æœ¯å¤§ç‰›çš„æŠ€æœ¯åšå®¢ï¼Œçœ‹ä»–ä»¬æ˜¯å¦‚ä½•å­¦ä¹ Androidæºç ï¼Œçœ‹ä»–ä»¬æ˜¯å¦‚ä½•åˆ†æå½“ä¸‹æµè¡Œã€ç«çƒ­çš„æŠ€æœ¯ä»¥åŠæ¡†æ¶çš„ä½¿ç”¨ï¼Œå¯ä»¥è¯´æ˜¯ä»–ä»¬çš„æ— ç§å¥‰çŒ®ã€å…±äº«ç²¾ç¥ä¸€ç›´åœ¨æ”¯æŒç€åƒæˆ‘è¿™æ ·æ¸´æœ›å­¦åˆ°æ›´å¤šï¼Œæ¸´æœ›æŠ€æœ¯å‡çº§çš„åˆå­¦è€…ã€‚æ­£æ‰€è°“â€œç©·åˆ™ç‹¬å–„å…¶èº«ï¼Œè¾¾åˆ™å…¼æµå¤©ä¸‹â€ã€‚ä¸€ç›´æƒ³ç€ï¼Œå¦‚æœè‡ªå·±æœ‰ä¸€å¤©èƒ½å¤Ÿè¾¾åˆ°è®©è‡ªå·±æ»¡æ„çš„é«˜åº¦ï¼Œä¹Ÿä¼šå°†è¿™æ ·çš„æ–¹å¼ç»§ç»­ä¼ é€’ï¼ŒæŠ€æœ¯å› ä¸ºé€šè¿‡å…±äº«ã€ä¼ é€’æ‰èƒ½å¾—ä»¥å®ç°å…¶å¯¹ç¤¾ä¼šçš„ä»·å€¼ã€‚ ä¹‹å‰è‡ªå·±ä¹Ÿå­¦ä¹ è¿‡è‡ªå®šä¹‰Viewï¼Œä¹Ÿå†™è¿‡ç¤ºä¾‹ï¼Œåœ¨é¡¹ç›®ä¸­ä¹Ÿåº”ç”¨è¿‡ï¼Œå¯éƒ½æ˜¯å†™è¾ƒä¸ºç®€å•çš„ã€‚è€Œè‡ªå·±å†™çš„éšæ‰‹ç¬”è®°å› ä¸ºæ¡ç†æ€§ã€æŠ€æœ¯ç‚¹å¤ªä½ï¼ˆæ‰€ä»¥ä¸æ•¢ç§°ä¸ºæŠ€æœ¯åšå®¢ï¼‰ï¼Œæ€»æ˜¯ä½¿è‡ªå·±ä¸æ»¡æ„ï¼Œä¹Ÿæ²¡æœ‰å¾ˆå¥½çš„ä¼ æ‰¿ä¸‹æ¥ã€‚æœ€è¿‘æ¢äº†å·¥ä½œè€Œä¸”æ‰‹å¤´ä¹Ÿæ¯”è¾ƒé—²ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ–°çš„å¼€å§‹ã€‚æ‰€ä»¥ç§‰ç€å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ã€åšå®¢è®°å½•æˆé•¿çš„ä¿¡æ¡ï¼Œå°†è‡ªå·±çš„æ‰€å­¦ã€æ‰€æ‚Ÿè®°å½•ä¸‹æ¥ã€‚ åŸºæœ¬è‡ªå®šä¹‰Viewçš„3ä¸ªå…³é”®ç‚¹ å¸ƒå±€ ç»˜åˆ¶ è§¦æ‘¸åé¦ˆ Androidåæ ‡ç³»å›¾ç‰‡æ¥è‡ªç½‘ç»œï¼Œå¿˜è®°å‡ºå¤„ï¼Œå¦‚æœ‰ä¾µæƒè¯·è”ç³»æˆ‘ã€‚ 4ä¸ªçº§åˆ« Canvas Canvas.drawXXX()æ˜¯è‡ªå®šä¹‰ç»˜åˆ¶çš„åŸºæœ¬æ“ä½œã€‚å¯ä»¥ç»˜åˆ¶å‡ ä½•å›¾å½¢ã€æ–‡å­—ã€å›¾ç‰‡ï¼Œåœ¨+Paintçš„å¸¸ç”¨æ–¹æ³•ã€‚ è£å‰ªèŒƒå›´ï¼ˆå¾ˆé…·çš„æ•ˆæœï¼‰ å‡ ä½•å˜æ¢ï¼ˆå¾ˆé…·çš„æ•ˆæœï¼‰ Paint ï¼šPaintçš„ä½¿ç”¨ Path ï¼šè½®å»“,è·¯å¾„ Canvasçš„ä½¿ç”¨ Canvasæ˜¯â€œç”»å¸ƒâ€çš„æ„æ€ï¼Œæ‹¥æœ‰â€œç»˜åˆ¶â€çš„åŠŸèƒ½ã€‚ 1. Canvasçš„ä½¿ç”¨éœ€è¦4ä¸ªåŸºæœ¬å…ƒç´ ï¼š ä¸€ä¸ªBitmapç”¨äºä¿å­˜åƒç´  ä¸€ä¸ªCanvasæ¥æ‰¿è½½ç»˜å›¾è°ƒç”¨ï¼ˆå†™å…¥åˆ°ä½å›¾ï¼‰ ä¸€ä¸ªç»˜å›¾çš„åŸºæœ¬å…ƒç´ ï¼ˆä¾‹å¦‚Rectï¼ŒPathï¼Œæ–‡æœ¬ï¼Œä½å›¾ï¼‰ ä¸€æ”¯Paintï¼ˆæè¿°é¢œè‰²å’Œæ ·å¼ï¼‰ 2. Canvasæœ‰ä¸¤ä¸ªæ„é€ æ–¹æ³•ï¼š Canvas()ï¼šåˆ›å»ºä¸€ä¸ªç©ºçš„Canvaså¯¹è±¡ Canvas(Bitmap bitmap)ï¼šç”¨æŒ‡å®šçš„ä½å›¾æ„é€ ä¸€ä¸ªCanvaså¯¹è±¡ 3. å¸¸ç”¨ç»˜åˆ¶æ–¹æ³•ï¼štranslate()ï¼šç”»å¸ƒç§»åŠ¨drawARGB()ï¼šç”¨æŒ‡å®šARGBé¢œè‰²å¡«å……ç”»å¸ƒä¸Šé¢çš„ä½å›¾drawRGB()ï¼šç”¨æŒ‡å®šRGBé¢œè‰²å¡«å……ç”»å¸ƒä¸Šé¢çš„ä½å›¾drawColor()ï¼šç”¨æŒ‡å®šé¢œè‰²å¡«å……ç”»å¸ƒä¸Šé¢çš„ä½å›¾drawArc()ï¼šç”»åœ†å¼§startAngleï¼šè¡¨ç¤ºå¼€å§‹çš„è§’åº¦sweepAngleï¼šè¡¨ç¤ºè§’åº¦èŒƒå›´useCenterï¼šè¡¨ç¤ºæ˜¯å¦è¿æ¥åˆ°åœ†å¿ƒï¼Œå¦‚æœä¸è¿æ¥åˆ°åœ†å¿ƒï¼Œå°±æ˜¯å¼§å½¢ï¼Œå¦‚æœè¿æ¥åˆ°åœ†å¿ƒï¼Œå°±æ˜¯æ‰‡å½¢ã€‚ 1234567891011RectF rectF = new RectF(DensityUtil.dip2px(context, 100), DensityUtil.dip2px(context, 100), DensityUtil.dip2px(context, 220), DensityUtil.dip2px(context, 180));paint.setStyle(Paint.Style.STROKE);canvas.drawArc(rectF, 0, 80, false, paint);paint.setStyle(Paint.Style.STROKE);canvas.drawArc(rectF, -10, -80, true, paint);paint.setStyle(Paint.Style.FILL);canvas.drawArc(rectF, -100, -80, true, paint);paint.setStyle(Paint.Style.FILL);canvas.drawArc(rectF, -190, -80,false,paint); drawBitmap()ï¼šç”»ä½å›¾drawPicture()drawCircle() ï¼šç”»åœ†drawLine()ï¼šç”»ç›´çº¿drawLines()ï¼šæŠ˜çº¿drawOval()ï¼šç”»æ¤­åœ†drawRect()ï¼šç”»çŸ©å½¢drawRoundRect()ï¼šç”»åœ†è§’çŸ©å½¢drawPoint()ï¼šç”»ç‚¹drawPoints()ï¼šç”»ä¸€ç»„ç‚¹pts : è¿™ä¸ªæ•°ç»„æ˜¯ç‚¹çš„åæ ‡ï¼Œæ¯ä¸¤ä¸ªæˆä¸€å¯¹offset : è¡¨ç¤ºè·³è¿‡æ•°ç»„çš„å‰å‡ ä¸ªæ•°å†å¼€å§‹è®°åæ ‡count : è¡¨ç¤ºä¸€å…±è¦ç»˜åˆ¶å‡ ä¸ªç‚¹ 1234567891011121314151617181920//åœ†ç‚¹å’Œæ–¹ç‚¹çš„åˆ‡æ¢ä½¿ç”¨ paint.setStrokeCap(cap)ï¼š`ROUND` æ˜¯åœ†ç‚¹ï¼Œ`BUTT` æˆ– `SQUARE` æ˜¯æ–¹ç‚¹this.paint.setStrokeCap(Paint.Cap.ROUND);this.paint.setAntiAlias(true);this.paint.setStyle(Paint.Style.FILL);this.paint.setStrokeWidth(50);this.paint.setStrokeCap(Paint.Cap.ROUND);canvas.drawPoint(canvas.getWidth() / 2 - 200, canvas.getHeight() / 2, paint);paint.setStrokeCap(Paint.Cap.SQUARE);canvas.drawPoint(canvas.getWidth() / 2 + 200, canvas.getHeight() / 2, paint);paint.setStrokeCap(Paint.Cap.ROUND);this.paint.setStrokeWidth(10);float[] points = &#123;20,20, 50,50, 80,80,100,100,130,130,170,170,210,210,240,240,&#125;;canvas.translate(100,100);canvas.drawPoints(points,paint);canvas.translate(0,300);canvas.drawPoints(points,3,10,paint); drawPath()ï¼šç”»è·¯å¾„ç»„åˆã€‚è¿™ä¸ªæ–¹æ³•æ˜¯é€šè¿‡æè¿°è·¯å¾„çš„æ–¹å¼æ¥ç»˜åˆ¶å›¾å½¢çš„ï¼Œå®ƒçš„ path å‚æ•°å°±æ˜¯ç”¨æ¥æè¿°å›¾å½¢è·¯å¾„çš„å¯¹è±¡ 12345path.arcTo(canvas.getWidth() / 2 - 200, 380, canvas.getWidth() / 2, 580, 135, 225, false);path.arcTo(canvas.getWidth() / 2, 380, canvas.getWidth() / 2 + 200, 580, 180, 225, false);path.lineTo(canvas.getWidth() / 2, 720);path.close();canvas.drawPath(path, paint); è§’åº¦å’Œåˆ’è¿‡åº¦æ•° 1234567RectF rectF1 = new RectF(200,100,300,200);paint.setStyle(Paint.Style.STROKE);canvas.drawArc(rectF1, 135, 225, true, paint);paint.setStyle(Paint.Style.STROKE);canvas.translate(100,0);canvas.drawArc(rectF1, 180, 225, true, paint); drawText()ï¼šç”»æ–‡æœ¬drawTextOnPath()ï¼šæ ¹æ®è·¯å¾„ç”»æ–‡æœ¬drawPosText()ï¼šæŒ‡å®šå•ä¸ªæ–‡å­—ä½ç½®arcTo(): å°†æŒ‡å®šçš„å¼§æ·»åŠ åˆ°è·¯å¾„ä½œä¸ºæ–°çš„è½®å»“ã€‚ Paintçš„ä½¿ç”¨ç”»ç¬” 1. Paintæœ‰3ä¸ªæ„é€ æ–¹æ³•ï¼š1.Paint():ç”¨é»˜è®¤è®¾ç½®åˆ›å»ºä¸€ä¸ªPaintå¯¹è±¡2.Paint(int flags):ç”¨ç‰¹æ®Šæ ‡è®°åˆ›å»ºä¸€ä¸ªPaintå¯¹è±¡3.Paint(Paint paint):ç”¨æŒ‡å®šPaintå¯¹è±¡çš„å‚æ•°åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„Paintå¯¹è±¡ ##2. å¸¸ç”¨æ–¹æ³• reset() æ¸…ç©ºpathçš„æ‰€æœ‰æ•°æ®ï¼Œä½†æ˜¯ä¸ä¼šæ¸…ç©ºFillType rewind() æ¸…é™¤FillTypeåŠæ•°æ®ç­‰ï¼Œä½†ä¼šä¿ç•™æ•°æ®ç»“æ„ã€‚è¿™æ ·å¯ä»¥å¿«é€Ÿé‡ç”¨ï¼Œæé«˜ä¸€å®šçš„æ€§èƒ½ setARGB(int a, int r, int g, int b) ç”»ç¬”é¢œè‰² setColor(int color) ç”»ç¬”é¢œè‰² setAntiAlias(boolean aa) æ˜¯å¦æŠ—é”¯é½¿ setAlpha(int a) è®¾ç½®ç”»ç¬”é€æ˜åº¦ setStrokeWidth(float width) ç”»ç¬”çš„ç²—ç»†(çº¿æ¡çš„å®½åº¦) setXfermode(Xfermode xfermode) è®¾ç½®å›¾åƒé‡å æ—¶çš„å¤„ç†æ–¹å¼ - 16ç§ setFillType() 2ä¸ªå›¾å½¢é‡åˆçš„æ¨¡å¼.ç±»ä¼¼å‰é¢è®²è§£çš„xfermode,åªæœ‰4ä¸ªå€¼ï¼šWINDING//é»˜è®¤å€¼ï¼Œå–ä¸¤ä¸ªå›¾å½¢ç›¸äº¤ï¼›EVEN_ODD//å–ä¸ç›¸äº¤çš„éƒ¨åˆ†ï¼›INVERSE_WINDING//åè½¬ç›¸äº¤ï¼›INVERSE_EVEN_ODD//åè½¬ä¸ç›¸äº¤éƒ¨åˆ† setShader(Shader shader) è®¾ç½®ç€è‰²å™¨ setPathEffect(PathEffect effect) è®¾ç½®æˆ–è€…æ¸…é™¤è·¯å¾„æ•ˆæœ - 6ç§ setShader(Shader shader) è®¾ç½®å›¾åƒæ•ˆæœï¼Œå¯ä»¥ç»˜åˆ¶å‡ºå„ç§æ¸å˜æ•ˆæœ setShadowLayer(float radius ,float dx,float dy,int color) åœ¨å›¾å½¢ä¸‹é¢è®¾ç½®é˜´å½±å±‚ï¼Œäº§ç”Ÿé˜´å½±æ•ˆæœï¼Œradiusä¸ºé˜´å½±çš„è§’åº¦ï¼Œdxå’Œdyä¸ºé˜´å½±åœ¨xè½´å’Œyè½´ä¸Šçš„è·ç¦»ï¼Œcolorä¸ºé˜´å½±çš„é¢œè‰² setStrokeCap(Paint.Cap cap) è®¾ç½®çº¿å†’æ ·å¼(çº¿å¤´çš„è£…é¥°ç”»æ³•)ï¼Œå–å€¼æœ‰: Cap.ROUND(åœ†å½¢çº¿å†’)ã€Cap.SQUARE(æ–¹å½¢çº¿å†’)ã€Paint.Cap.BUTT(æ— çº¿å†’) setStrokeJoin(Paint.Join join) è®¾ç½®çº¿æ®µè¿æ¥å¤„æ ·å¼(æŠ˜çº¿çš„æ‹è§’è£…é¥°ç”»æ³•)ï¼Œå–å€¼æœ‰ï¼šJoin.MITERï¼ˆç»“åˆå¤„ä¸ºé”è§’ï¼‰ã€Join.Round(ç»“åˆå¤„ä¸ºåœ†å¼§)ã€Join.BEVEL(ç»“åˆå¤„ä¸ºç›´çº¿) setStyle(Paint.Style style) è®¾ç½®ç”»ç¬”æ ·å¼â€ï¼Œç”»ç¬”æ ·å¼æœ‰ä¸‰ç§: (1)Paint.Style.FILLï¼šé»˜è®¤å€¼ï¼Œç”¨è¿™ç§é£æ ¼ç»˜åˆ¶çš„å‡ ä½•å›¾ä¸æ–‡æœ¬å°†è¢«å¡«å……ï¼Œå®ƒç”»å‡ºæ¥çš„æ˜¯å®å¿ƒå›¾ (2)Paint.Style.STROKEï¼šç”¨è¿™ç§é£æ ¼ç»˜åˆ¶çš„å‡ ä½•å›¾ä¸æ–‡æœ¬å°†è¢«ç”»å‡ºå¤–è¾¹æ¡†ï¼Œå®ƒç”»å‡ºæ¥çš„æ˜¯ç©ºå¿ƒå›¾ (3)Paint.Style.FILL_AND_STROKEï¼šç”¨è¿™ç§é£æ ¼ç»˜åˆ¶çš„å‡ ä½•å›¾ä¸æ–‡æœ¬å°†è¢«å¡«å……å¹¶è¢«ç”»å‡ºå¤–è¾¹æ¡† 3.è®¾ç½®â€œæ–‡å­—/å­—ä½“â€œå¤–è§‚setTextSize(float textSize) è®¾ç½®æ–‡å­—å¤§å°â€ setFakeBoldText(boolean fakeBoldText) è®¾ç½®æ˜¯å¦ä¸ºç²—ä½“æ–‡å­— setStrikeThruText(boolean strikeThruText) è®¾ç½®å¸¦æœ‰åˆ é™¤çº¿æ•ˆæœ setUnderlineText(boolean underlineText) è®¾ç½®ä¸‹åˆ’çº¿ setTextAlign(Paint.Align align) è®¾ç½®å¼€å§‹ç»˜å›¾ç‚¹ä½ç½®,æ–‡æœ¬å¯¹é½æ–¹å¼ setTextScaleX(float scaleX) æ°´å¹³æ‹‰ä¼¸è®¾ç½® setTextSkewX(float skewX) è®¾ç½®å­—ä½“æ°´å¹³å€¾æ–œåº¦ï¼Œæ™®é€šæ–œä½“å­—æ˜¯-0.25ï¼Œå¯è§å¾€å³æ–œ setTypeface() è®¾ç½®å­—ä½“æ ·å¼:Typeface.NORMAL - æ­£å¸¸ä½“;Typeface.BOLD - ç²—ä½“;Typeface.ITALIC - æ–œä½“;Typeface.BOLD_ITALIC - ç²—æ–œä½“ 4.å­—ä½“æ ·å¼(Typeface)create(String familyName, int style) ç›´æ¥é€šè¿‡æŒ‡å®šå­—ä½“åæ¥åŠ è½½ç³»ç»Ÿä¸­è‡ªå¸¦çš„æ–‡å­—æ ·å¼ create(Typeface family, int style) é€šè¿‡å…¶å®ƒTypefaceå˜é‡æ¥æ„å»ºæ–‡å­—æ ·å¼ createFromAsset(AssetManager mgr, String path) é€šè¿‡ä»Assetä¸­è·å–å¤–éƒ¨å­—ä½“æ¥æ˜¾ç¤ºå­—ä½“æ ·å¼ createFromFile(String path) ç›´æ¥ä»è·¯å¾„åˆ›å»º createFromFile(File path) ä»å¤–éƒ¨è·¯å¾„æ¥åˆ›å»ºå­—ä½“æ ·å¼ defaultFromStyle(int style) åˆ›å»ºé»˜è®¤å­—ä½“ 5. å­—ä½“è®¾ç½® åœ¨assetsç›®å½•ä¸‹æ–°å»ºfontsç›®å½•ï¼ŒæŠŠttfå­—ä½“æ–‡ä»¶æ”¾åˆ°è¿™ã€‚ ç¨‹åºä¸­è°ƒç”¨ï¼š 123456//å¾—åˆ°AssetManagerAssetManager mgr=getAssets();//æ ¹æ®è·¯å¾„å¾—åˆ°Typefaceï¼Œæ³¨æ„"ttfæ–‡ä»¶å‘½åä¸èƒ½ä½¿ç”¨ä¸­æ–‡,å¦åˆ™å¯èƒ½æ— æ³•åŠ è½½ã€‚Typeface tf=Typeface.createFromAsset(mgr, "fonts/ttf.ttf");//è®¾ç½®å­—ä½“æ ·å¼tv.setTypeface(tf); 6.æ–‡å­—æ‰€å çš„åŒºåŸŸï¼ˆèŒƒå›´ï¼‰çš„è®¾å®š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/** * æ³¨æ„:åœ¨ä½¿ç”¨FontMetricsæ—¶å¿…é¡»ä¸ºåŒä¸€ä¸ªPaintå¯¹è±¡,å¦åˆ™,æ— æ³•è·å–æ–‡å­—æ­£ç¡®çš„ä½ç½®å…³ç³» */Paint paint12 = new Paint();paint12.setAntiAlias(true);paint12.setStrokeWidth(1);paint12.setStyle(Paint.Style.STROKE);paint12.setColor(Color.BLACK);paint12.setTextSize(100);Paint.FontMetrics fontMetrics = paint12.getFontMetrics();//å¯ç»˜åˆ¶çš„æœ€é«˜é«˜åº¦æ‰€åœ¨çº¿float top;//å¯ç»˜åˆ¶çš„æœ€ä½é«˜åº¦æ‰€åœ¨çº¿float bottom;//ç³»ç»Ÿå»ºè®®çš„ï¼Œç»˜åˆ¶å•ä¸ªå­—ç¬¦æ—¶ï¼Œå­—ç¬¦åº”å½“çš„æœ€é«˜é«˜åº¦æ‰€åœ¨çº¿float ascent;//ç³»ç»Ÿå»ºè®®çš„ï¼Œç»˜åˆ¶å•ä¸ªå­—ç¬¦æ—¶ï¼Œå­—ç¬¦åº”å½“çš„æœ€ä½é«˜åº¦æ‰€åœ¨çº¿float descent;/** * å»ºè®®åœ¨æ–‡æœ¬è¡Œä¹‹é—´æ·»åŠ çš„é¢å¤–ç©ºæ ¼ã€‚ *///fontMetrics.leadingtop = 100 + fontMetrics.top;bottom = 100 + fontMetrics.bottom;ascent = 100 + fontMetrics.ascent;descent = 100 + fontMetrics.descent;//ç»˜åˆ¶æ–‡å­—canvas.drawText(strs,100,100,paint12);//------------------------ä»¤äººæƒŠå–œçš„åˆ†å‰²çº¿---------------------canvas.translate(0,200);canvas.drawLine(100,100,1080,100,paintStyle(Color.RED,Paint.Style.STROKE));canvas.drawLine(100,top,1080,top,paint12);//å¯ç»˜åˆ¶çš„æœ€é«˜é«˜åº¦æ‰€åœ¨çº¿canvas.drawLine(100,bottom,1080,bottom,paint12);//å¯ç»˜åˆ¶çš„æœ€ä½é«˜åº¦æ‰€åœ¨çº¿canvas.drawLine(100,ascent,1080,ascent,paint12);//ç³»ç»Ÿå»ºè®®çš„ï¼Œç»˜åˆ¶å•ä¸ªå­—ç¬¦æ—¶ï¼Œå­—ç¬¦åº”å½“çš„æœ€é«˜é«˜åº¦æ‰€åœ¨çº¿canvas.drawLine(100,descent,1080,descent,paint12);//ç³»ç»Ÿå»ºè®®çš„ï¼Œç»˜åˆ¶å•ä¸ªå­—ç¬¦æ—¶ï¼Œå­—ç¬¦åº”å½“çš„æœ€ä½é«˜åº¦æ‰€åœ¨çº¿canvas.drawLine(100,0,100,100,paintStyle(Color.RED,Paint.Style.STROKE));float width = paint12.measureText(strs);//è·å–æ–‡å­—æ‰€å å®½åº¦float height = bottom - top;//è·å–æ–‡å­—æ‰€å é«˜åº¦Log.e(TAG, "onDraw width: " + width + ", height : " + height);//ç»˜åˆ¶æ–‡å­—æ‰€å åŒºåŸŸçš„è¾¹æ¡†Path rectPath = new Path();RectF rectF2 = new RectF(100,top,width+100,bottom);//ç»˜åˆ¶æ–‡å­—paint12.setColor(Color.GREEN);canvas.drawRect(rectF2,paint12); Path1. å¸¸ç”¨æ–¹æ³•moveTo() ï¼šè®¾å®šèµ·å§‹ç‚¹lineTo() ï¼šç”»æ¡ç›´çº¿(è¿ç»­ä½¿ç”¨æ­¤æ–¹æ³•,å°†ä¼šç”»å‡ºè¿ç»­çš„çº¿)close() ï¼šå°é—­å›¾å½¢addRect() ï¼šçŸ©å½¢è·¯å¾„ï¼ˆä½¿ç”¨æ­¤æ–¹æ³•æ—¶é¦–å…ˆç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢,åç»­addXXX()ä½¿ç”¨ç±»ä¼¼ï¼‰addRoundRect() ï¼šç»˜åˆ¶åœ†è§’çŸ©å½¢è·¯å¾„addCircle() ï¼šç»˜åˆ¶åŸå‹è·¯å¾„addCircle() ï¼šç»˜åˆ¶æ¤­åœ†è·¯å¾„addArc() ï¼šç»˜åˆ¶ä¸€æ®µå¼§å½¢è·¯å¾„quadTo() ï¼šç»˜åˆ¶â€è´å¡å°”æ›²çº¿â€ æœ‰4ä¸ªæ–¹æ³•å‚æ•°è¯´æ˜ Path.Directionæœ‰ä¸¤ä¸ªå€¼ï¼š Path.Direction.CCWï¼šæ˜¯counter-clockwiseç¼©å†™ï¼ŒæŒ‡åˆ›å»ºâ€é€†æ—¶é’ˆâ€æ–¹å‘çš„çŸ©å½¢è·¯å¾„ï¼› Path.Direction.CWï¼šæ˜¯clockwiseçš„ç¼©å†™ï¼ŒæŒ‡åˆ›å»ºâ€é¡ºæ—¶é’ˆâ€æ–¹å‘çš„çŸ©å½¢è·¯å¾„ï¼› 2. PathMeasureç±»çš„ä½¿ç”¨ å‚è€ƒ:http://blog.csdn.net/cquwentao/article/details/51436852 (1) 123//pathï¼šéœ€è¦æµ‹é‡çš„path//forceClosedï¼šæ˜¯å¦å…³é—­pathpublic PathMeasure(Path path, boolean forceClosed) (2) 12//è¿™é‡Œå°±æ˜¯æŒ‡å®šéœ€è¦æµ‹é‡çš„pathï¼ŒåŒä¸Šã€‚public void setPath(Path path, boolean forceClosed) (3) 123//è¿”å›å½“å‰pathçš„"æ€»"é•¿åº¦ã€‚PathMeasure pathMeasure = new PathMeasure(path, false);float length = pathMeasure.getLength(); (4) 123456public boolean getPosTan(float distance, float pos[], float tan[])//è¿”å›å€¼æ˜¯booleanï¼Œå¦‚è¿‡pathä¸ºç©ºï¼Œåˆ™è¿”å›falseä¼ å…¥å‚æ•°æœ‰ä¸‰ä¸ªï¼š distanceï¼šä¼ å…¥è·ç¦»èµ·ç‚¹çš„è·ç¦»ã€‚ pos[]:æ„æ€æ˜¯positionï¼Œåˆ†åˆ«å¯¹åº”ç‚¹çš„xï¼Œyåæ ‡ tan[]ï¼šè¿™ä¸ªå€¼æ¯”è¾ƒéš¾ä»¥ç†è§£ã€‚æˆ‘ä»¬ä¸‹é¢è®²è§£ä¸‹è¿™ä¸ªå€¼çš„æ„ä¹‰ã€‚ Path æœ‰ä¸¤ç±»æ–¹æ³•ï¼Œä¸€ç±»æ˜¯ç›´æ¥æè¿°è·¯å¾„çš„ï¼Œå¦ä¸€ç±»æ˜¯è¾…åŠ©çš„è®¾ç½®æˆ–è®¡ç®—ã€‚ç›´æ¥æè¿°è·¯å¾„ã€‚1. æ·»åŠ å­å›¾å½¢ ï¼šaddXxx()æ·»åŠ çš„å®Œæ•´å°é—­å›¾å½¢ï¼ˆé™¤äº† addPath() ï¼‰ 2. ç”»çº¿ï¼ˆç›´çº¿æˆ–æ›²çº¿ï¼‰ï¼šxxxTo() lineTo(float x, float y) / rLineTo(float x, float y) ï¼šç”»ç›´çº¿ lineTo(x, y) çš„å‚æ•°æ˜¯ç»å¯¹åæ ‡ï¼Œè€Œ rLineTo(x, y) çš„å‚æ•°æ˜¯ç›¸å¯¹å½“å‰ä½ç½®çš„ç›¸å¯¹åæ ‡ ï¼ˆå‰ç¼€ r æŒ‡çš„å°±æ˜¯ relatively ã€Œç›¸å¯¹åœ°ã€)ã€‚ æ‰€è°“å½“å‰ä½ç½®ï¼Œå³æœ€åä¸€æ¬¡è°ƒç”¨ç”» Path çš„æ–¹æ³•çš„ç»ˆç‚¹ä½ç½®ã€‚åˆå§‹å€¼ä¸ºåŸç‚¹ (0, 0)ã€‚ quadTo(float x1, float y1, float x2, float y2) / rQuadTo(float dx1, float dy1, float dx2, float dy2) ï¼šç”»äºŒæ¬¡è´å¡å°”æ›²çº¿ cubicTo(float x1, float y1, float x2, float y2, float x3, float y3) / rCubicTo(float x1, float y1, float x2, float y2, float x3, float y3) ï¼šç”»ä¸‰æ¬¡è´å¡å°”æ›²çº¿ moveTo(float x, float y) / rMoveTo(float x, float y) ï¼šç§»åŠ¨åˆ°ç›®æ ‡ä½ç½® è®¾ç½®å›¾å½¢èµ·ç‚¹ã€‚ 1234paint.setStyle(Style.STROKE); path.lineTo(50, 50); // æ–œçº¿ path.moveTo(150, 50); // ç§»åŠ¨ path.lineTo(150, 0); // ç«–çº¿ ç”»å¼§å½¢ arcTo(RectF oval, float startAngle, float sweepAngle, boolean forceMoveTo) arcTo(float left, float top, float right, float bottom, float startAngle, float sweepAngle, boolean forceMoveTo) arcTo(RectF oval, float startAngle, float sweepAngle) orceMoveTo ï¼šç»˜åˆ¶æ˜¯è¦ æŠ¬ä¸€ä¸‹ç¬”ç§»åŠ¨è¿‡å»ï¼Œè¿˜æ˜¯ ç›´æ¥æ‹–ç€ç¬”è¿‡å»ï¼ŒåŒºåˆ«åœ¨äºæ˜¯å¦ç•™ä¸‹ç§»åŠ¨çš„ç—•è¿¹ã€‚ 1234path.moveTo(100,0);path.lineTo(100,100);path.arcTo(100,100,300,300,-90,90,true);canvas.drawPath(path,paint); 1234path.moveTo(100,0);path.lineTo(100,100);path.arcTo(100,100,300,300,-90,90,false);canvas.drawPath(path,paint); addArc(float left, float top, float right, float bottom, float startAngle, float sweepAngle) addArc(RectF oval, float startAngle, float sweepAngle) addArc() åªæ˜¯ä¸€ä¸ªç›´æ¥ä½¿ç”¨äº† forceMoveTo = true çš„ç®€åŒ–ç‰ˆ arcTo() ã€‚ close() ï¼šå°é—­å½“å‰å­å›¾å½¢ å½“éœ€è¦å¡«å……å›¾å½¢æ—¶ï¼ˆå³ Paint.Style ä¸º FILL æˆ– FILL_AND_STROKEï¼‰ï¼ŒPath ä¼šè‡ªåŠ¨å°é—­å­å›¾å½¢ã€‚ è¾…åŠ©çš„è®¾ç½®æˆ–è®¡ç®—Path.setFillType(Path.FillType ft) è®¾ç½®å¡«å……æ–¹å¼ã€‚ ä½¿ç”¨å‚è€ƒï¼šhttp://hencoder.com/ui-1-1/ 3. è·å–éšæœºPathæ–¹æ³•12345678910private Path getPath()&#123; Path path = new Path(); // å®šä¹‰è·¯å¾„çš„èµ·ç‚¹ path.moveTo(0, 0); // å®šä¹‰è·¯å¾„çš„å„ä¸ªç‚¹ for (int i = 0; i &lt;= 40; i++) &#123; path.lineTo(i*35, (float) (Math.random() * 150)); &#125; return path; &#125; Colorï¼šAndroidç³»ç»Ÿä¸­é¢œè‰²çš„å¸¸ç”¨è¡¨ç¤ºæ–¹æ³•æœ‰ä»¥ä¸‹3ç§ï¼š int color = Color.BLUE; int color = Color.argb(150,200,0,100); åœ¨xmlæ–‡ä»¶ä¸­å®šä¹‰é¢œè‰²ï¼› 2. å¸¸ç”¨é¢œè‰²ï¼š æ–¹æ³• æè¿° Color.BLACK é»‘è‰² Color.GREEN ç»¿è‰² Color.BLUE è“è‰² Color.LTGRAY æµ…ç°è‰² Color.CYAN é’ç»¿è‰² Color.MAGENTA çº¢ç´«è‰² Color.DKGRAY ç°é»‘è‰² Color.RED çº¢è‰² Color.YELLOW é»„è‰² Color.TRANSPARENT é€æ˜ Color.GRAY ç°è‰² Color.WHITE ç™½è‰² 3. ColorFilterç±»çš„ä½¿ç”¨â€ å‚è€ƒ:http://blog.csdn.net/cquwentao/article/details/51396466 ColorFilterä¸»è¦ç”¨æ¥å¤„ç†é¢œè‰²æœ‰3ä¸ªå­ç±»: ColorMatrixColorFilterï¼šé¢œè‰²çŸ©é˜µ LightingColorFilterï¼šäº®åº¦ PorterDuffColorFilterï¼šé¢œè‰²çš„æ··åˆæ¨¡å¼ 1. ColorMatrixColorFilterè¿™ä¸ªç±»ä¸»è¦æ˜¯ä½¿ç”¨matrixå¯¹é¢œè‰²åšè¿ç®—ï¼ŒçŸ©é˜µçš„å½¢æ€å¦‚ä¸‹ï¼š &quot;R&quot; &quot;G&quot; &quot;B&quot; &quot;A&quot; &quot;Redé€šé“&quot; a[0] a[1] a[2] a[3] a[4] &quot;Greené€šé“&quot; a[5] a[6] a[7] a[8] a[9] &quot;Blueé€šé“&quot; a[10] a[11] a[12] a[13] a[14] &quot;Alphaé€šé“&quot; a[15] a[16] a[17] a[18] a[19] RGBè‰²å½©å’ŒAlphaçš„ç»ˆå€¼è®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼š â€œRedé€šé“â€ ç»ˆå€¼ = a[0] srcR + a[1] srcG + a[2] srcB + a[3] srcA + a[4] â€œGreené€šé“â€ç»ˆå€¼ = a[5] srcR + a[6] srcG + a[7] srcB + a[8] srcA + a[9] â€œBlueé€šé“â€ ç»ˆå€¼ = a[10] srcR + a[11] srcG + a[12] srcB + a[13] srcA + a[14] â€œAlphaé€šé“â€ç»ˆå€¼ = a[15] srcR + a[16] srcG + a[17] srcB + a[18] srcA + a[19] â€œå¤‡æ³¨â€ srcRä¸ºåŸå›¾Redé€šé“å€¼ï¼ŒsrcGä¸ºåŸå›¾Greené€šé“å€¼ï¼ŒsrcBä¸ºåŸå›¾Blueé€šé“å€¼ï¼ŒsrcAä¸ºåŸå›¾Alphaé€šé“å€¼ã€‚æ¯ä¸ªé€šé“çš„æºå€¼å’Œç»ˆå€¼éƒ½åœ¨0åˆ°255çš„èŒƒå›´å†…ã€‚å³ä½¿è®¡ç®—ç»“æœå¤§äº255æˆ–å°äº0ï¼Œå€¼éƒ½å°†è¢«é™åˆ¶åœ¨0åˆ°255çš„èŒƒå›´å†…ã€‚ ä½¿ç”¨ç¤ºä¾‹1234567private final static float[] MATRIX = new float[] &#123; 0.5f, 0, 0, 0, 0, 0, 0.5f, 0, 0, 0, 0, 0, 0.5f, 0, 0, 0, 0, 0, 1, 0 &#125;; 2. LightingColorFilterLightingColorFilteræ˜¯ä¸Šé¢ColorMatrixColorFilterçš„ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬ï¼Œæ„é€ å‡½æ•°ä¹Ÿæ¯”è¾ƒç®€å•æ„é€ å‡½æ•° 123public LightingColorFilter(int mul, int add) //mulä»£è¡¨multiply,ä¹Ÿå°±æ˜¯ä¹˜æ³• //addä»£è¡¨åŠ æ³•ï¼Œä¹Ÿå°±æ˜¯é¢œè‰²åç§»é‡ ä½¿ç”¨ç¤ºä¾‹ 12345Bitmap bitmap = BitmapFactory.decodeResource(getContext().getResources(), R.drawable.home);canvas.drawBitmap(bitmap, 100, 0, paint);LightingColorFilter filter = new LightingColorFilter(0x888888, 0x000000);paint.setColorFilter(filter);canvas.drawBitmap(bitmap, 100, 500, paint); è®¡ç®—æ–¹æ³• color = color mulï¼ï¼’ï¼•ï¼•+ add (è®¡ç®—ç»“æœå¤§äºç­‰äº255éƒ½æŒ‡å®šä¸º255)å…¶ä¸­â€colorâ€å¯ä»¥ä¸ºRGBä¸‰ç§é€šé“ä¸­çš„â€ä¸€ç§â€ï¼Œmulå’Œaddåˆ†åˆ«ä¸ºé€šé“å¯¹åº”çš„å€¼ã€‚å‡è®¾Ré€šé“çš„å€¼å°±ä¸ºR=R0x88/0xff+0 0x88/0xffè‚¯å®šæ˜¯å°äº1çš„ï¼Œæ‰€ä»¥é¢œè‰²å˜æš—äº†ã€‚addçš„å€¼è¶Šâ€å¤§â€,ç”»é¢è¶Šâ€äº®â€. 3. PorterDuffColorFilteræ„é€ å‡½æ•° 123public PorterDuffColorFilter(int srcColor, PorterDuff.Mode mode) //srcColoræºé¢œè‰²ï¼Œ //modeæ˜¯è‰²å½©çš„æ··åˆæ¨¡å¼. é‡ç»˜æ–¹æ³•1234567891011121314151617/*** é‡ç»˜æ–¹æ³•* åœ¨æŸä¸ªæ—¶å€™è°ƒç”¨ onDrawï¼ˆandroid.graphics.Canvas)* è¿™å¿…é¡»ä»UIçº¿ç¨‹è°ƒç”¨ã€‚ è¦ä»éUIçº¿ç¨‹è°ƒç”¨åˆ™è°ƒç”¨ postInvalidate()*/public void invalidate() &#123; invalidate(true);&#125;/** *è¿™æ˜¯invalidateï¼ˆï¼‰å·¥ä½œå®é™…å‘ç”Ÿçš„åœ°æ–¹ã€‚ ä¸€ä¸ªå®Œæ•´çš„invalidateï¼ˆï¼‰ä¼šå¯¼è‡´ç»˜å›¾ç¼“å­˜æ— æ•ˆï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨invalidateCacheè®¾ç½®ä¸ºfalseæ¥è°ƒç”¨æ­¤å‡½æ•°ï¼Œä»¥ä¾¿åœ¨ä¸éœ€è¦è¯¥è¿‡ç¨‹çš„æƒ…å†µä¸‹è·³è¿‡è¯¥æ— æ•ˆæ­¥éª¤ã€‚ * * @param invalidateCacheæ­¤è§†å›¾çš„ç»˜å›¾ç¼“å­˜æ˜¯å¦ä¹Ÿåº”è¯¥è¢«æ— æ•ˆã€‚å¯¹äºå®Œå…¨æ— æ•ˆï¼Œè¿™é€šå¸¸æ˜¯æ­£ç¡®çš„ï¼Œä½†å¦‚æœè§†å›¾çš„å†…å®¹æˆ–ç»´åº¦æœªæ›´æ”¹ï¼Œåˆ™å¯èƒ½ä¼šè®¾ç½®ä¸ºfalseã€‚ */void invalidate(boolean invalidateCache) &#123; invalidateInternal(0, 0, mRight - mLeft, mBottom - mTop, invalidateCache, true);&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»£ç†æ¨¡å¼]]></title>
    <url>%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://blog.csdn.net/self_study/article/details/51628486 è¯´æ˜åˆ›å»ºä¸€ä¸ªæŠ½è±¡ç±»æ–¹æ³•ï¼Œé‡Œé¢å†™æœ‰ä»£ç†ä¸ä¸»é¢˜å…±åŒçš„æ–¹æ³•ã€‚ public abstract class MyObject { //ä»£ç†ä¸å®é™…ä¸»é¢˜çš„å…±åŒæ–¹æ³• public abstract void operate(); } çœŸå®ä¸»é¢˜ public class RealObject extends MyObject { @Override public void operate() { System.out.println(&quot;è¿™æ˜¯æ¥è‡ªRealObjectçš„æ–¹æ³•å¤„ç†&quot;); } } ä»£ç†ä¸»é¢˜ public class ProxyObject extends MyObject { private RealObject realObject; //åœ¨æ­¤ç±»ä¸­è°ƒç”¨çœŸå®çš„ä¸»é¢˜ï¼Œå› ä¸ºæ˜¯ä»£ç†ä¸»é¢˜â€œä»£ç†â€çœŸå®ä¸»é¢˜ä¸­çš„æ–¹æ³•ï¼Œéœ€è¦ç”¨åˆ°çœŸå®ä¸»é¢˜çš„å¼•ç”¨ public ProxyObject(RealObject realObject) { this.realObject = realObject; } @Override public void operate() { System.out.println(&quot;åœ¨å¤„ç†â€œRealObjectâ€ä¹‹å‰ï¼Œå¤„ç†ä»£ç†æ¨¡å¼ä¸­è‡ªå·±çš„æ–¹æ³•å¤„ç†&quot;); //åœ¨æ­¤å¤„è°ƒç”¨çœŸå®ä¸»é¢˜ä¸­çš„åŒåæ–¹æ³•ã€‚ realObject.operate(); System.out.println(&quot;åœ¨å¤„ç†â€œRealObjectâ€ä¹‹åï¼Œå¤„ç†ä»£ç†æ¨¡å¼ä¸­è‡ªå·±çš„æ–¹æ³•å¤„ç†&quot;); } } æµ‹è¯• public class Proxy_DesignPattern { public static void main(String[] args){ ProxyObject proxyObject = new ProxyObject(new RealObject()); proxyObject.operate(); } } /** * è¾“å‡ºç»“æœï¼š * åœ¨å¤„ç†â€œRealObjectâ€ä¹‹å‰ï¼Œå¤„ç†ä»£ç†æ¨¡å¼ä¸­è‡ªå·±çš„æ–¹æ³•å¤„ç† è¿™æ˜¯æ¥è‡ªRealObjectçš„æ–¹æ³•å¤„ç† åœ¨å¤„ç†â€œRealObjectâ€ä¹‹åï¼Œå¤„ç†ä»£ç†æ¨¡å¼ä¸­è‡ªå·±çš„æ–¹æ³•å¤„ç† */ ä»£ç†æ¨¡å¼çš„è§’è‰²ï¼šSubjectï¼šæŠ½è±¡ä¸»é¢˜ç±» è¯¥ç±»çš„ä¸»è¦èŒè´£æ˜¯å£°æ˜çœŸå®ä¸»é¢˜ä¸ä»£ç†çš„å…±åŒæ¥å£æ–¹æ³•ï¼Œè¯¥ç±»æ—¢å¯ä»¥æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ¥å£ï¼› RealSubjctï¼šçœŸå®ä¸»é¢˜ç±» è¯¥ç±»ä¹Ÿç§°ä¸ºè¢«å§”æ‰˜ç±»æˆ–è¢«ä»£ç†ç±»ï¼Œè¯¥ç±»å®šä¹‰äº†ä»£ç†æ‰€è¡¨ç¤ºçš„çœŸå®å¯¹è±¡ï¼Œç”±å…¶æ‰§è¡Œå…·ä½“çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•ï¼Œè€Œå®¢æˆ·ç«¯åˆ™é€šè¿‡ä»£ç†ç±»é—´æ¥åœ°è°ƒç”¨çœŸå®ä¸»é¢˜ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼› ProxySubjectï¼šä»£ç†ç±» è¯¥ç±»ä¹Ÿç§°ä¸ºå§”æ‰˜ç±»æˆ–ä»£ç†ç±»ï¼Œè¯¥ç±»æŒæœ‰ä¸€ä¸ªå¯¹çœŸå®ä¸»é¢˜ç±»çš„å¼•ç”¨ï¼Œåœ¨å…¶æ‰€å®ç°çš„æ¥å£æ–¹æ³•ä¸­è°ƒç”¨çœŸå®ä¸»é¢˜ç±»ä¸­å¯¹åº”çš„æ¥å£æ–¹æ³•ï¼Œä»¥æ­¤èµ·åˆ°ä»£ç†çš„ä½œç”¨ï¼› Clientï¼šå®¢æˆ·ç±» å³ä½¿ç”¨ä»£ç†ç±»çš„éƒ¨åˆ†ã€‚ ä»£ç†æ¨¡å¼æ ¹æ®å®é™…ä½¿ç”¨çš„åœºæ™¯ä¹Ÿå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼šè¿œç¨‹ä»£ç†ï¼ˆRemote Proxyï¼‰ ä¸ºæŸä¸ªåœ¨ä¸åŒçš„å†…å­˜åœ°å€ç©ºé—´çš„å¯¹è±¡æä¾›å±€éƒ¨ä»£ç†ï¼Œä½¿ç³»ç»Ÿå¯ä»¥å°† Server éƒ¨åˆ†çš„å®ç°éšè—ï¼Œä»¥ä¾¿ Client å¯ä»¥ä¸å¿…è€ƒè™‘ Server çš„å­˜åœ¨ï¼Œç±»ä¼¼äº C/S æ¨¡å¼ï¼ˆä¸»è¦æ‹¦æˆªå¹¶æ§åˆ¶è¿œç¨‹æ–¹æ³•çš„è°ƒç”¨ï¼Œåšä»£ç†é˜²ç«å¢™ä¹‹ç±»çš„ï¼‰ï¼› è™šæ‹Ÿä»£ç†ï¼ˆVirtual Proxyï¼‰ ä½¿ç”¨ä¸€ä¸ªä»£ç†å¯¹è±¡æ ‡è¯†ä¸€ä¸ªååˆ†è€—èµ„æºçš„å¯¹è±¡ï¼Œå¹¶åœ¨çœŸæ­£éœ€è¦æ—¶æ‰åˆ›å»ºï¼Œå®ç°ä¸€ä¸ªå»¶è¿ŸåŠ è½½çš„æœºåˆ¶ï¼› ä¿æŠ¤ä»£ç†ï¼ˆProtection Proxyï¼‰ ä½¿ç”¨ä»£ç†æ§åˆ¶å¯¹åŸå§‹å¯¹è±¡çš„è®¿é—®ï¼Œè¯¥ç±»å‹çš„ä»£ç†é€šå¸¸è¢«ç”¨äºåŸå§‹å¯¹è±¡æœ‰ä¸åŒè®¿é—®æƒé™çš„æƒ…å†µï¼› æ™ºèƒ½å¼•ç”¨ï¼ˆSmart Proxyï¼‰ åœ¨è®¿é—®åŸå§‹å¯¹è±¡æ—¶æ‰§è¡Œä¸€äº›è‡ªå·±çš„é™„åŠ æ“ä½œå¹¶å¯¹æŒ‡å‘åŸå§‹å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼› å†™æ—¶æ‹·è´ï¼ˆå…‹éš†ï¼‰ä»£ç†ï¼ˆCopy-on-write Proxyï¼‰ å…¶å®æ˜¯è™šæ‹Ÿä»£ç†çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œæä¾›äº†æ‹·è´å¤§å¯¹è±¡çš„æ—¶å€™åªæœ‰åœ¨å¯¹è±¡çœŸæ­£å˜åŒ–åæ‰ä¼šè¿›è¡Œæ‹·è´ï¼ˆå…‹éš†ï¼‰çš„æ“ä½œï¼Œå³å»¶è¿Ÿæ‹·è´ã€‚]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è£…é¥°è€…æ¨¡å¼]]></title>
    <url>%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://www.cnblogs.com/java-my-life/archive/2012/04/20/2455726.html è®¾è®¡åŸåˆ™ï¼šå°è£…å˜åŒ–å¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿å¯¹æ‰©å±•å¼€å‘ï¼Œå¯¹ä¿®æ”¹å…³é—­ å®šä¹‰ï¼šè£…é¥°æ¨¡å¼åˆååŒ…è£…(Wrapper)æ¨¡å¼ã€‚è£…é¥°è€…æ¨¡å¼åŠ¨æ€åœ°å°†è´£ä»»æ·»åŠ åˆ°å¯¹è±¡ä¸Šï¼Œæ˜¯ç»§æ‰¿å…³ç³»çš„ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆã€‚ æè¿°ï¼š è£…é¥°ç€å¯ä»¥åœ¨æ‰€å§”æ‰˜è£…é¥°ç€çš„è¡Œä¸ºä¹‹å‰æˆ–è€…ä¹‹åæ·»åŠ è‡ªå·±çš„è¡Œä¸ºï¼Œå·²è¾¾åˆ°ç‰¹å®šçš„ç›®çš„ã€‚ é€šè¿‡ä½¿ç”¨ä¸åŒçš„å…·ä½“è£…é¥°ç±»ä»¥åŠè¿™äº›è£…é¥°ç±»çš„ç»„åˆï¼Œå¯ä»¥åˆ›é€ å‡ºå¾ˆå¤šä¸åŒè¡Œä¸ºçš„ç»„åˆã€‚ è£…é¥°ç€ä¸ç»„ä»¶ç»„åˆæ—¶ï¼Œå°±æ˜¯åœ¨åŠ å…¥æ–°çš„è¡Œä¸ºï¼Œæ–°çš„è¡Œä¸ºæ˜¯ç”±ç»„åˆå¯¹è±¡å¾—æ¥çš„ã€‚ å¦‚ä½•å°è£…çš„æ›´å¥½ï¼šè£…é¥°ç€æ¨¡å¼ï¼ˆDecoratorï¼‰ + å·¥å‚æ¨¡å¼ï¼ˆFactoryï¼‰ + ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilderï¼‰ è£…é¥°æ¨¡å¼ä¸­çš„è§’è‰²æœ‰ï¼š æŠ½è±¡æ„ä»¶(Component)è§’è‰²ï¼šç»™å‡ºä¸€ä¸ªæŠ½è±¡æ¥å£ï¼Œä»¥è§„èŒƒå‡†å¤‡æ¥æ”¶é™„åŠ è´£ä»»çš„å¯¹è±¡ã€‚ å…·ä½“æ„ä»¶(ConcreteComponent)è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ªå°†è¦æ¥æ”¶é™„åŠ è´£ä»»çš„ç±»ã€‚ æŠ½è±¡è£…é¥°(Decorator)è§’è‰²ï¼šæŒæœ‰ä¸€ä¸ªæ„ä»¶(Component)å¯¹è±¡çš„å®ä¾‹ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªä¸æŠ½è±¡æ„ä»¶æ¥å£ä¸€è‡´çš„æ¥å£ã€‚ å…·ä½“è£…é¥°(ConcreteDecorator)è§’è‰²ï¼šè´Ÿè´£ç»™æ„ä»¶å¯¹è±¡â€œè´´ä¸Šâ€é™„åŠ çš„è´£ä»»ã€‚ æŠ½è±¡è£…é¥°è§’è‰² ç»§æ‰¿ æŠ½è±¡æ„ä»¶è§’è‰²ï¼Œæ˜¯ä¸ºäº†æœ‰æ­£ç¡®çš„ç±»å‹ï¼Œè€Œä¸æ˜¯ç»§æ‰¿å®ƒçš„è¡Œä¸ºã€‚è¡Œä¸ºæ¥è‡ªè£…é¥°ç€å’ŒåŸºç¡€ç»„ä»¶ï¼Œæˆ–ä¸å…¶ä»–è£…é¥°ç€ä¹‹é—´çš„ç»„åˆå…³ç³»ã€‚ å®é™…åº”ç”¨ï¼šjavaçš„I/Oæµ è£…é¥°è€…æ¨¡å¼çš„ç¼ºç‚¹ ï¼š äº§ç”Ÿå¤§é‡çš„ç±»ã€‚ ç±»å‹é—®é¢˜ã€‚æŸä¸€ä¸ªå¯¹è±¡ä¾èµ–ç‰¹å®šç±»å‹çš„ç±»å‹ã€‚ é‡‡ç”¨è£…é¥°ç€å®ä¾‹åŒ–ç»„ä»¶æ—¶ï¼Œå°†ä¼šå¢åŠ ä»£ç å¤æ‚åº¦ï¼Œä¸ä½†éœ€è¦å®ä¾‹åŒ–ç»„ä»¶ï¼Œè¿˜æœ‰æŠŠç»„ä»¶åŒ…è£…è¿›è£…é¥°è€…ä¸­ã€‚ ç¤ºä¾‹ï¼šç»„ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152/** * é¥®æ–™æŠ½è±¡ç±» */public abstract class Drink &#123; String describtion = "Drink"; int price = 0; /** * æ‰“å° æè¿° */ public String getDescribtion()&#123; return describtion; &#125; /** * è¡Œä¸ºï¼šè¾“å‡ºä»·æ ¼ */ public abstract int printPrice();&#125;/** * å…·ä½“ç‰›å¥¶é¥®æ–™ç±» */public class MilkDrink extends Drink &#123; public MilkDrink()&#123; price = 11; describtion = "MilkDrink " + String.valueOf(price); &#125; @Override public int printPrice() &#123; return price; &#125;&#125;/** * å…·ä½“èŒ¶é¥®æ–™ç±» */public class TeaDrink extends Drink &#123; public TeaDrink()&#123; price = 12; describtion = "TeaDrink " + String.valueOf(price); &#125; @Override public int printPrice() &#123; return price; &#125;&#125; è£…é¥°è€… 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364/** * æŠ½è±¡ è£…é¥°è€… */public abstract class CondimentDecorator extends Drink&#123; int condimentPrice= 0; public abstract int printPrice();&#125;/** * æŠ½è±¡è£…é¥°è§’è‰² ç»§æ‰¿ æŠ½è±¡æ„ä»¶è§’è‰²ï¼Œæ˜¯ä¸ºäº†æœ‰æ­£ç¡®çš„ç±»å‹ï¼Œè€Œä¸æ˜¯ç»§æ‰¿å®ƒçš„è¡Œä¸º */public class HoneyDecorator extends CondimentDecorator &#123; Drink mDrink; public HoneyDecorator(Drink drink)&#123; this.mDrink = drink; condimentPrice = 10; &#125; @Override public String getDescribtion() &#123; return "HoneyDecorator " + String.valueOf(condimentPrice) + " " + mDrink.getDescribtion(); &#125; @Override public int printPrice() &#123; return condimentPrice + mDrink.printPrice(); &#125;&#125;public class MochaDecorator extends CondimentDecorator &#123; Drink mDrink; /** * ä½¿ç”¨æŠ½è±¡åŸºç±»ï¼Œè·µè¡Œ "å¼€é—­åŸåˆ™"ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ * @param drink åŸºç±» */ public MochaDecorator(Drink drink)&#123; this.mDrink = drink; condimentPrice = 5; &#125; /** * è¾“å‡ºå½“å‰ç»„åˆ */ public String getDescribtion()&#123; return "MochaDecorator " + String.valueOf(condimentPrice) + " " + mDrink.getDescribtion(); &#125; /** * ç»„åˆå¾—åˆ°æ–°çš„è¡Œä¸º * @return å½“å‰ç»„åˆä»·æ ¼ */ @Override public int printPrice() &#123; return condimentPrice + mDrink.printPrice(); &#125;&#125; æµ‹è¯•ç±» 1234567891011121314151617181920212223242526272829303132public class DecoratorMain &#123; public static void main(String[] args)&#123; //åªæœ‰ä¸€ä¸ªåº•æ–™çš„èŒ¶é¥®æ–™ Drink teaDrink = new TeaDrink(); System.out.println(teaDrink.getDescribtion()); System.out.println(teaDrink.printPrice()); /** * TeaDrink 12 * 12 */ //èŒ¶é¥®æ–™ + èœ‚èœœ //æŠ½è±¡è£…é¥°è§’è‰² ç»§æ‰¿ æŠ½è±¡æ„ä»¶è§’è‰²ï¼Œæ˜¯ä¸ºäº†æœ‰æ­£ç¡®çš„ç±»å‹ï¼Œè€Œä¸æ˜¯ç»§æ‰¿å®ƒçš„è¡Œä¸º Drink honeyDecorator = new HoneyDecorator(teaDrink); System.out.println(honeyDecorator.getDescribtion()); System.out.println(honeyDecorator.printPrice()); /** * HoneyDecorator 10 + TeaDrink 12 * 22 */ //èŒ¶é¥®æ–™ + èœ‚èœœ + æ‘©å¡ Drink mochaDecorator = new MochaDecorator(honeyDecorator); System.out.println(mochaDecorator.getDescribtion()); System.out.println(mochaDecorator.printPrice()); /** * MochaDecorator 5 + HoneyDecorator 10 + TeaDrink 12 * 27 */ &#125;&#125;]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸå‹æ¨¡å¼]]></title>
    <url>%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://blog.csdn.net/sbsujjbcy/article/details/49302717 å®šä¹‰ï¼šç”¨åŸå‹æ¨¡å¼çš„å®ä¾‹åˆ›å»ºå¯¹è±¡çš„å®ä¾‹ï¼ŒåŒè¿‡æ‹·è´è¿™äº›åŸå‹æ¨¡å¼çš„å®ä¾‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ ä¼˜ç‚¹åŠé€‚ç”¨åœºæ™¯ ä¸€ä¸ªå¯¹è±¡éœ€è¦æä¾›ç»™å…¶ä»–å¯¹è±¡è®¿é—®ï¼Œè€Œä¸”å„ä¸ªè°ƒç”¨è€…å¯èƒ½éƒ½éœ€è¦ä¿®æ”¹å…¶å€¼æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨åŸå‹æ¨¡å¼æ‹·è´å¤šä¸ªå¯¹è±¡ä¾›è°ƒç”¨è€…ä½¿ç”¨ï¼Œå³ä¿æŠ¤æ€§æ‹·è´ã€‚ ä½¿ç”¨åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡æ¯”ç›´æ¥newä¸€ä¸ªå¯¹è±¡åœ¨æ€§èƒ½ä¸Šè¦å¥½çš„å¤šï¼Œå› ä¸ºObjectç±»çš„cloneæ–¹æ³•æ˜¯ä¸€ä¸ªæœ¬åœ°æ–¹æ³•ï¼Œå®ƒç›´æ¥æ“ä½œå†…å­˜ä¸­çš„äºŒè¿›åˆ¶æµï¼Œç‰¹åˆ«æ˜¯å¤åˆ¶å¤§å¯¹è±¡æ—¶ï¼Œæ€§èƒ½çš„å·®åˆ«éå¸¸æ˜æ˜¾ã€‚ ä½¿ç”¨åŸå‹æ¨¡å¼çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ç®€åŒ–å¯¹è±¡çš„åˆ›å»ºï¼Œä½¿å¾—åˆ›å»ºå¯¹è±¡å°±åƒæˆ‘ä»¬åœ¨ç¼–è¾‘æ–‡æ¡£æ—¶çš„å¤åˆ¶ç²˜è´´ä¸€æ ·ç®€å•ã€‚ å› ä¸ºä»¥ä¸Šä¼˜ç‚¹ï¼Œæ‰€ä»¥åœ¨éœ€è¦é‡å¤åœ°åˆ›å»ºç›¸ä¼¼å¯¹è±¡æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨åŸå‹æ¨¡å¼ã€‚æ¯”å¦‚éœ€è¦åœ¨ä¸€ä¸ªå¾ªç¯ä½“å†…åˆ›å»ºå¯¹è±¡ï¼Œå‡å¦‚å¯¹è±¡åˆ›å»ºè¿‡ç¨‹æ¯”è¾ƒå¤æ‚æˆ–è€…å¾ªç¯æ¬¡æ•°å¾ˆå¤šçš„è¯ï¼Œä½¿ç”¨åŸå‹æ¨¡å¼ä¸ä½†å¯ä»¥ç®€åŒ–åˆ›å»ºè¿‡ç¨‹ï¼Œè€Œä¸”å¯ä»¥ä½¿ç³»ç»Ÿçš„æ•´ä½“æ€§èƒ½æé«˜å¾ˆå¤šã€‚ æ³¨æ„äº‹é¡¹ï¼š ä½¿ç”¨åŸå‹æ¨¡å¼å¤åˆ¶å¯¹è±¡ä¸ä¼šè°ƒç”¨ç±»çš„æ„é€ æ–¹æ³•ã€‚å› ä¸ºå¯¹è±¡çš„å¤åˆ¶æ˜¯é€šè¿‡è°ƒç”¨Objectç±»çš„cloneæ–¹æ³•æ¥å®Œæˆçš„ï¼Œå®ƒç›´æ¥åœ¨å†…å­˜ä¸­å¤åˆ¶æ•°æ®ï¼Œå› æ­¤ä¸ä¼šè°ƒç”¨åˆ°ç±»çš„æ„é€ æ–¹æ³•ã€‚ä¸ä½†æ„é€ æ–¹æ³•ä¸­çš„ä»£ç ä¸ä¼šæ‰§è¡Œï¼Œç”šè‡³è¿è®¿é—®æƒé™éƒ½å¯¹åŸå‹æ¨¡å¼æ— æ•ˆã€‚å•ä¾‹æ¨¡å¼ä¸­ï¼Œåªè¦å°†æ„é€ æ–¹æ³•çš„è®¿é—®æƒé™è®¾ç½®ä¸ºprivateå‹ï¼Œå°±å¯ä»¥å®ç°å•ä¾‹ã€‚ä½†æ˜¯cloneæ–¹æ³•ç›´æ¥æ— è§†æ„é€ æ–¹æ³•çš„æƒé™ï¼Œæ‰€ä»¥ï¼Œå•ä¾‹æ¨¡å¼ä¸åŸå‹æ¨¡å¼æ˜¯å†²çªçš„ï¼Œåœ¨ä½¿ç”¨æ—¶è¦ç‰¹åˆ«æ³¨æ„ã€‚ æ·±æ‹·è´ä¸æµ…æ‹·è´ã€‚Objectç±»çš„cloneæ–¹æ³•åªä¼šæ‹·è´å¯¹è±¡ä¸­çš„åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå¯¹äºæ•°ç»„ã€å®¹å™¨å¯¹è±¡ã€å¼•ç”¨å¯¹è±¡ç­‰éƒ½ä¸ä¼šæ‹·è´ï¼Œè¿™å°±æ˜¯æµ…æ‹·è´ã€‚å¦‚æœè¦å®ç°æ·±æ‹·è´ï¼Œå¿…é¡»å°†åŸå‹æ¨¡å¼ä¸­çš„æ•°ç»„ã€å®¹å™¨å¯¹è±¡ã€å¼•ç”¨å¯¹è±¡ç­‰å¦è¡Œæ‹·è´ä¾‹å¦‚ï¼š prototype.list = (ArrayList) this.list.clone(); ç¤ºä¾‹//å®ç°â€œåŸå‹æ¨¡å¼â€ç¬¬ä¸€æ­¥ï¼šå®ç°Cloneableæ¥å£ public class Person implements Cloneable{ private String name; private String address; private int age; private int height; private ArrayList&lt;String&gt; hobbies; public Person(String name, String address, int age, int height, ArrayList&lt;String&gt; hobbies) { this.name = name; this.address = address; this.age = age; this.height = height; this.hobbies = hobbies; } public String getName() { return name; } public void setName(String name) { this.name = name; } public String getAddress() { return address; } public void setAddress(String address) { this.address = address; } public int getAge() { return age; } public void setAge(int age) { this.age = age; } public int getHeight() { return height; } public void setHeight(int height) { this.height = height; } public ArrayList&lt;String&gt; getHobbies() { return hobbies; } public void setHobbies(ArrayList&lt;String&gt; hobbies) { this.hobbies = hobbies; } @Override public String toString() { return &quot;Person{&quot; + &quot;name=&apos;&quot; + name + &apos;\&apos;&apos; + &quot;, address=&apos;&quot; + address + &apos;\&apos;&apos; + &quot;, age=&quot; + age + &quot;, height=&quot; + height + &quot;, hobbies=&quot; + hobbies + &apos;}&apos;; } //å®ç°â€œåŸå‹æ¨¡å¼â€ç¬¬äºŒæ­¥ï¼šé‡å†™cloneï¼ˆï¼‰ @Override protected Object clone() throws CloneNotSupportedException { Person person = (Person) super.clone(); person.name = this.name; person.address = this.address; person.age = this.age; person.height = this.height; //person.hobbies = this.hobbies; //æ­¤å¤„ä½¿ç”¨ä½¿ç”¨æ·±æ‹·è´ person.hobbies = (ArrayList&lt;String&gt;) this.hobbies.clone(); return person; } } ä½¿ç”¨ public class Prototype_DesignPattern { public static void main(String[] args){ ArrayList&lt;String&gt; hobbies = new ArrayList&lt;String&gt;(); hobbies.add(&quot;æ¸¸æ³³&quot;); hobbies.add(&quot;è¶³çƒ&quot;); hobbies.add(&quot;è‡ªè¡Œè½¦&quot;); Person person0 = new Person(&quot;å¼ ä¸‰&quot;,&quot;åŒ—äº¬&quot;,24,177,hobbies); System.out.println(&quot;person0 is &quot; + person0.toString()); //åŸå‹æ¨¡å¼çš„ä½¿ç”¨ try { Person person1 = (Person) person0.clone(); person1.setName(&quot;ç‹å“‡&quot;); hobbies.remove(&quot;è¶³çƒ&quot;); person1.setHobbies(hobbies); System.out.println(&quot;person1 is &quot; + person1.toString()); Person person2 = (Person) person0.clone(); person2.setAge(44); System.out.println(&quot;person2 is &quot; + person2.toString()); } catch (CloneNotSupportedException e) { e.printStackTrace(); } System.out.println(&quot;person0 is &quot; + person0.toString()); } }]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§‚å¯Ÿè€…æ¨¡å¼]]></title>
    <url>%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[OOåŸºç¡€ ï¼šæŠ½è±¡OOåŸåˆ™ ï¼šå°è£…å˜åŒ–ã€é’ˆå¯¹æ¥å£ç¼–ç¨‹ã€æ¾è€¦åˆï¼ˆå¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿ï¼‰è§‚å¯Ÿè€…æ¨¡å¼ ï¼šåœ¨å¯¹è±¡ä¹‹é—´å®šä¹‰ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œå…¶ä»–å¯¹è±¡éƒ½ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ”¹å˜ã€‚ è¢«è§‚å¯Ÿè€… 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798public interface WeatherSet &#123; void register(WeatherOberver oberver); void unRegister(WeatherOberver oberver); void upData(WeatherData weatherData);&#125;/** * ä¸»é¢˜ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰ */public class WeatherSetI implements WeatherSet&#123; List&lt;WeatherOberver&gt; oberverList; /** * åˆå§‹åŒ–å­˜å‚¨è§‚å¯Ÿè€…çš„é›†åˆ * æ¨¡å—é—´çš„ä¾èµ–åº”è¯¥æ˜¯é€šè¿‡ æŠ½è±¡æ¥å®ç°çš„ */ public WeatherSetI() &#123; this.oberverList = new ArrayList&lt;WeatherOberver&gt;(); &#125; /** * æ³¨å†Œ * @param oberver è§‚å¯Ÿè€… */ public void register(WeatherOberver oberver)&#123; if (oberverList.contains(oberver)) &#123; System.out.println("æ³¨æ„ : " + oberver.getClass().getName() + " å½“å‰è®¢é˜…è€…å·²ç»å­˜åœ¨ï¼Œæ— éœ€è®¢é˜…"); &#125; else &#123; oberverList.add(oberver); &#125; &#125; /** * å–æ¶ˆæ³¨å†Œ * @param oberver è§‚å¯Ÿè€… */ public void unRegister(WeatherOberver oberver)&#123; System.out.println("æ³¨æ„ï¼š" + oberver.getClass().getName() + " å·²ç»ä¸å†è®¢é˜…è¯¥æ¶ˆæ¯ï¼Œbye~bye~"); oberverList.remove(oberver); &#125; /** * æ•°æ®æ›´æ–° * @param weatherData æ•°æ®Beanç±» * * è®¾è®¡åŸåˆ™ï¼šè¢«æ‰“ç”µè¯ç»™æˆ‘ï¼Œæˆ‘æ‰“ç”µè¯ç»™ä½ ï¼ˆä¸Šå±‚è°ƒç”¨ä¸‹å±‚ï¼Œä¸‹å±‚ä¸è°ƒç”¨ä¸Šå±‚ï¼‰ */ public void upData(WeatherData weatherData)&#123; System.out.println("æ³¨æ„ï¼šå½“å‰æœ‰ " + oberverList.size() + " ä½è®¢é˜…äº†è¯¥æ¶ˆæ¯ï¼"); for (WeatherOberver item : oberverList) &#123; item.getData(weatherData); &#125; &#125;&#125;/*** æ•°æ®Beanç±»*/public class WeatherData &#123; int temp; int pressure; public WeatherData(int temp, int pressure) &#123; this.temp = temp; this.pressure = pressure; &#125; public int getTemp() &#123; return temp; &#125; public void setTemp(int temp) &#123; this.temp = temp; &#125; public int getPressure() &#123; return pressure; &#125; public void setPressure(int pressure) &#123; this.pressure = pressure; &#125; @Override public String toString() &#123; return "WeatherData&#123;" + "temp=" + temp + ", pressure=" + pressure + '&#125;'; &#125;&#125; è§‚å¯Ÿè€… 123456789101112131415161718192021222324252627282930313233/** * è§‚å¯Ÿè€… æ¥å£ */public interface WeatherOberver &#123; /** * æ•°æ®æ›´æ–°è¡Œä¸º * @param weatherData æ•°æ®Beanç±» */ void getData(WeatherData weatherData);&#125; public class WangObserver implements WeatherOberver &#123; @Override public void getData(WeatherData weatherData) &#123; System.out.println("WangObserver get data temp is : " + weatherData.getTemp() + ", pressure is : " + weatherData.getPressure()); &#125;&#125;public class ZhangObserver implements WeatherOberver &#123; @Override public void getData(WeatherData weatherData) &#123; System.out.println("ZhangObserver get data temp is : " + weatherData.getTemp() + ", pressure is : " + weatherData.getPressure()); &#125;&#125;public class LiObserver implements WeatherOberver &#123; @Override public void getData(WeatherData weatherData) &#123; System.out.println("LiObserver get data temp is : " + weatherData.getTemp() + ", pressure is : " + weatherData.getPressure()); &#125;&#125; åº”ç”¨ public class OberverMain { public static void main(String[] args){ WeatherOberver oberverWang = new WangObserver(); WeatherOberver oberverLi = new LiObserver(); WeatherOberver oberverZhang = new ZhangObserver(); WeatherSetI set = new WeatherSetI(); set.register(oberverWang); set.register(oberverLi); set.register(oberverZhang); set.upData(new WeatherData(12, 45)); /** * æ³¨æ„ï¼šå½“å‰æœ‰ 3 ä½è®¢é˜…äº†è¯¥æ¶ˆæ¯ï¼ WangObserver get data temp is : 12, pressure is : 45 LiObserver get data temp is : 12, pressure is : 45 ZhangObserver get data temp is : 12, pressure is : 45 */ System.out.println(); set.unRegister(oberverLi); set.upData(new WeatherData(32, 100)); /** * æ³¨æ„ï¼šobserver.LiObserver å·²ç»ä¸å†è®¢é˜…è¯¥æ¶ˆæ¯ï¼Œbye~bye~ æ³¨æ„ï¼šå½“å‰æœ‰ 2 ä½è®¢é˜…äº†è¯¥æ¶ˆæ¯ï¼ WangObserver get data temp is : 32, pressure is : 100 ZhangObserver get data temp is : 32, pressure is : 100 */ System.out.println(); set.register(oberverZhang); set.upData(new WeatherData(33, 97)); /** * æ³¨æ„ : observer.ZhangObserver å½“å‰è®¢é˜…è€…å·²ç»å­˜åœ¨ï¼Œæ— éœ€è®¢é˜… æ³¨æ„ï¼šå½“å‰æœ‰ 2 ä½è®¢é˜…äº†è¯¥æ¶ˆæ¯ï¼ WangObserver get data temp is : 33, pressure is : 97 ZhangObserver get data temp is : 33, pressure is : 97 */ } } å®ä¾‹ï¼š Androidçš„å¹¿æ’­æœºåˆ¶ã€‚ æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨æœ¬åœ°å¹¿æ’­ä¸»è¦å°±æ˜¯ä¸‹é¢å››ä¸ªæ–¹æ³•: LocalBroadcastManager localBroadcastManager=LocalBroadcastManager.getInstance(this); localBroadcastManager.registerReceiver(BroadcastReceiver receiver, IntentFilter filter); localBroadcastManager.unregisterReceiver(BroadcastReceiver receiver); localBroadcastManager.sendBroadcast(Intent intent) è°ƒç”¨registerReceiveræ–¹æ³•æ³¨å†Œå¹¿æ’­ï¼Œè°ƒç”¨unregisterReceiveræ–¹æ³•å–æ¶ˆæ³¨å†Œï¼Œä¹‹åç›´æ¥ä½¿ç”¨sendBroadcastå‘é€å¹¿æ’­ï¼Œå‘é€å¹¿æ’­ä¹‹åï¼Œæ³¨å†Œçš„å¹¿æ’­ä¼šæ”¶åˆ°å¯¹åº”çš„å¹¿æ’­ä¿¡æ¯ï¼Œè¿™å°±æ˜¯å…¸å‹çš„è§‚å¯Ÿè€…æ¨¡å¼ EventBusã€‚ è§‚å¯Ÿè€…æ¨¡å¼çš„ä¸‰ä¸ªå…¸å‹æ–¹æ³•å®ƒéƒ½å…·æœ‰ï¼Œå³æ³¨å†Œï¼Œå–æ¶ˆæ³¨å†Œï¼Œå‘é€äº‹ä»¶ï¼š EventBus.getDefault().register(Object subscriber); EventBus.getDefault().unregister(Object subscriber); EventBus.getDefault().post(Object event); RxJavaã€‚ åˆ›å»ºä¸€ä¸ªè¢«è§‚å¯Ÿè€…ï¼š Observable&lt;String&gt; myObservable = Observable.create( new Observable.OnSubscribe&lt;String&gt;() { @Override public void call(Subscriber&lt;? super String&gt; sub) { sub.onNext(&quot;Hello, world!&quot;); sub.onCompleted(); } } ); åˆ›å»ºä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œä¹Ÿå°±æ˜¯è®¢é˜…è€…ï¼š Subscriber&lt;String&gt; mySubscriber = new Subscriber&lt;String&gt;() { @Override public void onNext(String s) { System.out.println(s); } @Override public void onCompleted() { } @Override public void onError(Throwable e) { } }; è§‚å¯Ÿè€…è¿›è¡Œäº‹ä»¶çš„è®¢é˜… myObservable.subscribe(mySubscriber);]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼ä¸åŸåˆ™]]></title>
    <url>%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%8E%9F%E5%88%99%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://blog.csdn.net/self_study/article/details/51234377 Patternsï¼šæ¨¡å¼PrinciPleï¼šåŸåˆ™ è®¾è®¡æ¨¡å¼ä¸ä¼šç›´æ¥è¿›å…¥ä½ çš„â€œä»£ç â€ä¸­ï¼Œè€Œæ˜¯å…ˆè¿›å…¥ä½ çš„â€œå¤§è„‘â€ä¸­ã€‚ åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œæ‰€è°“çš„â€œå®ç°ä¸€ä¸ªæ¥å£â€å¹¶â€œä¸ä¸€å®šâ€è¡¨ç¤ºâ€œå†™ä¸€ä¸ªç±»ï¼Œå¹¶åˆ©ç”¨implementå…³é”®è¯å®ç°æŸä¸ªjavaæ¥å£â€ã€‚è€Œæ˜¯æ³›æŒ‡â€œå®ç°æŸä¸ªè¶…ç±»å‹ï¼ˆå¯ä»¥æ˜¯æ¥å£æˆ–æ˜¯ç±»ï¼‰çš„æŸä¸ªæ–¹æ³•â€ã€‚ è®¾è®¡æ¨¡å¼çš„å‡ºç°ï¼šè®¾è®¡æ¨¡å¼æ˜¯å†ç»éªŒè¯çš„OOè®¾è®¡ç»éªŒï¼Œè€Œæ¨¡å¼ä¸æ˜¯è¢«å‘æ˜çš„ï¼Œæ˜¯è¢«å‘ç°çš„ã€‚è®¾è®¡æ˜¯ä¸€é—¨è‰ºæœ¯ï¼Œæ€»æ˜¯æœ‰è®¸å¤šå¯å–èˆçš„åœ°æ–¹ã€‚å¦‚æœæ‰¾ä¸åˆ°åˆé€‚çš„è®¾è®¡æ¨¡å¼ï¼Œé‡‡ç”¨ä¸€äº›è®¾è®¡åŸåˆ™ä¹Ÿæ˜¯ç›¸å½“ä¸é”™çš„ã€‚å¥½çš„OOç³»ç»Ÿè®¾è®¡å¿…é¡»æ˜¯ï¼šå¯ç»´æŠ¤ã€å¯æ‰©å……ã€å¯å¤ç”¨çš„ã€‚ è®¾è®¡åŸåˆ™ï¼ˆï¼–å¤§ï¼‰ï¼š1. OCP - å¼€é—­åŸåˆ™ï¼šwhat ç¼–å†™ä»£ç åº”è¯¥ï¼šé¢å‘æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚ å°½é‡ä¸è¦é€šè¿‡ä¿®æ”¹ç°æœ‰ä»£ç æ¥æ»¡è¶³éœ€æ±‚ã€‚How è¦åˆ©ç”¨æ‰©å±•æ¥é€‚åº”å˜æ›´ã€‚ æ¥å£ ä¼˜äº æŠ½è±¡ï¼ŒæŠ½è±¡ ä¼˜äº å…·ä½“ç±»ã€‚ é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ã€‚ å¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿ã€‚ 2. SRP - å•ä¸€èŒè´£åŸåˆ™ï¼šwhat ä¸€ä¸ªç±»ã€ä¸€ä¸ªæ–¹æ³•åªåšä¸€ä»¶äº‹ã€‚how ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å˜åŒ–çš„åŸå› ã€‚é¿å…æ½œåœ¨é”™è¯¯ã€‚ 3. LSP - é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šwhat æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹éƒ½èƒ½é€æ˜çš„ä½¿ç”¨å­ç±»çš„å¯¹è±¡ã€‚how å­ç±»å¿…é¡»å®Œå…¨å®ç°çˆ¶ç±»çš„æ–¹æ³•ã€‚ å­ç±»å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚ å­ç±»è¦†ç›–æˆ–å®ç°çˆ¶ç±»æ–¹æ³•æ—¶å‚æ•°èŒƒå›´å¯ä»¥æ‰©å¤§ã€‚ å­ç±»è¦†ç›–æˆ–å®ç°çˆ¶ç±»æ–¹æ³•æ—¶è¿”å›å€¼èŒƒå›´å¯ä»¥ç¼©å°ã€‚ 4. DIP - ä¾èµ–å€’ç½®åŸåˆ™ï¼šwhat æ¨¡å—é—´çš„ä¾èµ–åº”è¯¥é€šè¿‡æŠ½è±¡å‘ç”Ÿï¼Œå…·ä½“ç±»ä¹‹é—´ä¸åº”è¯¥æœ‰ä¾èµ–å…³ç³»ã€‚ æ¥å£æˆ–è€…æŠ½è±¡ä¸ä¾èµ–äºå®ç°ç±»ï¼Œå¦åˆ™å°±å¤±å»äº†æŠ½è±¡æ¥å£çš„æ„ä¹‰ã€‚ å®ç° ä¾èµ–äº æ¥å£æˆ–è€…æŠ½è±¡å³ï¼šåº•å±‚ä¾èµ–äºé«˜å±‚ã€‚how é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ã€‚ åˆ«æ‰“ç”µè¯ç»™æˆ‘ï¼Œæˆ‘æ‰“ç”µè¯ç»™ä½ ã€‚ 5. ISP - æ¥å£éš”ç¦»åŸåˆ™ï¼šwhat ä½¿ç”¨æ¥å£æ—¶åº”è¯¥å»ºç«‹å•ä¸€çš„æ¥å£ï¼Œä¸åº”è¯¥å»ºç«‹è¿‡äºè‡ƒè‚¿çš„æ¥å£ã€‚ æ¥å£åº”è¯¥ â€œä¸“â€ è€Œé â€œå¤šâ€å³ï¼šæä¾›ç‹¬ç«‹å•ä¸€çš„æ¥å£ã€‚ 6. LKP - æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼šwhat ä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹ â€œå…¶ä»–å¯¹è±¡â€æœ‰æœ€å°‘çš„äº†è§£ã€‚how ä¸€ä¸ªç±»å¯¹äºå¦ä¸€ä¸ªç±»è€Œè¨€ï¼Œå°½é‡å‡å°‘â€œpublicâ€ï¼Œå¯¹å¤–åªæä¾›ä¸€ä¸ªç®€æ´çš„è®¿é—® è‡ªå·±çš„æ–¹æ³•ã€‚ è®¾è®¡æ¨¡å¼1. è§‚å¯Ÿè€…æ¨¡å¼ ï¼ˆæœ‰è¶£çš„äº‹æƒ…å‘ç”Ÿäº†ï¼Œå¯åƒä¸‡åˆ«é”™è¿‡ï¼ï¼‰å®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¸€å¯¹å¤šä¾èµ–ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€æ—¶ï¼Œå®ƒçš„æ‰€æœ‰ä¾èµ–è€…éƒ½ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚ 2. è£…é¥°è€…æ¨¡å¼ åŠ¨æ€çš„å°†è´£ä»»é™„åŠ åˆ°å¯¹è±¡ä¸Šï¼Œè‹¥è¦æ‰©å±•åŠŸèƒ½ï¼Œè£…é¥°è€…æ¨¡å¼æä¾›äº†æ¯”â€œç»§æ‰¿â€æ›´æœ‰å¼¹æ€§çš„æ›¿ä»£æ–¹æ¡ˆã€‚ 3. ç®€å•å·¥å‚æ¨¡å¼ ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ¨¡å¼ï¼Œä½†æ˜¯åŒâ€œæŠ½è±¡å·¥å‚æ¨¡å¼â€å’Œâ€œå·¥å‚æ–¹æ³•æ¨¡å¼â€ä¸€æ ·ï¼Œè¢«ç”¨äºå°è£…åˆ›å»ºå¯¹è±¡çš„ä»£ç ã€‚ 4. æŠ½è±¡å·¥å‚æ¨¡å¼ æä¾›ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåˆ›å»ºç›¸å…³æˆ–ä¾èµ–å¯¹è±¡çš„å®¶æ—ï¼Œè€Œä¸éœ€è¦æ˜ç¡®æŒ‡å®šå…·ä½“ç±»ã€‚ 5. å·¥å‚æ–¹æ³•æ¨¡å¼ å®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†ç”±å­ç±»å†³å®šå®ä¾‹åŒ–çš„ç±»æ˜¯å“ªä¸€ä¸ªã€‚å·¥å‚æ–¹æ³•æ¨¡å¼è®©ç±»æŠŠå®ä¾‹åŒ–æ¨è¿Ÿåˆ°å­ç±»ã€‚ 6. å•ä¾‹æ¨¡å¼ ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€çš„è®¿é—®ç‚¹ã€‚ 7. å‘½ä»¤æ¨¡å¼ å°†â€œè¯·æ±‚â€å°è£…æˆå¯¹è±¡ï¼Œä»¥ä¾¿ä½¿ç”¨ä¸åŒçš„è¯·æ±‚ã€é˜Ÿåˆ—ã€æˆ–è€…æ—¥å¿—æ¥å‚æ•°åŒ–å…¶ä»–å¯¹è±¡ã€‚å‘½ä»¤æ¨¡å¼ä¹Ÿæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚ 8. é€‚é…å™¨æ¨¡å¼ å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢ä¸ºæœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œè®©åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥å…¼å®¹ã€‚ 9. æ¨¡æ¿æ¨¡å¼ å®šä¹‰ä¸€ä¸ªç®—æ³•çš„éª¨æ¶ï¼Œå°†ç®—æ³•ä¸­çš„æŸäº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å…·ä½“å®ç°ã€‚ä½¿å¾—å­ç±»åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé‡æ–°å®šä¹‰ç®—æ³•ä¸­çš„æŸäº›æ­¥éª¤ã€‚ 10. ä»£ç†æ¨¡å¼ - ä¿æŠ¤ ä¸ºå¦ä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªæ›¿èº«æˆ–å ä½ç¬¦ä»¥è®¿é—®è¿™ä¸ªå¯¹è±¡ï¼Œæ˜¯åŸºäºè®¿é—®æƒæ§åˆ¶å¯¹å¯¹è±¡çš„è®¿é—®ã€‚ 11. ä»£ç†æ¨¡å¼ - è™šæ‹Ÿ ä½œä¸ºåˆ›å»ºå¼€é”€å¤§çš„å¯¹è±¡çš„ä»£è¡¨ï¼Œè™šæ‹Ÿä»£ç†ç»å¸¸æ˜¯ç›´åˆ°æˆ‘ä»¬çœŸæ­£éœ€è¦ä¸€ä¸ªå¯¹è±¡æ—¶æ‰åˆ›å»ºçœŸæ­£çš„å¯¹è±¡ã€‚å½“å¯¹è±¡åœ¨åˆ›å»ºå‰å’Œåˆ›å»ºä¸­æ—¶ï¼Œç”±è™šæ‹Ÿä»£ç†æ¥æ‰®æ¼”çœŸæ­£å¯¹è±¡çš„æ›¿èº«ï¼Œå¾…çœŸæ­£å¯¹è±¡åˆ›å»ºåï¼Œè™šæ‹Ÿä»£ç†å°±ä¼šå°†è¯·æ±‚ç›´æ¥ç»™çœŸæ­£çš„å¯¹è±¡ã€‚ 12. ä»£ç†æ¨¡å¼ - è¿œç¨‹ å¥½æ¯”è¿œç¨‹å¯¹è±¡çš„æœ¬åœ°ä»£è¡¨ã€‚ 13. è¿­ä»£å™¨æ¨¡å¼ æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²å™¨å†…éƒ¨çš„è¡¨ç¤ºã€‚ 14. ç»„åˆæ¨¡å¼ å…è®¸ä½ å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„æ¥è¡¨ç°â€œæ•´ä½“/éƒ¨åˆ†â€å±‚æ¬¡ç»“æ„ã€‚ç»„åˆæ¨¡å¼èƒ½è®©å®¢æˆ·ä»¥ä¸€è‡´çš„æ–¹å¼å¤„ç†ä¸ªåˆ«å¯¹è±¡åŠç»„åˆå¯¹è±¡ã€‚ 15. å¤–è§‚æ¨¡å¼ æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œç”¨æ¥è®¿é—®å­ç³»ç»Ÿä¸­çš„ä¸€ç¾¤æ¥å£ã€‚å¤–è§‚æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè®©å­ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ã€‚å¤–è§‚æ¨¡å¼ä¸ä»…ç®€åŒ–ä¸€ä¸ªæ¥å£ï¼Œè€Œä¸”å°†å®¢æˆ·ä»¥ç»„ä»¶çš„ä¸€ä¸ªå­ç³»ç»Ÿä¸­è§£è€¦ã€‚ 16. ç­–ç•¥æ¨¡å¼ å®šä¹‰äº†ç®—æ³•æ—ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼Œè®©ä»–ä»¬ä¹‹é—´å¯ä»¥äº’ç›¸æ›¿æ¢ï¼Œæ­¤æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ç‹¬ç«‹äºä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ã€‚ 17. çŠ¶æ€æ¨¡å¼ å…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œä½¿å¯¹è±¡çœ‹èµ·æ¥å¥½åƒä¿®æ”¹äº†å®ƒçš„ç±»ã€‚ ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„å¥½å¤„ ä½¿ç”¨æ¨¡å¼åç§°å’Œå…¶ä»–äººå‘˜è¿›è¡Œå¼€å‘æˆ–è€…å¼€å‘å›¢é˜Ÿæ²Ÿé€šæ—¶ï¼Œå½¼æ­¤ä¹‹é—´äº¤æµçš„ä¸åªæ˜¯æ¨¡å¼åç§°ï¼Œè€Œæ˜¯ä¸€æ•´å¥—æ¨¡å¼èƒŒåæ‰€è±¡å¾çš„è´¨é‡ã€ç‰¹æ€§ã€çº¦æŸã€‚ æ€è·¯æ¸…æ™°ï¼šä»–äººèƒ½æ›´æ¸…æ™°çš„äº†è§£ä½ å¯¹è®¾è®¡çš„æƒ³æ³•ï¼Œå›¢é˜Ÿä¹‹é—´å¯¹äºè®¾è®¡çš„çœ‹æ³•ä¸ä¼šè½»æ˜“äº§ç”Ÿè¯¯è§£ã€‚ å®è§‚ï¼šä½¿ç”¨è®¾è®¡æ¨¡å¼è°ˆè®ºè½¯ä»¶ç³»ç»Ÿï¼Œèƒ½è®©ä½ ä¿æŒåœ¨â€œè®¾è®¡å±‚æ¬¡â€ï¼Œä¸ä¼šè¢«çº ç¼ äºâ€œå¯¹è±¡â€ä¸â€œç±»â€è¿™ç§çç¢çš„å®ç°ç»†èŠ‚ä¸Šã€‚ å¤§å®¶å¯¹è®¾è®¡æ¨¡å¼éƒ½æœ‰æ·±å…¥çš„äº†è§£ï¼Œæ›´æ˜“æå‡è‡ªèº«æ°´å¹³ã€‚]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å•ä¾‹æ¨¡å¼]]></title>
    <url>%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttp://blog.csdn.net/tanyujing/article/details/14160941 http://blog.csdn.net/sbsujjbcy/article/details/49147839 æ˜¯åœ¨å†…å­˜ä¸­ç»´æŠ¤å”¯ä¸€å¯¹è±¡ï¼Œä¼˜ç‚¹å¦‚ä¸‹ï¼š 1.å¯¹äºé‚£äº›æ¯”è¾ƒè€—å†…å­˜çš„ç±»ï¼Œåªå®ä¾‹åŒ–ä¸€æ¬¡å¯ä»¥å¤§å¤§æé«˜æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨å¼€å‘ä¸­ã€‚ 2.ä¿æŒç¨‹åºè¿è¡Œçš„æ—¶å€™è¯¥ä¸­å§‹ç»ˆåªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨å†…å­˜ä¸­ ç¤ºä¾‹public class Singleton{ private static volatile Singleton instance == null; private Singleton(){ } public static Singleton getInstance(){ if(instance == null){ synchronized(Singleton.class){ if(instance == null){ instance == new Singleton(); } } } return instance; } } å…³äºvolatile å‚è€ƒï¼šhttp://www.ibm.com/developerworks/cn/java/j-jtp06197.html æ¦‚è¿°ï¼š Java è¯­è¨€ä¸­çš„ volatile å˜é‡å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸€ç§ â€œç¨‹åº¦è¾ƒè½»çš„ synchronizedâ€ï¼› ä¸ synchronized å—ç›¸æ¯”ï¼Œvolatile å˜é‡æ‰€éœ€çš„ç¼–ç è¾ƒå°‘ï¼Œå¹¶ä¸”è¿è¡Œæ—¶å¼€é”€ä¹Ÿè¾ƒå°‘ï¼Œ ä½†æ˜¯å®ƒæ‰€èƒ½å®ç°çš„åŠŸèƒ½ä¹Ÿä»…æ˜¯ synchronized çš„ä¸€éƒ¨åˆ†ã€‚ å•ä¾‹æ¨¡å¼ä½¿ç”¨ï¼š å¿…é¡»é˜²æ­¢å¤–éƒ¨å¯ä»¥è°ƒç”¨æ„é€ å‡½æ•°è¿›è¡Œå®ä¾‹åŒ–ï¼Œå› æ­¤æ„é€ å‡½æ•°å¿…é¡»ç§æœ‰åŒ–ã€‚ å¿…é¡»å®šä¹‰ä¸€ä¸ªé™æ€å‡½æ•°è·å¾—è¯¥å•ä¾‹ å•ä¾‹ä½¿ç”¨volatileä¿®é¥° ä½¿ç”¨synchronized è¿›è¡ŒåŒæ­¥å¤„ç†ï¼Œå¹¶ä¸”åŒé‡åˆ¤æ–­æ˜¯å¦ä¸ºnullï¼Œåœ¨synchronized (Singleton.class)é‡Œé¢åˆè¿›è¡Œäº†æ˜¯å¦ä¸ºnullçš„åˆ¤æ–­ï¼Œè¿™æ˜¯å› ä¸ºä¸€ä¸ªçº¿ç¨‹è¿›å…¥äº†è¯¥ä»£ç ï¼Œå¦‚æœå¦ä¸€ä¸ªçº¿ç¨‹åœ¨ç­‰å¾…ï¼Œè¿™æ—¶å€™å‰ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹å‡ºæ¥å®Œæ¯•åï¼Œå¦ä¸€ä¸ªçº¿ç¨‹è·å¾—é”è¿›å…¥è¯¥åŒæ­¥ä»£ç ï¼Œå®ä¾‹å·²ç»å­˜åœ¨ï¼Œæ²¡å¿…è¦å†æ¬¡åˆ›å»ºï¼Œå› æ­¤è¿™ä¸ªåˆ¤æ–­æ˜¯å¦æ˜¯nullè¿˜æ˜¯å¿…é¡»çš„ã€‚ å•ä¾‹çš„å¹¶å‘æµ‹è¯•ï¼šè§å‚è€ƒã€‚å®é™…åº”ç”¨public class ActivityManager { private static volatile ActivityManager instance; private Stack&lt;Activity&gt; mActivityStack = new Stack&lt;Activity&gt;(); private ActivityManager(){ } public static ActivityManager getInstance(){ if (instance == null) { synchronized (ActivityManager.class) { if (instance == null) { instance = new ActivityManager(); } } return instance; } public void addActicity(Activity act){ mActivityStack.push(act); } public void removeActivity(Activity act){ mActivityStack.remove(act); } public void killMyProcess(){ int nCount = mActivityStack.size(); for (int i = nCount - 1; i &gt;= 0; i--) { Activity activity = mActivityStack.get(i); activity.finish(); } mActivityStack.clear(); android.os.Process.killProcess(android.os.Process.myPid()); } }]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu æ¡Œé¢ä½¿ç”¨å‘½ä»¤]]></title>
    <url>%2FUbuntu%20%E6%A1%8C%E9%9D%A2%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[æ¡Œé¢ç¯å¢ƒï¼šsuper ï¼š é•¿æŒ‰æ˜¾ç¤ºå¯åŠ¨å™¨å¿«æ·ä¿¡æ¯ super + æ•°å­— ï¼š å¯åŠ¨æŒ‡å®šçš„åº”ç”¨ super + D ï¼š æ˜¾ç¤ºæ¡Œé¢ super + w : æ‰€æœ‰çª—å£å¹³é“º super + s : æ˜¾ç¤ºæ‰€æœ‰çš„å·¥ä½œåŒº super + t : æ‰“å¼€å›æ”¶ç«™ alt + prt ï¼š å¯¹çª—å£æˆªå›¾ ctrl + h ï¼š æ˜¾ç¤ºéšè—æ–‡ä»¶.hå¼€å¤´ shift + prt ï¼š é€‰å–æˆªå›¾ shift + ctrl + T : æ¡Œé¢æ‰“å¼€ç»ˆç«¯ï¼ˆåœ¨åŒä¸€çª—å£ä¸‹ï¼Œæ–°çš„æ ‡ç­¾é¡µï¼‰ ctrl + w : å…³é—­åº”ç”¨ super + c : æœç´¢å›¾ç‰‡ super + v : æœç´¢è§†å± super + a : æœç´¢åº”ç”¨ super + f : æœç´¢æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ super + m : æœç´¢éŸ³ä¹ ç»ˆç«¯è¿è¡Œå‘½ä»¤(ç®€æ´ç‰ˆ) 2016å¹´12æœˆ19æ—¥10:40:37 è½¯ä»¶æ›´æ–° apt-get update å®‰è£… apt-get install è½¯ä»¶åç§° å¸è½½ apt-get remove è½¯ä»¶åç§° å…¶ä»–æ¸…å± clear vimç¼–è¾‘ vimï¼ˆvim filenameï¼‰ ç»„æ·»åŠ ç»„ groupadd ç»„å åˆ é™¤ç»„ groupdel ç»„å æ›´æ”¹ç»„ä¿¡æ¯ groupmod ç»„å æ˜¾ç¤ºå½“å‰ç”¨æˆ·æ‰€å±ç»„ groups ç”¨æˆ·æŸ¥è¯¢å†å²ç™»å½• last [ç”¨æˆ·å] åˆ‡æ¢ç”¨æˆ· su ç”¨æˆ·å é€€å‡ºåˆ‡æ¢çš„ç”¨æˆ· exit ç›¸å…³æ–‡ä»¶ etc/group, etc/passwd, etc/shadow æŸ¥çœ‹å½“å‰ç”¨æˆ· w/who æ·»åŠ ç”¨æˆ· useradd ç”¨æˆ·å åˆ é™¤ç”¨æˆ· suerdel ç”¨æˆ·å æ›´æ”¹ç”¨æˆ·ä¿¡æ¯ usermod æ·»åŠ ç”¨æˆ·åˆ°ç»„ä¸­ useradd -G ç»„å ç”¨æˆ·å ï¼ˆG:é™„åŠ ç»„ï¼Œç”¨æˆ·å°†åˆ›å»ºä¸€ä¸ªä¸è‡ªå·±åŒåçš„ç»„ï¼‰ useradd -g ç»„å ç”¨æˆ·å ï¼ˆgï¼šè¡¨ç¤ºç”¨æˆ·æ‰€åŠ å…¥çš„ä¸»ç»„ï¼‰ ç”¨æˆ·ä¿®æ”¹å¯†ç  passwd ç”¨æˆ·å æŸ¥è¯¢idå€¼ id å°†ç”¨æˆ·æ·»åŠ è‡³å·²å­˜åœ¨çš„ç»„ä¸­ usermod -a -G ç»„å ç”¨æˆ·å æ›´æ”¹ç”¨æˆ·ä¸»è¦æ‰€åœ¨ç»„ usermod -g ç»„å ç”¨æˆ·å æ–‡ä»¶pwd æŸ¥çœ‹å½“å‰ç›®å½• cat ï¼ˆä»ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼‰æŸ¥çœ‹æ–‡ä»¶å†…å®¹ cat [-nTAEv] tac ï¼ˆä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼‰ nl ï¼ˆæ˜¾ç¤ºæ—¶è¾“å‡ºè¡Œå·ï¼‰ nl [-b{ a, t}n{ln,rn,rz}w ] more ï¼ˆåˆ†é¡µæ˜¾ç¤ºï¼‰ space å‘ä¸‹ç¿»ä¸€é¡µ enter å‘ä¸‹ç¿»ä¸€è¡Œ q ç«‹å³é€€å‡º :f ç«‹åˆ»æ˜¾ç¤ºå½“å‰æ–‡ä»¶ååŠå½“å‰è¡Œæ•° /å­—ç¬¦ä¸² åœ¨å½“å‰æ˜¾ç¤ºå†…å®¹ä¸­ï¼Œå‘ä¸‹æŸ¥è¯¢ã€å­—ç¬¦ä¸²ã€‘ lessï¼ˆåŒmoreï¼Œå¯ä»¥å‘å‰ç¿»é¡µï¼‰ /å­—ç¬¦ä¸² å‘ä¸ŠæŸ¥è¯¢ ï¼Ÿå­—ç¬¦ä¸² å‘ä¸‹æŸ¥è¯¢ n é‡å¤å‰ä¸€ä¸ªæŸ¥è¯¢ N åå‘é‡å¤å‰ä¸€ä¸ªæŸ¥è¯¢ q ç¦»å¼€ pagedown å‘ä¸‹ç¿»é¡µ pageuP å‘ä¸Šç¿»é¡µ head ï¼ˆä»…æ˜¾ç¤ºå¤´å‡ è¡Œï¼‰ head [-n number] æ–‡ä»¶ tailï¼ˆä»…æ˜¾ç¤ºå°¾å‡ è¡Œï¼‰ tail [-n number] æ–‡ä»¶ od ï¼ˆä»¥2è¿›åˆ¶çš„æ–¹å¼è¯»å–æ¡£æ¡ˆï¼‰ ç›®å½•ä¸æ–‡ä»¶æŸ¥çœ‹ ls [-aAdfFhilrRSt] ç›®å½•å ï¼ˆå¯ä»¥ä½¿ç”¨Ã—ä½œä¸ºåŒ¹é…ç¬¦ï¼‰ls [--color={none,auto,always}] ç›®å½•å ls [--full-time{mtime,ctime,atime}] ç›®å½•å ll == ls -l ls -a ï¼ˆæ˜¾ç¤ºéšè—æ–‡ä»¶åŠç›®å½•ï¼‰ pwd -P ï¼ˆè¿”å›çœŸå®ç›®å½•ï¼Œéè¿æ¥ç›®å½•ï¼‰ è·¯å¾„åˆ‡æ¢ cd æ–‡ä»¶è·¯å¾„cd - (è¿”å›ä¸Šä¸€ä¸ªå·¥ä½œç›®å½•) cd ~ ï¼ˆhomeç›®å½•ï¼‰ cd .. (è¿”å›ä¸Šå±‚æ–‡ä»¶) cd ../ç›®å½• ï¼ˆåŒä¸€å±‚ç›®å½•ä¸­å‰å¾€å…¶ä»–ç›®å½•ï¼‰ cd ~ç”¨æˆ·å ï¼ˆè¿›å…¥æ­¤ç”¨æˆ·çš„homeç›®å½•ï¼‰ åˆ›å»ºæ–‡ä»¶vim æ–‡ä»¶å ï¼ˆæ–¹å¼1ï¼‰ touch æ–‡ä»¶å(ç©º) ï¼ˆæ–¹å¼2ï¼‰ echo â€œè¾“å…¥å†…å®¹â€ &gt; æ–‡ä»¶å.åç¼€ ï¼ˆæ–¹å¼3ï¼‰ ä¿®æ”¹æ–‡ä»¶æ—¶é—´+åˆ›å»ºæ–‡ä»¶touch(ç©º) æ—¶é—´åˆ†ç±»mtime:å†…å®¹å˜æ›´æ—¶é—´ï¼› ctimeï¼šçŠ¶æ€æ—¶é—´ï¼› atimeï¼šæ¥æ”¶æ—¶é—´ touch [-mcadt] åˆ›å»ºç›®å½• mkdirmkdir [-mp] ç›®å½•å ï¼ˆmï¼šæƒé™ï¼Œpï¼šè‡ªåŠ¨å»ºç«‹å¤šå±‚ç›®å½•ï¼‰ åˆ é™¤ç›®å½• rmdirrmdir [-p] ç›®å½•å ï¼ˆpï¼šå½“å‰ç›®å½•åŒ…å«å¤šä¸ªç›®å½•ï¼Œåˆ é™¤æ—¶è¿åŒè‡ªèº«åˆ é™¤ï¼‰ä»…èƒ½åˆ é™¤ç©ºç›®å½• rm -rf ç›®å½•å ï¼ˆåˆ é™¤éç©ºç›®å½•ï¼‰ æ…ç”¨ æ›´æ”¹ç»„ chgrpchgrp [-R] ç»„å æ–‡ä»¶ ï¼ˆRï¼šæ–‡ä»¶å¤¹é€’å½’ï¼‰ æ›´æ”¹æ‹¥æœ‰è€… chownchown [-R] ç”¨æˆ·å æ–‡ä»¶ chown [-R] ç”¨æˆ·åï¼šç»„å æ–‡ä»¶ è·å–æ–‡ä»¶å basename ç›®å½•è·å–ç›®å½• dirname ç›®å½•æ–‡ä»¶é¢„è®¾æƒé™ umaskumask [-S] (æŸ¥çœ‹æƒé™é¢„è®¾) 022:è¡¨ç¤ºè¢«â€˜æ‹¿æ‰çš„æƒé™â€™,å³ï¼šu,g-w,o-w umask 002 ï¼ˆè®¾ç½®æƒé™ï¼‰ æƒé™çš„åˆ†ç±»åŸºæœ¬å±æ€§ + éšè—å±æ€§ + ç‰¹åˆ«Så±æ€§ æ›´æ”¹æƒé™å±æ€§ chmodchmod [-R] 777 æ–‡ä»¶å chmod [-R] u=(+/-)rwx,g=(+/-)rwx,o=(+/-)rwx æ–‡ä»¶å è®¾å®šéšè—å±æ€§ chattrchattr [+-=][ASacdistu] æ–‡ä»¶æˆ–ç›®å½•å (æœ€å¸¸ç”¨aï¼Œi) chattr +aï¼šè¡¨ç¤ºåœ¨åŸæœ‰å‚æ•°çš„åŸºç¡€ä¸Šï¼Œè¿½åŠ å‚æ•°-appendï¼Œè¡¨ç¤ºåªèƒ½å‘æ–‡ä»¶ä¸­æ·»åŠ æ•°æ®ï¼Œä¸èƒ½åˆ é™¤,å¤šç”¨äºæ—¥å¿—ã€‚ chattr +iï¼šè¡¨ç¤ºæ–‡ä»¶ä¸èƒ½è¢«åˆ é™¤ï¼Œæ”¹åï¼Œè®¾å®šé“¾æ¥å…³ç³»ï¼ŒåŒæ—¶ä¸èƒ½å†™å…¥ï¼Œè¿½åŠ å†…å®¹ã€‚ æ˜¾ç¤ºéšè—å±æ€§ lsattrlsattr [-aR] æ–‡ä»¶æˆ–ç›®å½•å SUID,SGID,SBIT è®¾å®š4ï¼šSUIDï¼ˆä½¿ç”¨åœ¨éç›®å½•ä¸Šï¼‰ 2ï¼šSGIDï¼ˆç›®å½•ä¸æ–‡ä»¶å‡å¯ï¼‰ 1ï¼šSBITï¼ˆä½¿ç”¨åœ¨éæ–‡ä»¶ä¸Šï¼‰ e.g. chmod 4755 æ–‡ä»¶å ç»“æœä¸ºï¼š-rwsr-xr-x æ–‡ä»¶çš„ç±»å‹ filefile æ–‡ä»¶è·¯å¾„ æ–‡ä»¶æŸ¥è¯¢whereis/locateï¼ˆé€šè¿‡æ•°æ®åº“æŸ¥è¯¢,æ‰€ä»¥åœ¨æŸ¥è¯¢å‰æœ€å¥½æ›´æ–°æ•°æ®ä¹¦åº“ï¼Œupdatedbæ–‡ä»¶ï¼‰ which findä¸æ¨èä½¿ç”¨ï¼ˆä¼¤ç¡¬ç›˜ï¼šåŸç†æ˜¯åœ¨ç¡¬ç›˜ä¸ŠæŸ¥æ‰¾ï¼Œè€—æ—¶ï¼‰ä½¿ç”¨Ã—åŒ¹é…æ–‡ä»¶ which [-a] æ–‡ä»¶ whereis [-bmsu] æ–‡ä»¶æˆ–ç›®å½• locate æ–‡ä»¶å å¤åˆ¶cp æºæ–‡ä»¶è·¯å¾„ æ–°æ–‡ä»¶è·¯å¾„ ï¼ˆå¤åˆ¶ï¼Œå»ºç«‹å¿«æ·æ–¹å¼ï¼Œæ–°æ—§æ¯”å¯¹ï¼Œå¤åˆ¶ç›®å½•ï¼‰ cp [-adfilprsu] cp æº1ï¼Œæº2â€¦â€¦ ç›®å½• ç§»åŠ¨mv ï¼ˆç§»åŠ¨ï¼Œæ›´å ï¼‰ mv [-fiu] mv åŸæ–‡ä»¶å æ–°æ–‡ä»¶å mv æ–‡ä»¶1ï¼Œæ–‡ä»¶2 ç›®å½•å åˆ é™¤ rmrm [-rfi] ç›®å½•æˆ–æ–‡ä»¶ (è‹¥æ–‡ä»¶åä¸­å«æœ‰-ï¼Œåˆ™ç”¨â€˜./â€™æˆ–è€…â€˜ç©ºæ ¼--ç©ºæ ¼â€™) æ›´æ–° 2017å¹´02æœˆ04æ—¥ æ˜ŸæœŸå…­ 18æ—¶34åˆ†42ç§’ æŸ¥çœ‹ç£ç›˜ç©ºé—´å¤§å°å‘½ä»¤ ä¸»è¦å‘½ä»¤ï¼šdf è¯¦ç»†å‘½ä»¤ï¼šdf -hl : æŸ¥çœ‹ç£ç›˜å‰©ä½™ç©ºé—´ï¼ˆæ•ˆæœåŒ df -Hï¼‰ df -h : æŸ¥çœ‹æ¯ä¸ªæ ¹è·¯å¾„çš„åˆ†åŒºå¤§å° du -sh : [ç›®å½•å] è¿”å›è¯¥ç›®å½•çš„å¤§å° du -sm : [æ–‡ä»¶å¤¹] è¿”å›è¯¥æ–‡ä»¶å¤¹æ€»Mæ•° fdisk -l : æŸ¥çœ‹ç¡¬ç›˜åˆ†åŒº æŸ¥çœ‹ipåœ°å€ifconfig æŸ¥çœ‹ç«¯å£å·ä¸»è¦å‘½ä»¤ ï¼š netstat æŸ¥çœ‹æ‰€æœ‰çš„æœåŠ¡ç«¯å£: netstat -a æŸ¥çœ‹æ‰€æœ‰çš„æœåŠ¡ç«¯å£ï¼Œæ˜¾ç¤ºpidå· netstat -ap æŸ¥çœ‹æŸä¸€ï¼ˆ**ï¼‰ç«¯å£ï¼Œåˆ™å¯ä»¥ç»“åˆgrepå‘½ä»¤ï¼š netstat -ap | grep ** å¦‚æŸ¥çœ‹**ç«¯å£ï¼Œï¼š lsof -i:** è‹¥è¦åœæ­¢ä½¿ç”¨è¿™ä¸ªç«¯å£çš„ç¨‹åºï¼Œä½¿ç”¨kill +å¯¹åº”çš„pid kill pid è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½ç”¨çš„å‘½ä»¤ï¼ŒæŸ¥çœ‹**ç«¯å£ï¼š netstat -lnp | grep ** æŸ¥çœ‹ç«¯å£å·å’Œè¿è¡Œç¨‹åºï¼š netstat -atunp | more æŸ¥çœ‹è¿›ç¨‹æ‰€ç”¨ç«¯å£ï¼š netstat -tlnp|grep ** å¸è½½å·²ç»å®‰è£…çš„è½¯ä»¶å‘½ä»¤ï¼š dpkg -l | grep appName apt-get remove appName æ›´æ–°grepå‘½ä»¤ å‚è€ƒï¼šhttp://www.lai18.com/content/24612942.html å‘½ä»¤ï¼š æ˜¯linuxä¸­çš„æœç´¢å·¥å…·ã€‚å¯ä»¥ç”¨åœ¨æœç´¢æ¡ä»¶â€œè¿‡æ»¤â€ã€‚ ç”¨æ³•ï¼š grep [é€‰é¡¹] PATTERN å‚æ•°è¯´æ˜ï¼š [options] -cï¼šåªè¾“å‡ºåŒ¹é…è¡Œçš„è®¡æ•°ã€‚ -iï¼šä¸åŒºåˆ†å¤§ å°å†™(åªé€‚ç”¨äºå•å­—ç¬¦)ã€‚ -hï¼šæŸ¥è¯¢å¤šæ–‡ä»¶æ—¶ä¸æ˜¾ç¤ºæ–‡ä»¶åã€‚ -lï¼šæŸ¥è¯¢å¤šæ–‡ä»¶æ—¶åªè¾“å‡ºåŒ…å«åŒ¹é…å­—ç¬¦çš„æ–‡ä»¶åã€‚ -nï¼šæ˜¾ç¤ºåŒ¹é…è¡ŒåŠè¡Œå·ã€‚ -sï¼šä¸æ˜¾ç¤ºä¸å­˜åœ¨æˆ–æ— åŒ¹é…æ–‡æœ¬çš„é”™è¯¯ä¿¡æ¯ã€‚ -vï¼šæ’é™¤ï¼Œä¸æ˜¾ç¤ºè¿‡æ»¤çš„å­—ç¬¦ä¸²çš„è¡Œï¼›æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œã€‚ -E ï¼šè¿‡æ»¤å¤šä¸ªå­—ç¬¦ä¸²ã€‚ -o ï¼šè¾“å‡ºç²¾ç¡®åŒ¹é…çš„å­—ç¬¦è€Œä¸æ˜¯é»˜è®¤çš„æ•´è¡Œã€‚ -f ï¼šæŒ‡å®šè§„åˆ™æ–‡ä»¶ï¼Œå…¶å†…å®¹å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè§„åˆ™æ ·å¼ï¼Œè®©grepæŸ¥æ‰¾ç¬¦åˆè§„åˆ™æ¡ä»¶çš„æ–‡ä»¶å†…å®¹ï¼Œæ ¼å¼ä¸ºæ¯è¡Œä¸€ä¸ªè§„åˆ™æ ·å¼ã€‚ Context controlï¼š -B é™¤äº†æ˜¾ç¤ºåŒ¹é…çš„ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰çš„numè¡Œ -A é™¤äº†æ˜¾ç¤ºåŒ¹é…çš„ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹åçš„numè¡Œ -C é™¤äº†æ˜¾ç¤ºåŒ¹é…çš„ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰åå„numè¡Œ grep &quot;String&quot; -B 10 test.txt #æ˜¾ç¤ºåŒ¹é…çš„Stringè¡Œå’ŒStringçš„å‰10è¡Œã€‚ patternæ­£åˆ™è¡¨è¾¾å¼ä¸»è¦å‚æ•°ï¼š \ï¼šå¿½ç•¥æ­£åˆ™è¡¨è¾¾å¼ä¸­ç‰¹æ®Šå­—ç¬¦çš„åŸæœ‰å«ä¹‰ã€‚ ^ï¼šåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å¼€å§‹è¡Œã€‚ $: åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æŸè¡Œã€‚ \&lt;ï¼šä»åŒ¹é…æ­£åˆ™è¡¨è¾¾ å¼çš„è¡Œå¼€å§‹ã€‚ \&gt;ï¼šåˆ°åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„è¡Œç»“æŸã€‚ [ ]ï¼šå•ä¸ªå­—ç¬¦ï¼Œå¦‚ [Gg]rep åŒ¹é…Grepå’Œgrepã€‚ [ - ]ï¼šèŒƒå›´ï¼Œå¦‚[A-Z]ï¼Œå³Aã€Bã€Cä¸€ç›´åˆ°Zéƒ½ç¬¦åˆè¦æ±‚ã€‚ [^]ï¼šåŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š&apos;[^A-FH-Z]rep&apos;åŒ¹é…ä¸åŒ…å«A-Få’ŒH-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿrepçš„è¡Œã€‚ x\{m\}ï¼šé‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š&apos;0\{5\}&apos;åŒ¹é…åŒ…å«5ä¸ª0çš„è¡Œã€‚ x\{m,\}ï¼šé‡å¤å­—ç¬¦x,è‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š&apos;0\{5,\}&apos;åŒ¹é…è‡³å°‘æœ‰5ä¸ª0çš„è¡Œã€‚ x\{m,n\}ï¼šé‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š&apos;0\{5,10\}&apos;åŒ¹é…5 -- 10ä¸ª0çš„è¡Œã€‚ .ï¼šæ‰€æœ‰çš„å•ä¸ªå­—ç¬¦ã€‚ *ï¼šæœ‰å­—ç¬¦ï¼Œé•¿åº¦å¯ä»¥ä¸º0ã€‚]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>å‘½ä»¤</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux vim å‘½ä»¤]]></title>
    <url>%2FLinux%20vim%20%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[vimå‘½ä»¤viæœ‰3ä¸ªæ¨¡å¼ï¼šæ’å…¥æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€ä½è¡Œæ¨¡å¼ã€‚æ’å…¥æ¨¡å¼ï¼šåœ¨æ­¤æ¨¡å¼ä¸‹å¯ä»¥è¾“å…¥å­—ç¬¦ï¼ŒæŒ‰ESCå°†å›åˆ°å‘½ä»¤æ¨¡å¼ã€‚ å‘½ä»¤æ¨¡å¼ï¼šå¯ä»¥ç§»åŠ¨å…‰æ ‡ã€åˆ é™¤å­—ç¬¦ç­‰ã€‚ ä½è¡Œæ¨¡å¼ï¼šå¯ä»¥ä¿å­˜æ–‡ä»¶ã€é€€å‡ºviã€è®¾ç½®viã€æŸ¥æ‰¾ç­‰åŠŸèƒ½(ä½è¡Œæ¨¡å¼ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯å‘½ä»¤æ¨¡å¼é‡Œçš„)ã€‚ æ‰“å¼€æ–‡ä»¶ã€ä¿å­˜ã€å…³é—­æ–‡ä»¶(viå‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨)vi filename //æ‰“å¼€filenameæ–‡ä»¶,æ–‡ä»¶åç§°å¯ä»¥ä¸å­˜åœ¨ :w //ä¿å­˜æ–‡ä»¶ :w filename //ä¿å­˜è‡³filenameæ–‡ä»¶ :q //é€€å‡ºç¼–è¾‘å™¨ï¼Œå¦‚æœæ–‡ä»¶å·²ä¿®æ”¹è¯·ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ :q! //é€€å‡ºç¼–è¾‘å™¨ï¼Œä¸”ä¸ä¿å­˜ :wq //é€€å‡ºç¼–è¾‘å™¨ï¼Œä¸”ä¿å­˜æ–‡ä»¶ :wq! //å¼ºåˆ¶ä¿å­˜å†…å®¹é€€å‡º 3.æ’å…¥æ–‡æœ¬æˆ–è¡Œ(viå‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤åå°†è¿›å…¥æ’å…¥æ¨¡å¼ï¼ŒæŒ‰ESCé”®å¯é€€å‡ºæ’å…¥æ¨¡å¼)a //åœ¨å½“å‰å…‰æ ‡ä½ç½®çš„å³è¾¹æ·»åŠ æ–‡æœ¬ A //åœ¨å½“å‰è¡Œçš„æœ«å°¾ä½ç½®æ·»åŠ æ–‡æœ¬ i //åœ¨å½“å‰å…‰æ ‡ä½ç½®çš„å·¦è¾¹æ·»åŠ æ–‡æœ¬ I //åœ¨å½“å‰è¡Œçš„å¼€å§‹å¤„æ·»åŠ æ–‡æœ¬(éç©ºå­—ç¬¦çš„è¡Œé¦–) O //åœ¨å½“å‰è¡Œçš„ä¸Šé¢æ–°å»ºä¸€è¡Œ o //åœ¨å½“å‰è¡Œçš„ä¸‹é¢æ–°å»ºä¸€è¡Œ R //æ›¿æ¢(è¦†ç›–)å½“å‰å…‰æ ‡ä½ç½®åŠåé¢çš„è‹¥å¹²æ–‡æœ¬ J //åˆå¹¶å…‰æ ‡æ‰€åœ¨è¡ŒåŠä¸‹ä¸€è¡Œä¸ºä¸€è¡Œ(ä¾ç„¶åœ¨å‘½ä»¤æ¨¡å¼) ç§»åŠ¨å…‰æ ‡(viå‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨)&lt;1&gt;ã€ä½¿ç”¨ä¸Šä¸‹å·¦å³æ–¹å‘é”® &lt;2&gt;ã€å‘½ä»¤æ¨¡å¼ä¸‹ï¼š h å‘å·¦ã€l å‘å³ã€j å‘ä¸‹ ã€k å‘ä¸Šã€‚ Backspace å‘å·¦ã€ç©ºæ ¼é”® å‘å³ã€Enter ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œé¦–ã€- ç§»åŠ¨åˆ°ä¸Šä¸€è¡Œé¦–ã€‚ &lt;3&gt; $ è·³è‡³è¡Œæœ«ï¼Œ0 è·³è‡³è¡Œé¦– åˆ é™¤ã€æ¢å¤å­—ç¬¦æˆ–è¡Œ(viå‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨)x //åˆ é™¤å½“å‰å­—ç¬¦ nx //åˆ é™¤ä»å…‰æ ‡å¼€å§‹çš„nä¸ªå­—ç¬¦ dd //åˆ é™¤å½“å‰è¡Œ ndd //å‘ä¸‹åˆ é™¤å½“å‰è¡Œåœ¨å†…çš„nè¡Œ d&lt;enter&gt; //åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡ŒåŠä¸‹ä¸€è¡Œ(å…±è®¡åˆ é™¤2è¡Œ) u //æ’¤é”€ä¸Šä¸€æ­¥æ“ä½œ U //æ’¤é”€å¯¹å½“å‰è¡Œçš„æ‰€æœ‰æ“ä½œ æœç´¢(viå‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨)/vpser //å‘å…‰æ ‡ä¸‹æœç´¢vpserå­—ç¬¦ä¸² ?vpser //å‘å…‰æ ‡ä¸Šæœç´¢vpserå­—ç¬¦ä¸² n //å‘ä¸‹æœç´¢å‰ä¸€ä¸ªæœç´ åŠ¨ä½œ N //å‘ä¸Šæœç´¢å‰ä¸€ä¸ªæœç´¢åŠ¨ä½œ è·³è‡³æŒ‡å®šè¡Œ(viå‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨)n //è·³nè¡Œ n+ //å‘ä¸‹è·³nè¡Œ n- //å‘ä¸Šè·³nè¡Œ G //è·³è‡³æ–‡ä»¶çš„åº•éƒ¨ gg //è·³è‡³æ–‡ä»¶é¡¶éƒ¨ è®¾ç½®è¡Œå·(viå‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨):set nu //æ˜¾ç¤ºè¡Œå· :set nonu //å–æ¶ˆæ˜¾ç¤ºè¡Œå· å¤åˆ¶ã€ç²˜è´´(viå‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨)yy //å°†å½“å‰è¡Œå¤åˆ¶åˆ°ç¼“å­˜åŒºï¼Œä¹Ÿå¯ä»¥ç”¨ &quot;ayy å¤åˆ¶ï¼Œ&quot;a ä¸ºç¼“å†²åŒºï¼Œaä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºaåˆ°zçš„ä»»æ„å­—æ¯ï¼Œå¯ä»¥å®Œæˆå¤šä¸ªå¤åˆ¶ä»»åŠ¡ã€‚ nyy //å°†å½“å‰è¡Œå‘ä¸‹nè¡Œå¤åˆ¶åˆ°ç¼“å†²åŒºï¼Œä¹Ÿå¯ä»¥ç”¨ &quot;anyy å¤åˆ¶ï¼Œ&quot;a ä¸ºç¼“å†²åŒºï¼Œaä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºaåˆ°zçš„ä»»æ„å­—æ¯ï¼Œå¯ä»¥å®Œæˆå¤šä¸ªå¤åˆ¶ä»»åŠ¡ã€‚ yw //å¤åˆ¶ä»å…‰æ ‡å¼€å§‹åˆ°è¯å°¾çš„å­—ç¬¦ã€‚ nyw //å¤åˆ¶ä»å…‰æ ‡å¼€å§‹çš„nä¸ªå•è¯ã€‚ y^ //å¤åˆ¶ä»å…‰æ ‡åˆ°è¡Œé¦–çš„å†…å®¹ã€‚ y$ //å¤åˆ¶ä»å…‰æ ‡åˆ°è¡Œå°¾çš„å†…å®¹ã€‚ p //ç²˜è´´å‰ªåˆ‡æ¿é‡Œçš„å†…å®¹åœ¨å…‰æ ‡åï¼Œå¦‚æœä½¿ç”¨äº†å‰é¢çš„è‡ªå®šä¹‰ç¼“å†²åŒºï¼Œå»ºè®®ä½¿ç”¨&quot;ap è¿›è¡Œç²˜è´´ã€‚ P //ç²˜è´´å‰ªåˆ‡æ¿é‡Œçš„å†…å®¹åœ¨å…‰æ ‡å‰ï¼Œå¦‚æœä½¿ç”¨äº†å‰é¢çš„è‡ªå®šä¹‰ç¼“å†²åŒºï¼Œå»ºè®®ä½¿ç”¨&quot;aP è¿›è¡Œç²˜è´´ã€‚ æ›¿æ¢(viå‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨):s/old/new //ç”¨newæ›¿æ¢è¡Œä¸­é¦–æ¬¡å‡ºç°çš„old :s/old/new/g //ç”¨newæ›¿æ¢è¡Œä¸­æ‰€æœ‰çš„old :n,m s/old/new/g //ç”¨newæ›¿æ¢ä»nåˆ°mè¡Œé‡Œæ‰€æœ‰çš„old :%s/old/new/g //ç”¨newæ›¿æ¢å½“å‰æ–‡ä»¶é‡Œæ‰€æœ‰çš„old ç¼–è¾‘å…¶ä»–æ–‡ä»¶:e otherfilename //ç¼–è¾‘æ–‡ä»¶åä¸ºotherfilenameçš„æ–‡ä»¶ã€‚ ä¿®æ”¹æ–‡ä»¶æ ¼å¼:set fileformat=unix //å°†æ–‡ä»¶ä¿®æ”¹ä¸ºunixæ ¼å¼ï¼Œå¦‚winä¸‹é¢çš„æ–‡æœ¬æ–‡ä»¶åœ¨linuxä¸‹ä¼šå‡ºç°^Mã€‚ æ€»ç»“ï¼šå½“å¦‚æœä¸çŸ¥é“è‡ªå·±å¤„åœ¨ä»€ä¹ˆæ¨¡å¼æ—¶å¯ä»¥æŒ‰: 2æ¬¡Escé”® å³å¯å›åˆ°å‘½ä»¤æ¨¡å¼ï¼Œä¼šæœ‰æœ€åæé†’ä¸€ç‚¹ï¼š æ³¨æ„å¤§å°å†™ï¼ï¼ï¼ Linuxä¸­vimç¼–è¾‘æ³¨æ„äº‹é¡¹ 2016å¹´12æœˆ17æ—¥21:47:04 Ctrl sï¼š æš‚åœè¯¥ç»ˆç«¯ Ctrl qï¼š è®©ç»ˆç«¯ç»§ç»­è¿è¡Œ Ctrl cï¼š ä¸­æ­¢å½“å‰æ­£åœ¨æ‰§è¡Œçš„ç¨‹åºã€‚ Ctrl dï¼š ç›¸å½“äºexitå‘½ä»¤ï¼Œé€€å‡ºå½“å‰ä¼šè¯ã€‚ Ctrl zï¼š å°†å½“å‰è¿è¡Œçš„ç¨‹åºæ”¾åˆ°åå°è¿è¡Œã€‚ä¸è¿è¡Œæ—¶åŠ &amp;ç±»ä¼¼ã€‚ Tabé”®è‡ªåŠ¨è¡¥å…¨å‘½ä»¤ã€‚ Linuxä¸­Terminalå¿«æ·é”®çš„ä½¿ç”¨ 2017å¹´ 01æœˆ 09æ—¥ æ˜ŸæœŸä¸€ 22:21:36 CST æ–‡ä»¶ï¼šshift + ctrl + Tï¼š æ–°æ ‡ç­¾é¡µæ‰“å¼€æ–°çš„ç»ˆç«¯ shift + ctrl + Nï¼š æ–°çš„çª—å£æ‰“å¼€æ–°çš„ç»ˆç«¯ alt + w : å…³é—­ç»ˆç«¯ alt + Q : å…³é—­å…¨éƒ¨ç»ˆç«¯ ç¼–è¾‘ï¼šctrl + C ï¼š å¤åˆ¶ ctrl + V ï¼š ç²˜è´´ æŸ¥çœ‹ï¼šF11 ï¼š å…¨å± ctrl + = : æ”¾å¤§ ctrl + - ï¼š ç¼©å° ctrl + 0 ï¼š æ­£å¸¸å¤§å° æŸ¥æ‰¾ï¼šctrl + F ï¼š æŸ¥æ‰¾ ctrl + G ï¼š æŸ¥æ‰¾ä¸‹ä¸€ä¸ª ctrl + H ï¼š æŸ¥æ‰¾ä¸Šä¸€ä¸ª ctrl + J ï¼š æ¸…é™¤é«˜äº®æŸ¥æ‰¾ æ ‡ç­¾é¡µï¼šctrl + pgup : å‘ä¸Šç¿»é¡µ ctrl + pgdn : å‘ä¸‹ç¿»é¡µ shift + ctrl + pgup ï¼š æ ‡ç­¾å†…å®¹ç§»åŠ¨ä¹‹å·¦ä¾§æ ‡ç­¾ shift + ctrl + pgdn ï¼š æ ‡ç­¾å†…å®¹ç§»åŠ¨ä¹‹å³ä¾§æ ‡ç­¾ alt +æ•°å­— ï¼š åˆ‡æ¢è‡³æŒ‡å®šçš„æ ‡ç­¾é¡µ]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>å‘½ä»¤</tag>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu16.04å®‰è£…è®°å½•]]></title>
    <url>%2FUbuntu16.04%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[ä»¥ä¸‹çœç•¥â€œsudoâ€å‘½ä»¤è¡¨ç¤ºæ˜¯åœ¨rootæƒé™ä¸‹è¿è¡Œçš„ ubuntu16.04ä½¿ç”¨å‚è€ƒç½‘å€ Linuxä½¿ç”¨è®¾ç½® &gt;&gt;ç½‘é¡µ http://m.blog.csdn.net/article/details?id=51049513Linuxå‘½ä»¤å¤§å…¨ &gt;&gt;ç½‘é¡µ http://www.runoob.com/linux/linux-command-manual.htmlLinuxå‘½ä»¤å¤§å…¨â€“æ”¯æŒåœ¨çº¿æœå¯» http://man.linuxde.net/æ–‡æ¡£æ‰‹å†Œä¸­å¿ƒ â€“ChinaUnix &gt;&gt;ç½‘é¡µ http://man.chinaunix.net/Linux Kernel â€“ChinaUnix &gt;&gt;ç½‘é¡µ http://man.chinaunix.net/tech/lyceum/linuxK/tlk.htmlLinux Gitä½¿ç”¨ &gt;&gt;ç½‘é¡µ http://v.youku.com/v_show/id_XNzgwOTk0NDQw.html?f=22842023&amp;spm=a2hzp.8244740.0.0&amp;from=y1.7-1.1ä»¥ä¸‹çœç•¥â€œsudoâ€å‘½ä»¤è¡¨ç¤ºæ˜¯åœ¨rootæƒé™ä¸‹è¿è¡Œçš„ rootç™»å½• å…ˆè®¾å®šä¸€ä¸ªrootçš„å¯†ç ï¼š sudo passwd root root ç™»é™†ï¼š su root cp -p /etc/lightdm/lightdm.conf /etc/lightdm/lightdm.conf.bak vi /etc/lightdm/lightdm.conf åœ¨lightdm.confæœ€åå¢åŠ ä¸€è¡Œï¼š greeter-show-manual-login=true é‡å¯åï¼Œå³å¯ç”¨rootç™»å…¥ã€‚ ç³»ç»Ÿæ²¡æœ‰å£°éŸ³Ubuntuåœ¨rootç”¨æˆ·ä¸‹ï¼Œä¸ºäº†å®‰å…¨è€ƒè™‘é»˜è®¤å…³é—­ç³»ç»Ÿçš„å£°éŸ³ã€‚ å°†rootåŠ åˆ°pulseå’Œpulse-accessç»„ï¼š usermod -a -G pulse-access root gpasswd -a root pulse gpasswd -a root pulse-access ç¼–è¾‘/etc/default/pulseaudioæ–‡ä»¶ cp -p /etc/default/pulseaudio/etc/default/pulseaudio.bak vim /etc/default/pulseaudio ä¿®æ”¹ä»¥ä¸‹ä¸¤å¤„ PULSEAUDIO_SYSTEM_START=1 DISALLOW_MODULE_LOADING=0 æ”¹ä¸º1å’Œ0ï¼Œè¡¨ç¤ºå…è®¸è¿è¡Œåœ¨systemç¯å¢ƒï¼Œå…è®¸åŠ¨æ€åŠ è½½æ¨¡å—ã€‚ é‡å¯è®¡ç®—æœº æœ‰å£°éŸ³ä½†åœ¨â€œç³»ç»Ÿè®¾ç½®â€ä¸­æ— æ³•è°ƒèŠ‚å£°éŸ³ï¼š è¿è¡Œï¼š gedit /root/.profile åœ¨æ–‡ä»¶çš„æœ€åæ·»åŠ ï¼š pulseaudio --start --log-target=syslog å½“åœ¨â€œç³»ç»Ÿè®¾ç½®â€ä¸­å‡ºç°â€œä¼ªå£°éŸ³â€æ—¶ï¼Œä¸”æ— æ³•å®é™…è°ƒèŠ‚å£°éŸ³æ—¶ï¼š apt install pavucontrol pavucontrol ç³»ç»Ÿæ­£å¸¸è€³æœºæ²¡æœ‰å£°éŸ³ å‚è€ƒç½‘å€ï¼šhttp://www.linuxdiyf.com/linux/25529.html ç»ˆç«¯è¿è¡Œ alsamixer æŒ‰Mé”®æŠŠå…³é—­çš„éƒ½å¤§å¼€ï¼ˆå…³é—­çš„éƒ½æ˜¾ç¤ºçš„æ˜¯MMï¼‰ï¼Œç„¶åè°ƒèŠ‚åˆ°åˆé€‚çš„ä½ç½®ï¼Œç™½è‰²ä¸ºå®œ æœ€åä¸€é¡¹Independæ˜¾ç¤ºä¸ºONè¡¨ç¤ºè€³æœºå’ŒéŸ³ç®±åªèƒ½æœ‰ä¸€ä¸ªæœ‰å£°éŸ³ï¼ŒæŒ‰Mé”®å…³é—­åˆ™è¡¨ç¤ºè€³æœºå’ŒéŸ³ç®±å¯ä»¥åŒæ—¶æœ‰å£°éŸ³ ï¼ˆâ€“æœªè¿›è¡Œæµ‹è¯•â€“ï¼‰ è‹¥è€³æœºè¿˜æ˜¯æ²¡å£°éŸ³ï¼Œå¯æ˜¯è¯•ç€è¿è¡Œ gedit /etc/modprobe.d/alsa-base.conf åœ¨æœ€åä¸€è¡ŒåŠ å…¥ #enable headphoneoptions snd-hda-intel power_save=10 power_save_controller=N model=6stack-dig ç„¶åè¿è¡Œ apt-get remove alsa-base ç„¶åé‡å¯ shutdown -r now é‡å¯åè¿è¡Œ apt-get install alsa-base ubuntu16.04ç³»ç»Ÿå­—ä½“å˜æˆæ–¹æ¡†é—®é¢˜è¿›å…¥åˆ°å­—ä½“çš„ç›®å½•ä¸‹/usr/share/fonts/ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š cd /usr/share/fonts/ åˆ¶ä½œubuntu16.04appå¯åŠ¨å›¾æ ‡ 2016å¹´12æœˆ15æ—¥15:40:42 åœ¨æ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªStudio.desktopæ–‡ä»¶,å¹¶ç”¨geditæ‰“å¼€,ç„¶åå°†ä¸‹é¢çš„å†…å®¹å¤åˆ¶è¿›å»å¹¶ä¿®æ”¹. [Desktop Entry] Name=åº”ç”¨çš„åç§° Type=Applicationï¼ˆä¸æ”¹ï¼‰ Icon=ä½ çš„AndroidStudioè§£å‹ç›®å½•çš„ç»å¯¹è·¯å¾„/android-studio/bin/studio.png Exec=sh ä½ çš„AndroidStudioè§£å‹ç›®å½•çš„ç»å¯¹è·¯å¾„/android-studio/bin/studio.sh ä¿å­˜é€€å‡º(æ³¨æ„ï¼šæ¯ä¸€è¡Œåé¢éƒ½ä¸èƒ½æœ‰ç©ºæ ¼,å¦åˆ™å¤±è´¥) å³é”®è¯¥æ–‡ä»¶â€“&gt;å±æ€§â€“&gt;æƒé™â€“&gt;é€‰æ‹©â€œå…è®¸ä½œä¸ºç¨‹åºæ‰§è¡Œæ–‡ä»¶â€,æ­¤æ—¶å‘ç°å›¾æ ‡å˜äº†,åŒå‡»æ‰“å¼€App å®‰è£…ADB 2017å¹´01æœˆ30æ—¥ æ˜ŸæœŸä¸€ 15æ—¶57åˆ†56ç§’ å‚è€ƒï¼š http://www.itdadao.com/articles/c15a299707p0.html http://www.jianshu.com/p/8768e5bccfa8 è‹¥apt-get install å¤±è´¥ï¼š sudo add-apt-repository ppa:phablet-team/tools (åŸå§‹ppaæ›´å¥½) sudo apt-get update sudo apt-get install android-tools-adb å‡ºç°å¼‚å¸¸ï¼š E: æ— æ³•è·å¾—é” /var/lib/dpkg/lock â€“ open (11: èµ„æºä¸´æ—¶ä¸å¯ç”¨) E: æ— æ³•å¯¹ç®¡ç†ç›®å½•(/var/lib/dpkg/)åŠ é”ï¼Œæ˜¯ä¸æ˜¯å¦ä¸€ä¸ªåŒ…ç®¡ç†ç¨‹åºåœ¨ä½¿ç”¨å®ƒï¼Ÿ è§£å†³åŠæ³•ï¼š åˆ é™¤æœ‰é—®é¢˜çš„æ–‡ä»¶ å®‰è£… JDK + Eclipse + Apache Tomcat 2016å¹´12æœˆ14æ—¥15:32:34ä»¥ä¸‹çœç•¥â€œsudoâ€å‘½ä»¤è¡¨ç¤ºæ˜¯åœ¨rootæƒé™ä¸‹è¿è¡Œçš„ JDK8 ï¼ˆä¸‹è½½åœ°å€ï¼‰ http://download.oracle.com/otn-pub/java/jdk/8u111-b14/jdk-8u111-linux-x64.tar.gz åœ¨æ‰€åœ¨çš„æ–‡ä»¶å¤¹ç›®å½•ä¸‹ï¼Œå¯ä»¥ç›´æ¥æ‰“å¼€terminalï¼Œè·³è¿‡ä»¥ä¸‹ä¸¤å¥æ“ä½œï¼Œç›´æ¥è¿›è¡Œç¯å¢ƒé…ç½® cd /Downloads tar -zxvf jdk-8u101-linux-x64.tar.gz 3.é…ç½®ç¯å¢ƒå˜é‡ gedit /etc/profile åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š export JAVA_HOME=/home/lt/Java/jdk1.8.0_101(ä½ çš„Jdkç›®å½•) export PATH=$JAVA_HOME/bin:$PATH export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar æ›´æ–°æ–‡ä»¶ï¼ˆå¿…é¡»æ‰§è¡Œï¼‰ source /etc/profile noticeï¼è‹¥åœ¨ç»ˆç«¯ä¸­å‡ºç°:ç¨‹åº â€˜javacâ€™ å·²åŒ…å«åœ¨ä¸‹åˆ—è½¯ä»¶åŒ…ä¸­ï¼š update-alternatives --install /usr/bin/javac javac /root/æ–‡æ¡£/jdk1.8.0_112/bin/javac 300 update-alternatives --install /usr/bin/java java /root/æ–‡æ¡£/jdk1.8.0_112/bin/java 300 Eclipseï¼ˆeclipseå®‰è£…å·¥å…·ï¼‰ ï¼ˆä¸‹è½½åœ°å€ï¼‰ https://www.eclipse.org/downloads/download.php?file=/oomph/epp/neon/R/eclipse-inst-linux64.tar.gz è§£å‹ tar -zxcf eclipse-inst-linux64.tar.gz è¿›å…¥è§£åç›®å½•ä¸‹,åŒå‡»eclipse.instè¿è¡Œå®‰è£…ç¨‹åº è‹¥æœ‰å®‰è£…é”™è¯¯æ‰§è¡Œ mkdir jre cd jre ln -s ï¼ˆä½ çš„JDKç›®å½•/bin binï¼‰ Tomcat9 ï¼ˆä¸‹è½½åœ°å€ï¼‰ http://tomcat.apache.org/download-90.cgi åœ¨æ‰€åœ¨çš„æ–‡ä»¶å¤¹ç›®å½•ä¸‹ï¼Œå¯ä»¥ç›´æ¥æ‰“å¼€terminalï¼Œè·³è¿‡ä»¥ä¸‹ä¸¤å¥æ“ä½œï¼Œç›´æ¥è¿›è¡Œç¯å¢ƒé…ç½® cd Downloads/ unzip apache-tomcat-9.0.0.M9.zip é…ç½®ç¯å¢ƒå˜é‡ï¼š export CATLINA_HOME=/home/lt/Java/apache-tomcat-9.0.0.M9ï¼ˆæ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼‰ sourse /etc/profile å®‰è£…MySQL+WorkBrench 2016å¹´12æœˆ15æ—¥15:54:09 ä»¥ä¸‹çœç•¥â€œsudoâ€å‘½ä»¤è¡¨ç¤ºæ˜¯åœ¨rootæƒé™ä¸‹è¿è¡Œçš„ ubuntu16.04å®‰è£…mysql5.7æœªç”¨sudo apt-get updateæœªç”¨sudo apt-get upgrade apt-get install mysql-server mysql-client apt-get install libmysqlclient-dev è‡ªåŠ¨å®‰è£…ä¼šè£…ä¸Š5.7çš„clientç«¯ï¼Œä¸­é—´ä¼šå¼¹å‡ºæç¤ºæ¡†è¾“å…¥rootçš„å¯†ç  å®‰è£…å®Œæˆä¹‹åæ£€æŸ¥æ˜¯å¦æˆåŠŸã€‚socketå¤„äº listen çŠ¶æ€åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸ netstat -tap | grep mysql æœªç”¨sudo groupadd mysqlæœªç”¨sudo useradd -r -g mysql mysql ä¿®æ”¹å¯†ç  æœªç”¨sudo /usr/bin/mysqladmin -u root password ç™»é™†mysqlæ•°æ®åº“å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ï¼š mysql -u root -p -u ç”¨æˆ·åï¼Œ -p ç”¨æˆ·å¯†ç ï¼Œè¾“å…¥åæç¤ºè¾“å…¥å¯†ç ï¼Œæ­¤æ—¶è¾“å…¥å¯†ç å°±å¯ä»¥ç™»å½•åˆ°mysql å®‰è£…å®¢æˆ·ç«¯apt-get install mysql-workbench å®‰è£…RabbitVCS 2017å¹´02æœˆ06æ—¥ æ˜ŸæœŸä¸€ 14æ—¶04åˆ†24ç§’å‚è€ƒï¼šhttp://blog.csdn.net/catshitone/article/details/48022315 æ³¨ï¼š å®‰è£…å®Œæ¯•åï¼Œæ³¨é”€LogOutï¼Œé‡æ–°ç™»å½•ï¼Œåœ¨æ–‡ä»¶å¤¹å’Œæ–‡ä»¶å¤¹å†…ç‚¹å‡»é¼ æ ‡å³é”®å°±ç”¨RabbitVCSæ“ä½œå·¥å…·äº†ã€‚ å¦‚æœä¸èƒ½æ­£å¸¸è¿è¡Œåˆ™è¾“å…¥ï¼š sudo apt-get install python-nautilus python-configobj python-gtk2 python-glade2 python-svn python-dbus python-dulwich subversion meld å†æ¬¡æ›´æ–°è½¯ä»¶åŒ…åº“ï¼š sudo apt-get update æ³¨é”€LogOutï¼Œé‡æ–°ç™»å½•å³å¯ã€‚ å®‰è£…Terminator 2017å¹´02æœˆ06æ—¥ æ˜ŸæœŸä¸€ 15æ—¶53åˆ†34ç§’å‚è€ƒï¼š http://www.jianshu.com/p/cee2de32ca28 å®‰è£…ï¼š apt-get install terminator å¸è½½ï¼š apt-get remove terminator å¿«æ·é”®(è‡ªå®šä¹‰ä¹‹åçš„): æ°´å¹³åˆ†å‰²ç»ˆç«¯ : Ctrl+O å‚ç›´åˆ†å‰²ç»ˆç«¯ : Ctrl+E æœç´¢ : Ctrl+F å¤åˆ¶ : Ctrl+C ç²˜è´´ : Ctrl+V clearå±å¹• : Ctrl+G å…³é—­å½“å‰ç»ˆç«¯ : Ctrl+W é€€å‡ºå½“å‰çª—å£ : Ctrl+Q å˜åŒ–å½“å‰çª—å£ä½ç½® ï¼šsuper+R å…¨å±çŠ¶æ€ : F11 åœ¨å‚ç›´åˆ†å‰²çš„ç»ˆç«¯ä¸­å°†åˆ†å‰²æ¡å‘å³ç§»åŠ¨ :Ctrl+Right åœ¨å‚ç›´åˆ†å‰²çš„ç»ˆç«¯ä¸­å°†åˆ†å‰²æ¡å‘å·¦ç§»åŠ¨ :Ctrl+Left éšè—/æ˜¾ç¤ºæ»šåŠ¨æ¡ :Ctrl+Shift+S é…ç½®æ–‡ä»¶ï¼ˆå¯å‚è€ƒï¼‰ï¼š [global_config] handle_size = -3 enabled_plugins = CustomCommandsMenu, LaunchpadCodeURLHandler, APTURLHandler, LaunchpadBugURLHandler title_transmit_fg_color = &quot;#000000&quot; suppress_multiple_term_dialog = True title_transmit_bg_color = &quot;#3e3838&quot; inactive_color_offset = 1.0 [keybindings] [profiles] [[default]] palette = &quot;#000000:#5a8e1c:#2d5f5f:#cdcd00:#1e90ff:#cd00cd:#00cdcd:#e5e5e5:#4c4c4c:#868e09:#00ff00:#ffff00:#4682b4:#ff00ff:#00ffff:#ffffff&quot; background_image = &quot;&quot; background_darkness = 0.68 scrollback_lines = 3000 background_type = transparent use_system_font = scroll_background = False show_titlebar = False cursor_shape = ibeam font = Liberation Mono 12 background_color = &quot;#0e2424&quot; foreground_color = &quot;#e8e8e8&quot; [layouts] [[default]] [[[child1]]] type = Terminal parent = window0 profile = default [[[window0]]] type = Window parent = &quot;&quot; size = 925, 570 [plugins] ubuntuå®‰è£…Wine å‚è€ƒï¼šhttp://www.ubuntukylin.com/ukylin/forum.php?mod=viewthread&amp;tid=27068 å®‰è£…æº sudo add-apt-repository ppa:wine/wine-builds sudo apt-get update å®‰è£…wine apt-get install wine1.8 å¸è½½wine 1).å¸è½½wineä¸»ç¨‹åºï¼Œåœ¨ç»ˆç«¯é‡Œè¾“å…¥ï¼š sudo apt-get remove --purge wine 2).ç„¶ååˆ é™¤wineçš„ç›®å½•æ–‡ä»¶ï¼š rm -r ~/.wine 3).å¸è½½æ®‹ç•™ä¸ç”¨çš„è½¯ä»¶åŒ…ï¼š sudo apt-get autoremove ç»ˆç«¯ä¸­è¾“å…¥wineï¼Œæ£€æµ‹æ˜¯å¦å®‰è£…å®Œæˆ ubuntuå®‰è£…WebStorm 2017å¹´02æœˆ16æ—¥ æ˜ŸæœŸå›› 12æ—¶31åˆ†00ç§’ å‚è€ƒï¼šhttps://quanru.github.io/2016/04/17/%E4%BD%BF%E7%94%A8%20Linux%20%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91Web%E5%89%8D%E7%AB%AF/webstormä½¿ç”¨å¿«æ·é”®å‚è€ƒï¼š http://blog.csdn.net/zghekuiwu/article/details/54382145 https://github.com/damao/Intellij-IDEA-F2E#%E6%B3%A8%E5%86%8C ä¸‹è½½ï¼š http://www.jetbrains.com/webstorm/index.html è§£å‹ä¸‹è½½çš„ gz åŒ…ï¼Œåœ¨bin/ä¸‹è¿è¡Œï¼š ./webstorm.sh WebStorm é»˜è®¤æƒ…å†µä¸‹æ˜¯éœ€è¦æ”¶è´¹çš„ï¼Œå¯ä»¥ç”³è¯·ä¸ºå¼€æºé¡¹ç›®çš„è´¡çŒ®è€…æ¥è·å¾— licensesã€‚ å®‰è£…å®Œæˆåï¼Œåœ¨ File - Settings - Pluginsï¼Œé€‰æ‹©éœ€è¦å®‰è£…çš„æ’ä»¶ï¼Œä¾‹å¦‚ AngularJSã€Markdown ç­‰ã€‚ åœ¨ File - Settings - Directories ä¸‹ï¼Œé€šè¿‡ Add content Root æ¥è®¾ç½®æˆ‘ä»¬çš„é¡¹ç›®è·¯å¾„ åœ¨ File - Settings - JavaScript - Libraries ä¸‹ï¼Œå‹¾é€‰æƒ³è¦æ”¯æŒçš„åº“ï¼Œå»ºè®®å…¨éƒ¨å‹¾ä¸Šï¼ˆå¦‚ NodeJSï¼‰ã€‚ åœ¨ File - Settings - Editor - Colors &amp; Fonts - Font ä¸‹ï¼Œé€‰æ‹©è‡ªå·±æƒ³è¦çš„ä¸»é¢˜ï¼Œ ç„¶å Save asâ€¦ ä¿å­˜è‡ªå·±æƒ³è¦çš„ä¸»é¢˜åç§°ï¼Œè®¾ç½®å­—ä½“ä¸ºUbuntu Monoï¼Œ å­—ä½“è®¾ç½®ä¸º 16ï¼ˆè²Œä¼¼æœ‰ç‚¹å°ï¼Œç›¸å½“äº Eclipse ä¸‹çš„ 12ï¼‰ åœ¨ File - Settings - Appearance ä¸‹ï¼Œå‹¾é€‰ Show line numbers é€‰é¡¹ã€‚ ç ´è§£æ–¹å¼ï¼šé€‰æ‹©line server æ–¹å¼ï¼Œè¾“å…¥ï¼š http://idea.iteblog.com/key.php å®‰è£…ubuntuä¸»é¢˜ 2016å¹´12æœˆ15æ—¥14:54:25 å®‰è£…ä¸»é¢˜ç®¡ç†å·¥å…·ï¼š apt-get install unity-tweak-tool å®‰è£…ä¸»é¢˜ apt-add-repository ppa:numix/ppa apt-get update apt-get install numix-icon-theme-circle //å®‰è£…å›¾æ ‡ apt-get install numix-gtk-theme //å®‰è£…ä¸»é¢˜ å®‰è£…dockyï¼ˆMacæ¡Œé¢ä¸‹æ–¹çš„å¯åŠ¨å™¨ï¼‰ å‚è€ƒç½‘å€ï¼šhttp://www.aichengxu.com/view/992905å‚è€ƒç½‘å€ï¼šhttp://www.noobslab.com/2014/11/mbuntu-macbuntu-1410-transformation.html install docky add-apt-repository ppa:docky-core/ppa apt-get update apt-get install docky apt-get remove docky docky å®‰è£…XX-Net 2017å¹´02æœˆ04æ—¥ æ˜ŸæœŸå…­ 17æ—¶17åˆ†36ç§’ å®‰è£…xx-net å®‰è£…firefoxæˆ–è€…chrome è®¾ç½®ï¼š ç³»ç»Ÿè®¾ç½® --&gt; ç½‘ç»œ --&gt; ç½‘ç»œä»£ç† --&gt; æ–¹æ³•ï¼šè‡ªåŠ¨ é…ç½®ï¼šhttp://127.0.0.1:8086/proxy.pac å…¨å±€é…ç½® é‡ç‚¹ï¼š æ­¤é¡¹ç›®æ¥è‡ªGitHubï¼Œå¯ä»¥ç›´æ¥cloneåˆ°æœ¬åœ° éœ€è¦ä½¿ç”¨åˆ°Google AppIDï¼Œä»¥æ­¤è¿›è¡ŒæœåŠ¡å™¨éƒ¨ç½²ï¼Œä»¥è¾¾åˆ°çœŸæ­£ä¸Šç½‘çš„ç›®çš„ ä½¿ç”¨hostç§‘å­¦ä¸Šç½‘ 2016å¹´12æœˆ15æ—¥16:04:07ä½¿ç”¨hostæ–‡ä»¶è¿›è¡Œç¿»å¢™å‚è€ƒé“¾æ¥ï¼šhttps://laod.cn/hosts/2016-google-hosts.html å®‰è£…sbulime text3 2017å¹´ 01æœˆ 28æ—¥ æ˜ŸæœŸå…­ 15:05:31 CSTå®‰è£…å‚è€ƒï¼š http://www.cnblogs.com/unflynaomi/p/5704293.html æ±‰åŒ–ï¼Œä¸­æ–‡è¾“å…¥é—®é¢˜å‚è€ƒï¼š http://blog.csdn.net/u013453604/article/details/48002127 æ±‰åŒ–ï¼Œæ— æ³•è¾“å…¥ä¸­æ–‡èµ„æºï¼š http://download.csdn.net/detail/u013453604/9049633 ä¸èƒ½è¾“å…¥ä¸­æ–‡é—®é¢˜å‚è€ƒï¼š http://www.cnblogs.com/mo-wang/p/5120484.htmlï¼ˆæ­¥éª¤ä¸å…¨ï¼Œä¿®æ”¹çš„å†…å®¹å…¨é¢ï¼‰ http://www.liuqianfei.com/article/3e51f07d254b464995b0f4c94cc1d69cï¼ˆæ­¥éª¤å…¨é¢ï¼‰ é…ç½®javaï¼Œpythonï¼Œmarkdownï¼š http://www.jianshu.com/p/58bf9e4d5b32 å®‰è£…æ­¥éª¤ï¼š sudo add-apt-repository ppa:webupd8team/sublime-text-3 sudo apt-get update sudo apt-get install sublime-text-installer å®‰è£…ï¼špython3 apt install python3-pip å¸è½½ sublime text å‘½ä»¤ï¼š sudo apt-get remove sublime-text-installer å¯åŠ¨sublime text3 åœ¨terminalç»ˆç«¯ä¸­è¾“å…¥ï¼šsubl æ‰“å¼€æŒ‡å®šçš„æ–‡ä»¶ï¼š subl æ–‡ä»¶å è§£å†³sublimeæ— æ³•è¾“å…¥ä¸­æ–‡çš„é—®é¢˜åœ¨è¿›è¡Œæ‰€æœ‰æ“ä½œæ—¶é¦–å…ˆè¿›è¡Œä¾èµ–åŒ…çš„å®‰è£…ï¼šä»£ç ä¾èµ–äº gtk 2.0ï¼Œç¼–è¯‘ c éœ€è¦å®‰è£… build-essentialã€‚ sudo apt-get install build-essential libgtk2.0-dev å¦‚æœè·¯å¾„ä¸­å«æœ‰ç©ºæ ¼ï¼Œä½ å¿…é¡»ä½¿ç”¨åŒå¼•å·å°†è·¯å¾„æ‹¬èµ·æ¥ï¼š $ subl &amp;quot;~/Documents/test/my test file.txt&amp;quot; è§£å†³æ— æ³•è¾“å…¥ä¸­æ–‡é—®é¢˜ - 2017å¹´03æœˆ12æ—¥ æ˜ŸæœŸæ—¥ 15æ—¶17åˆ†24ç§’ å‚è€ƒï¼šhttp://www.jianshu.com/p/03a9092c73e2äº²æµ‹æœ‰æ•ˆï¼ è§£å†³äº‹ä»¶è¾“å…¥é—®é¢˜ å‚è€ƒï¼šhttps://my.oschina.net/antsky/blog/491146 WPSå­—ä½“ç¼ºå¤± ä¸‹è½½ç¼ºå¤±çš„å­—ä½“æ–‡ä»¶ï¼Œç„¶åå¤åˆ¶åˆ°Linuxç³»ç»Ÿä¸­çš„/usr/share/fontsæ–‡ä»¶å¤¹ä¸­ã€‚ å›½å¤–ä¸‹è½½åœ°å€ï¼šhttps://www.dropbox.com/s/lfy4hvq95ilwyw5/wps_symbol_fonts.zip å›½å†…ä¸‹è½½åœ°å€ï¼šhttps://pan.baidu.com/s/1eS6xIzosudo cp * /usr/share/fonts æ‰§è¡Œä»¥ä¸‹å‘½ä»¤,ç”Ÿæˆå­—ä½“çš„ç´¢å¼•ä¿¡æ¯ï¼š sudo mkfontscale sudo mkfontdir è¿è¡Œfc-cacheå‘½ä»¤æ›´æ–°å­—ä½“ç¼“å­˜ã€‚ sudo fc-cache é‡å¯wpså³å¯ï¼Œå­—ä½“ç¼ºå¤±çš„æç¤ºä¸å†å‡ºç°ã€‚ WPSä¸èƒ½è¾“å…¥ä¸­æ–‡é—®é¢˜ å‚è€ƒ:http://forum.ubuntu.org.cn/viewtopic.php?f=48&amp;t=476937åŸå› ï¼šç¯å¢ƒå˜é‡æœªæ­£ç¡®è®¾ç½®ï¼Œä»¥ä¸Šå¯ä»¥ç›´æ¥é’ˆå¯¹wpsè®¾ç½®ã€‚ è§£å†³åŠæ³•,ç»ˆç«¯è¾“å…¥: gedit /usr/bin/wps åœ¨æ­¤æ–‡ä»¶ä¸­è¾“å…¥ä¸€ä¸‹å†…å®¹,#!/bin/bashä¹‹å: export XMODIFIERS=&quot;@im=fcitx&quot; export QT_IM_MODULE=&quot;fcitx&quot; å®‰è£…WeChat 2016å¹´12æœˆ13æ—¥22:43:53 å®‰è£…linuxå¾®ä¿¡ï¼š ä¸‹è½½åœ°å€:https://github.com/geeeeeeeeek/electronic-wechat/releases apt-get install git git clone https://github.com/geeeeeeeeek/electronic-wechat.git cd electronic-wechat apt-get install npm apt-get install nodejs-legacy npm install &amp;&amp; npm start å®˜æ–¹æ¨èçš„å®‰è£…æ–¹æ³•ï¼š To clone and run this repository youâ€™ll need Git and Node.js (which comes with npm) installed on your computer. From your command line: Clone this repository git clone https://github.com/geeeeeeeeek/electronic-wechat.git# Go into the repositorycd electronic-wechat# Install dependencies and run the app npm install &amp;&amp; npm start To pack into an app, simply type one of these: npm run build:osx npm run build:linux]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>å‘½ä»¤</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Alias çš„ä½¿ç”¨]]></title>
    <url>%2FAlias%20%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[æ‰€æœ‰å‘½ä»¤å‡åœ¨ubuntu16.04ç¯å¢ƒä¸‹å®Œæˆï¼Œåœ¨ä¸åŒç¯å¢ƒä¸‹å¯èƒ½ä¼šæœ‰å·®å¼‚ aliasä»‹ç»aliasç”¨äºè‡ªå®šä¹‰å¿«æ·å‘½ä»¤ï¼Œé¿å…æ€»æ˜¯ä½¿ç”¨ç›¸åŒçš„ï¼Œé‡å¤çš„ï¼Œå†—é•¿çš„å‘½ä»¤æ¥æ‰§è¡Œæ“ä½œ aliasçš„ç”¨æ³•1.æ·»åŠ æ–°çš„è‡ªå®šä¹‰å¿«æ·æ–¹å¼ alias è‡ªå®šä¹‰æ–°åå­—=&quot;æ“ä½œå‘½ä»¤&quot; ç¤ºä¾‹ï¼šå°†è¿›å…¥æ–‡æ¡£ç›®å½•çš„å‘½ä»¤å®šä¹‰ä¸º cdd æ–°å‘½ä»¤ alias cdd=&quot;cd /root/æ–‡æ¡£/&quot; 2.åˆ é™¤è‡ªå®šä¹‰çš„å¿«æ·æ–¹å¼ï¼š unalias è‡ªå®šä¹‰æ–°åå­— ç¤ºä¾‹ï¼šåˆ é™¤ cdd æ–°å‘½ä»¤ unalias cdd 3.æŸ¥è¯¢è‡ªå®šä¹‰å¿«æ·æ–¹å¼ï¼š alias aliasçš„å­˜å‚¨æ³¨ï¼š è‹¥ä¸ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œåˆ™åªèƒ½åœ¨å½“å‰çš„`terminal`ä¸­ä½¿ç”¨,åªæœ‰ä¿å­˜åˆ°æ–‡ä»¶ä¸­åæ‰èƒ½ä¾›ä»¥åç»§ç»­ä½¿ç”¨ æ¥è‡ªï½/.bashrcæ–‡æ¡£çš„ä»‹ç» Alias definitions.You may want to put all your additions into a separate file like ~/.bash_aliases, instead of adding them here directly. See /usr/share/doc/bash-doc/examples in the bash-doc package. ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼Œå°†è‡ªå®šä¹‰çš„å¿«æ·é”®å­˜å…¥ç³»ç»Ÿå·²æœ‰æ–‡ä»¶ä¸­ã€‚æ­¤æ–‡ä»¶ä½äº/root/ä¸‹: vim ~/.bashrc ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼Œå°†è‡ªå®šä¹‰çš„å¿«æ·é”®å­˜å…¥â€æŒ‡å®šâ€çš„æ–°æ–‡ä»¶ä¸­ã€‚æ­¤æ–‡ä»¶ä½äº/root/ä¸‹: vim ~/.bash_aliases æ³¨ï¼š å¯¹äºä»¥ä¸Šä¸¤ä¸­æ–¹å¼ï¼Œå¿…é¡»ä½¿ç”¨ï¼š source ~/.bash_aliases å‘½ä»¤æ›´æ–°æ–‡ä»¶ï¼Œå¦åˆ™è‡ªå®šä¹‰å¿«æ·é”®å°†ä¸ä¼šè¢«æ‰¾åˆ°ï¼Œæ— æ³•èµ·ä½œç”¨ã€‚ ä¸ªäººå¿«æ·å‘½ä»¤ç»„åˆï¼š ls æŸ¥è¯¢å­—æ®µé‡Šä¹‰ï¼šhttp://blog.csdn.net/sjzs5590/article/details/8254527æ›´å¤šè¯¦ç»†ä½¿ç”¨å‚è€ƒï¼šç”¨æˆ·ç›®å½•ä¸‹çš„ .bash_profile # Alias alias ll=&apos;ls -lh -G&apos; alias la=&quot;ls -lah -G&quot; # æ˜¾ç¤ºsize alias lls=&apos;ls -lSGh&apos; alias las=&quot;ls -laSGh&quot; # æ˜¾ç¤ºè¡Œå· alias lln=&apos;ls -lh | nl&apos; alias lan=&quot;ls -lah | nl&quot; alias llns=&apos;ls -lSh | nl&apos; alias lans=&quot;ls -laSh | nl&quot; alias grep=&apos;grep --color&apos; # Hexo alias ohb=&apos;open &quot;/Users/yannischeng/Documents/HexoBLog&quot;&apos; alias ohbs=&apos;open &quot;/Users/yannischeng/Documents/HexoBLog/source/_posts&quot;&apos; alias chbl=&apos;cd &quot;/Users/yannischeng/Documents/HexoBLog&quot;&apos; alias chbsl=&apos;cd &quot;/Users/yannischeng/Documents/HexoBLog/source/_posts&quot;&apos; # python project alias opp=&apos;open /Users/yannischeng/PycharmProjects/First_Python_Project&apos; alias cppl=&apos;cd /Users/yannischeng/PycharmProjects/First_Python_Project&apos; # .bash_profile alias sup=&apos;source .bash_profile&apos; alias oup=&apos;open /Users/yannischeng/.bash_profile&apos; alias cupl=&apos;cd /Users/yannischeng/&apos; # open app alias om=&apos;open /Applications/MWeb.app&apos; alias oas=&apos;open /Applications/&quot;Android Studio&quot;.app&apos; alias osb=&apos;open /Applications/&quot;Sublime Text&quot;.app&apos; alias ogc=&apos;open /Applications/&quot;Google Chrome&quot;.app&apos; alias opc=&apos;open /Applications/PyCharm.app&apos; alias owc=&apos;open /Applications/WeChat.app&apos; alias od=&apos;open /Applications/Dictionary.app&apos; alias owm=&apos;open /Applications/NeteaseMusic.app&apos; # login mysql alias lms=&apos;mysql -u root -p&apos; # mytree alias mtree=&quot;find . -print | sed -e &apos;s;[^/]*/;|____;g;s;____|; |;g&apos;&quot;]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>å‘½ä»¤</tag>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç­–ç•¥è€…æ¨¡å¼]]></title>
    <url>%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E7%AD%96%E7%95%A5%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ä»…ä»…çŸ¥é“æŠ½è±¡ã€ç»§æ‰¿ã€å¤šæ€ã€å°è£…å¹¶ä¸ä¼šé©¬ä¸Šè®©ä½ å˜æˆå¥½çš„é¢å‘å¯¹è±¡è®¾è®¡è€…ã€‚è®¾è®¡å¤§å¸ˆå…³æ³¨çš„æ˜¯å¼¹æ€§ã€å¯ç»´æŠ¤ã€å¯åº”ä»˜æ”¹å˜çš„è®¾è®¡ã€‚ è½¯ä»¶å¼€å‘çš„ä¸€ä¸ªä¸å˜çœŸç†ï¼šCHANGEã€‚ ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰å®šä¹‰ï¼šå®šä¹‰ç®—æ³•æ—ï¼ˆä¸€ç»„è¡Œä¸ºï¼‰ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼ˆå®šä¹‰æˆä¸ºä¸åŒçš„æ¥å£ï¼‰ï¼Œè®©ä»–ä»¬ä¹‹é—´å¯ä»¥äº’ç›¸æ›¿æ¢ã€‚ æ­¤æ¨¡å¼è®©ç®—æ³•ï¼ˆè¡Œä¸ºç±»ï¼‰ä¹‹é—´çš„å˜åŒ–ç‹¬ç«‹äºç®—æ³•çš„ä½¿ç”¨è€…ï¼ˆè°ƒç”¨ç±»ï¼‰ã€‚ OOè®¾ç½®åŸåˆ™ï¼š å°è£…å˜åŒ–: a)æ‰¾å‡ºåº”ç”¨ä¸­å¯èƒ½éœ€è¦å˜åŒ–ä¹‹å¤„ï¼ŒæŠŠä»–ä»¬ç‹¬ç«‹å‡ºæ¥â€”â€”å°è£…ï¼Œä¸è¦å’Œå›ºå®šçš„ä»£ç æ··åœ¨ä¸€èµ·ã€‚ b)æŠŠä¼šå˜åŒ–çš„éƒ¨åˆ†å–å‡ºå¹¶å°è£…èµ·æ¥ï¼Œä»¥åä¾¿å¯ä»¥è½»æ˜“çš„æ”¹åŠ¨æ´»ç€æ‰©å……æ­¤éƒ¨åˆ†ï¼Œè€Œä¸å½±å“ä¸éœ€è¦å˜åŒ–çš„éƒ¨åˆ†ï¼ˆæ¯ä¸ªè®¾è®¡æ¨¡å¼èƒŒåçš„ç²¾ç¥æ‰€åœ¨ï¼‰ã€‚ é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼ˆé’ˆå¯¹è¶…ç±»å‹ç¼–ç¨‹ï¼‰ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹ï¼š a)é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼šå…³é”®æ˜¯åˆ©ç”¨å¤šæ€ï¼ˆè¿è¡Œæ—¶åŠ¨æ€çš„æ”¹å˜è¡Œä¸ºï¼‰ã€‚ b)é’ˆå¯¹è¶…ç±»å‹ç¼–ç¨‹ï¼šå˜é‡çš„å£°æ˜ç±»å‹åº”è¯¥æ˜¯è¶…ç±»å‹ï¼ˆä¸€ä¸ªæŠ½è±¡ç±»æˆ–ä¸€ä¸ªæ¥å£ï¼‰ å¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿ï¼š â€œæœ‰ä¸€ä¸ªâ€å¯èƒ½æ¯”â€œæ˜¯ä¸€ä¸ªâ€å¥½ã€‚ å®è·µä¹¦ä¸­â€œé¸­å­â€çš„å®ç°ï¼š å°†â€œé£è¡Œâ€ã€â€œé¸£å«â€è¿™äº›è¡Œä¸ºï¼ˆé¸­å­çš„è‡ªèº«å±æ€§ï¼‰æŠ½è±¡æˆâ€œé£è¡Œæ¥å£â€ã€â€œé¸£å«æ¥å£â€ï¼Œä¹‹åå†å°†â€œè¡Œä¸ºæ¥å£â€å…·ä½“å®ç°ï¼Œç»„åˆè‡³å…·ä½“çš„â€œé¸­å­ç±»â€œä¸­ã€‚]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
</search>
